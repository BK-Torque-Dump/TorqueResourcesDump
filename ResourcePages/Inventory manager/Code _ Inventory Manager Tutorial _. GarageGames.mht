Content-Type: multipart/related; start=<op.mhtml.1218025322201.4b77d30e2a5dc404@192.168.3.109>; boundary=----------sTZWzhXyREZ8dmMbW5CF2d
Content-Location: http://www.garagegames.com/index.php?sec=mg&mod=resource&page=view&qid=1955
Subject: =?utf-8?Q?Code=20:=20Inventory=20Manager=20Tutorial=20:.=20GarageGames?=
MIME-Version: 1.0

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=index.htm
Content-Type: text/html; charset=ISO-8859-1; name=index.htm
Content-Id: <op.mhtml.1218025322201.4b77d30e2a5dc404@192.168.3.109>
Content-Location: http://www.garagegames.com/index.php?sec=mg&mod=resource&page=view&qid=1955
Content-Transfer-Encoding: Quoted-Printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://w=
ww.w3.org/TR/html4/loose.dtd" >
<html>
<head>
<title>Code : Inventory Manager Tutorial :. GarageGames</title>
<META NAME=3D"Description" CONTENT=3D"GarageGames is a game development =
community changing the way games are made and played. Tips, Resources, F=
orums, Code and Art"><META NAME=3D'published' CONTENT=3D'2002-01-10'><me=
ta http-equiv=3D"content-type" content=3D"text/html;charset=3Dutf-8" >
<link REL=3D"SHORTCUT ICON" href=3D"http://www.garagegames.com/favicon.i=
co">
<link rel=3D"alternate" title=3D"GarageGames: News Headlines" href=3D"ht=
tp://feeds.garagegames.com/garagegames/rss/news" type=3D"application/rss=
+xml" />
<link rel=3D"alternate" title=3D"GarageGames: Employee Blogs" href=3D"ht=
tp://feeds.garagegames.com/garagegames/rss/blogs/garagegames" type=3D"ap=
plication/rss+xml" />
<LINK REL=3DSTYLESHEET TYPE=3D"text/css" HREF=3D"/css/site8.css"><SCRIPT=
 language=3D"JavaScript" type=3D"text/javascript" SRC=3D"http://ads.gara=
gegames.com/adx.js"></SCRIPT><SCRIPT language=3D"JavaScript" type=3D"tex=
t/javascript" SRC=3D"/js/1501/prototype.js"></SCRIPT><SCRIPT language=3D=
"JavaScript" type=3D"text/javascript" SRC=3D"/js/1501/prototype-extensio=
ns.js"></SCRIPT><SCRIPT language=3D"JavaScript" type=3D"text/javascript"=
 SRC=3D"/js/site7.js"></SCRIPT><SCRIPT language=3D"JavaScript" type=3D"t=
ext/javascript" SRC=3D"http://www.google-analytics.com/urchin.js"></SCRI=
PT><SCRIPT language=3D"JavaScript" type=3D"text/javascript">_uacct=3D"UA=
-30217-1";urchinTracker();;	function rateit(){
		var pars =3D Form.serialize('rate')
		new Ajax.Updater(
			'myrating',
			'/mg/resource/ajax.rate.resource.php',
			{ parameters: pars }
		);
	}
	function init()
	{
		if ($('ratesubmit'))
			Event.observe('ratesubmit', 'click', rateit, false);
	}
	Event.observe(window, 'load', init);
;
	function notifyit(type, id){
		var pars =3D 'id=3D' + id + '&type=3D' + type;
		new Ajax.Request(
			"/my/home/ajax.notify.php",
			{  parameters: pars,
				onSuccess: function(t) { $('notifyimg').src =3D '/images/'+t.respons=
eText+'.gif'; }
			});
		};	function doWelcome(){
		new Ajax.Request(
			"/ajax.welcome.php",
			{  onSuccess: function(resp) {
				if (!resp.responseText) return;
				$('welcome').innerHTML=3Dresp.responseText + '- <a href=3D"/myAccoun=
t/">My Account</a> / <a href=3D"/shopping/cart.php">Cart <img src=3D"/im=
ages/cart.gif"></a> / <a href=3D"/main/login/logout.php">Logout</a>';
			}});
		}
	Event.observe(window, 'load', doWelcome, false);;function query(txt, ur=
l){if(confirm(txt))location.href=3Durl;;}</SCRIPT></head>
<body>
<div id=3D"container" >
	<div id=3D"content" >
		<table border=3D0 width=3D'100%'>
   <tr>
      <td width=3D'100%' valign=3Dtop>
      <span class=3D'headlineLarge'>Inventory Manager Tutorial</span><br=
>      </td>
      <td valign=3Dcenter class=3DformBody align=3Dcenter>
         <span class=3Dtiny>Avg.&nbsp;Rating
            (of 12)         </span>
      </td>
      <td class=3DratingLarge>
         4.5      </td>
   </tr>
</table>
<table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'block=
Border'>
   <tr align=3D'left'><td>
      <span class=3D'blockTitle'>Basic Information</span><br>
      <b>Author: </b><a href=3D/my/home/view.profile.php?qid=3D1677>Tim =
Newell</a> <span class=3Dtiny>(Jan&nbsp;10,&nbsp;2002)</span><br><b>Cate=
gories: </b><a href=3D'/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3D=
category&amp;qid=3D110'>Tutorials</a>, <a href=3D'/index.php?sec=3Dmg&am=
p;mod=3Dresource&amp;page=3Dcategory&amp;qid=3D109'>Torque EngineTechnol=
ogy</a>, <a href=3D'/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Dca=
tegory&amp;qid=3D154'>Game-Specific Features</a>, <a href=3D'/index.php?=
sec=3Dmg&amp;mod=3Dresource&amp;page=3Dcategory&amp;qid=3D147'>GUI Enhan=
cements</a><br><b>Code File: <b> <a href=3D'/uploaded/code/1955.inventor=
y.zip' target=3D'_blank'>inventory.zip</a><br>   </td></tr>
</table>
<br>

<!-- Synopsis -->
<table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'block=
Border'>
   <tr align=3D'left'><td>
      <span class=3D'blockTitle'>Synopsis:</span><br>
      This is an Inventory Manager that is written in C++, contained in =
the Player class and accessed and manipulated through scripts.  This tut=
orial covers adding it to your engine and modifying the scripts to use i=
t instead of the scripted inventory system.   </td></tr>
</table>
<br>

   <table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'bl=
ockBorder'>
      <tr align=3D'left'><td>
         <span class=3D'blockTitle'>Keywords:</span><br>
         Inventory C++      </td></tr>
   </table>
   <br>
   <table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'bl=
ockBorder'>
   <tr align=3D'left'><td>
      <span class=3D'blockTitle'>Article:</span><br>
      Inventory Manager v1.0<br><br>This is an Inventory Manager that is=
 written in C++, contained in the Player class and accessed and manipula=
ted through scripts.  This tutorial covers adding it to your engine and =
modifying the scripts to use it instead of the scripted inventory system=
.<br><br><b>***UPDATED***</b><br>Updated already?<br>yep, seems that I c=
an't post a tutorial without finding a flaw in it.<br><br>I have the tut=
orial updated to store the type of item also since it is something usefu=
l and is needed in the inventory v3.  Most of the changes took place in =
Inventory.cc and Inventory.h but there were a couple in player.cc.   The=
 only script change will be in game.cs.<br><br><b>NEW:</b> After peeking=
 around the string functions in the engine, I realized that Torque had d=
efinitions for the functions I was using (plus some other useful functio=
ns) and it would take into account multiple compilers and multiplatforms=
. So I edited the Inventory.cc and Inventory.h file to use Torque define=
d functions and var types.  Download the new zip file if you already hav=
e this tutorial working. (you don't have to change anything just replace=
 your old Inventory.cc and Inventory.h files with the new ones and recom=
pile)<br><br><b>***END UPDATED***</b><br><br><b>C++ Changes</b><br><br>D=
ownload the Zip from the link on this tutorial, it contains <b>Inventory=
.cc</b> and <b>Inventory.h</b>.  They both need to be placed into <b>/en=
gine/game</b> and added to your workspace.  <br><br>Next open <b>/engine=
/game/player.h</b> and go down to the very end of the file.  <br>After <=
b>void unpackUpdate(NetConnection *, BitStream *stream);</b> and before =
<b>}; #endif</b> add:<br><br><br><div class=3D'codeblock'><pre>//Invento=
ry Object<br>Inventory inv;</pre></div><br><br>also you need to add<br><=
br>#include &quot;game/Inventory.h&quot;<br><br>at the top of player.h<b=
r><br><br>Now open <b>/engine/game/player.cc</b>.  <br><br>Go down to <b=
>static bool cCheckDismountPoint(SimObject *ptr, S32, const char **argv)=
</b> (line 3643 in my build) go after it and add these functions:<br><br=
><br><div class=3D'codeblock'><pre>/////////////////////////////////////=
//////////////////////////////<br>//Inventory Console Functions<br>/////=
//////////////////////////////////////////////////////////////<br>static=
 void cAddInvItem(SimObject *ptr, S32 argc, const char **argv) {<br>	<br=
>	Player *obj =3D static_cast&lt;Player*&gt;(ptr);<br>     <br>    obj-&=
gt;inv.AddItem((char*)argv[2], (char*)argv[3], (char*)argv[4], (char*)ar=
gv[5],(char*)argv[6]);<br>    <br>} <br><br>////////////////////////////=
////////////////////////////////////////<br>static void cRemoveInvItem(S=
imObject *ptr, S32 argc, const char **argv) {<br>	<br>	Player *obj =3D s=
tatic_cast&lt;Player*&gt;(ptr);<br>     <br>    obj-&gt;inv.RemoveItem((=
char*)argv[2]);<br>    <br>}<br><br>////////////////////////////////////=
////////////////////////////////<br>static const char* cGetInvItem(SimOb=
ject *ptr, S32 argc, const char **argv) {<br>	<br>	char *returnBuffer =3D=
 Con::getReturnBuffer(256);<br>	Player *obj =3D static_cast&lt;Player*&g=
t;(ptr);<br>    dSprintf(returnBuffer,256,&quot;&quot;);<br>	obj-&gt;inv=
.GetItem((char*)argv[2], (char*)argv[3], returnBuffer);<br>	return retur=
nBuffer;<br>    <br>}<br><br>///////////////////////////////////////////=
/////////////////////////<br>static bool cMoveCurPtr(SimObject *ptr, S32=
 argc, const char **argv) {<br>	<br>	Player *obj =3D static_cast&lt;Play=
er*&gt;(ptr);<br><br>	return obj-&gt;inv.MoveCurrent((char*)argv[2]);<br=
>    <br>}<br><br>//////////////////////////////////////////////////////=
//////////////<br>static bool cIncInvItem(SimObject *ptr, S32 argc, cons=
t char **argv) {<br>	<br>	Player *obj =3D static_cast&lt;Player*&gt;(ptr=
);<br><br>	return obj-&gt;inv.IncAmount((char*)argv[2],(char*)argv[3]);<=
br>    <br>}<br><br>////////////////////////////////////////////////////=
////////////////<br>static bool cDecInvItem(SimObject *ptr, S32 argc, co=
nst char **argv) {<br>	<br>	Player *obj =3D static_cast&lt;Player*&gt;(p=
tr);<br><br>	return obj-&gt;inv.DecAmount((char*)argv[2],(char*)argv[3])=
;<br>    <br>}<br><br>//////////////////////////////////////////////////=
//////////////////<br>static bool cSetInvItem(SimObject *ptr, S32 argc, =
const char **argv) {<br>	<br>	Player *obj =3D static_cast&lt;Player*&gt;=
(ptr);<br><br>	return obj-&gt;inv.SetAmount((char*)argv[2],(char*)argv[3=
]);<br>    <br>}<br><br>////////////////////////////////////////////////=
////////////////////<br>static void cClearInv(SimObject *ptr, S32, const=
 char **) {<br>	<br>	Player *obj =3D static_cast&lt;Player*&gt;(ptr);<br=
><br>	obj-&gt;inv.ClearInventory();<br>    <br>}</pre></div><br><br>Next=
 Scroll down further to <b>void Player::consoleInit()</b> and add the fo=
llowing lines after the <b>Con::addCommand(&quot;Player&quot;, &quot;che=
ckDismountPoint&quot;, cCheckDismountPoint, &quot;obj.checkDismountPoint=
(\&quot;x y z\&quot;, \&quot;x y z\&quot;)&quot;, 4, 4);</b> line:<br><b=
r><br><div class=3D'codeblock'><pre>   //Inventory Console Commands<br> =
  Con::addCommand(&quot;Player&quot;, &quot;addInvItem&quot;, cAddInvIte=
m, &quot;obj.addInvItem(name,amount,type,description,max)&quot;, 7, 7);<=
br>   Con::addCommand(&quot;Player&quot;, &quot;removeInvItem&quot;, cRe=
moveInvItem, &quot;obj.removeInvItem(name)&quot;, 3, 3);<br>   Con::addC=
ommand(&quot;Player&quot;, &quot;getInvItem&quot;, cGetInvItem, &quot;ob=
j.getInvItem(type,rettype)&quot;, 4, 4);<br>   Con::addCommand(&quot;Pla=
yer&quot;, &quot;moveCurPtr&quot;, cMoveCurPtr, &quot;obj.moveCurPtr(mov=
e)&quot;, 3, 3);<br>   Con::addCommand(&quot;Player&quot;, &quot;incInvI=
tem&quot;, cIncInvItem, &quot;obj.incInvItem(name,amount)&quot;, 4, 4);<=
br>   Con::addCommand(&quot;Player&quot;, &quot;decInvItem&quot;, cDecIn=
vItem, &quot;obj.decInvItem(name,amount)&quot;, 4, 4);<br>   Con::addCom=
mand(&quot;Player&quot;, &quot;setInvItem&quot;, cSetInvItem, &quot;obj.=
setInvItem(name,amount)&quot;, 4, 4);<br>   Con::addCommand(&quot;Player=
&quot;, &quot;clearInv&quot;, cClearInv, &quot;obj.clearInv()&quot;, 2, =
2);</pre></div><br><br>Now compile torque and get ready to change out th=
e inventory system in the scripts.  There is a lot of changes that are m=
ade so if a change(s) has been made in a function, I am going to just po=
st the entire function.<br><br><br><b>Script Changes</b><br><br>All of t=
he script changes will be scripts in this dir: <b>example\fps\server\scr=
ipts</b><br><br>First open <b>game.cs</b><br><br>in the function <b>Game=
Connection::createPlayer(%this, %spawnPoint)</b> after the line:<br><br>=
<b>%player.setShapeName(%this.name);</b><br><br>Add the following code:<=
br><br><br><div class=3D'codeblock'><pre>   //Init Inventory to all Inve=
ntory-able objects<br>   %player.addInvItem(&quot;Rifle&quot;, &quot;0&q=
uot;,&quot;weapon&quot;,&quot;This is a strange blue rifle.&quot;,1);<br=
>   %player.addInvItem(&quot;Crossbow&quot;, &quot;0&quot;,&quot;weapon&=
quot;,&quot;This is a strange blue crossbow.&quot;,1);<br>   %player.add=
InvItem(&quot;RifleAmmo&quot;, &quot;0&quot;,&quot;ammo&quot;,&quot;This=
 is ammo for a rifle.&quot;,100);<br>   %player.addInvItem(&quot;Crossbo=
wAmmo&quot;, &quot;0&quot;,&quot;ammo&quot;,&quot;This is ammo for a cro=
ssbow.&quot;,50);<br>   %player.addInvItem(&quot;HealthKit&quot;, &quot;=
0&quot;,&quot;healthKit&quot;,&quot;This heals you up real nice.&quot;,1=
);</pre></div><br><br>Next Open <b>Item.cs</b> and replace your function=
s with the functions in the following code:<br><br><br><div class=3D'cod=
eblock'><pre>function ItemData::onThrow(%this,%user,%amount)<br>{<br>   =
// Remove the object from the inventory<br>   if (%amount $=3D &quot;&qu=
ot;)<br>      %amount =3D 1;<br><br>   if (%this.maxInventory !$=3D &quo=
t;&quot;)<br>      if (%amount &gt; %this.maxInventory)<br>         %amo=
unt =3D %this.maxInventory;<br>   if (!%amount)<br>      return 0;<br>  =
 <br>   if (%user.decInvItem(%this.getName(),%amount) =3D=3D 0) <br>    =
   return 0;<br><br>   %this.onInventory(%user,%user.getInvItem(%this.ge=
tName(),&quot;amount&quot;));<br><br>   // Construct the actual object i=
n the world, and add it to <br>   // the mission group so it's cleaned u=
p when the mission is<br>   // done.  The object is given a random z rot=
ation.<br>   %obj =3D new Item() {<br>      datablock =3D %this;<br>    =
  rotation =3D &quot;0 0 1 &quot; @ (getRandom() * 360);<br>      count =
=3D %amount;<br>   };<br>   MissionGroup.add(%obj);<br>   %obj.scheduleP=
op();<br>   return %obj;<br>}<br><br>function ItemData::onPickup(%this,%=
obj,%user,%amount)<br>{<br>   // Add it to the inventory, this currently=
 ignores the request<br>   // amount, you get what you get.  If the obje=
ct doesn't have<br>   // a count or the datablock doesn't have maxIvento=
ry set, the<br>   // object cannot be picked up.<br>   %count =3D %obj.c=
ount;<br>   <br>   if (%count $=3D &quot;&quot;)<br>      if (%this.maxI=
nventory !$=3D &quot;&quot;) {<br>         if (!(%count =3D %this.maxInv=
entory))<br>            return;<br>      }<br>      else<br>         %co=
unt =3D 1;<br>   <br>   if (%user.incInvItem(%this.getName(),%count) =3D=
=3D 0)<br>       return 0;<br>   %this.onInventory(%user,%user.getInvIte=
m(%this.getName(),&quot;amount&quot;));<br>   <br>   // Inform the clien=
t what they got.<br>   if (%user.client)<br>      messageClient(%user.cl=
ient, 'MsgItemPickup', '\c0You picked up %1', %this.pickupName);<br><br>=
   // If the item is a static respawn item, then go ahead and<br>   // r=
espawn it, otherwise remove it from the world.<br>   // Anything not tak=
en up by inventory is lost.<br>   if (%obj.isStatic())<br>      %obj.res=
pawn();<br>   else<br>      %obj.delete();<br>   return true;<br>}</pre>=
</div><br><br>Next open <b>player.cs</b> and <b>DELETE</b> the following=
 code:<br>(The code is located at the end of <b>datablock PlayerData(Lig=
htMaleHumanArmor)</b>)<br><br><br><div class=3D'codeblock'><pre>        =
	// Allowable Inventory Items<br>               	maxInv[BulletAmmo] =3D =
20;<br>   		maxInv[HealthKit] =3D 1;<br>   		maxInv[RifleAmmo] =3D 100;<=
br>   		maxInv[CrossbowAmmo] =3D 50;<br>   		maxInv[Crossbow] =3D 1;<br>=
   		maxInv[Rifle] =3D 1;</pre></div><br><br>Next Open <b>crossbow.cs</b=
> and replace your function with the function in the following code:<br>=
<br><br><div class=3D'codeblock'><pre>function CrossbowImage::onFire(%th=
is, %obj, %slot)<br>{<br>   %projectile =3D %this.projectile;<br><br>   =
// Decrement inventory ammo. The image's ammo state is update<br>   // a=
utomatically by the ammo inventory hooks.<br>   if (%obj.decInvItem(%thi=
s.ammo.getName(),1) =3D=3D 0) <br>       return 0;<br>   %this.ammo.onIn=
ventory(%obj,%obj.getInvItem(%this.ammo.getName(),&quot;amount&quot;));<=
br><br>   // Determin initial projectile velocity based on the <br>   //=
 gun's muzzle point and the object's current velocity<br>   %muzzleVecto=
r =3D %obj.getMuzzleVector(%slot);<br>   %objectVelocity =3D %obj.getVel=
ocity();<br>   %muzzleVelocity =3D VectorAdd(<br>      VectorScale(%muzz=
leVector, %projectile.muzzleVelocity),<br>      VectorScale(%objectVeloc=
ity, %projectile.velInheritFactor));<br><br>   // Create the projectile =
object<br>   %p =3D new (%this.projectileType)() {<br>      dataBlock   =
     =3D %projectile;<br>      initialVelocity  =3D %muzzleVelocity;<br>=
      initialPosition  =3D %obj.getMuzzlePoint(%slot);<br>      sourceOb=
ject     =3D %obj;<br>      sourceSlot       =3D %slot;<br>      client =
          =3D %obj.client;<br>   };<br>   MissionCleanup.add(%p);<br>   =
return %p;<br>}</pre></div><br><br>Next Open <b>rifle.cs</b> and replace=
 your function with the function in the following code:<br><br><br><div =
class=3D'codeblock'><pre>function RifleImage::onFire(%this, %obj, %slot)=
<br>{<br>   %projectile =3D %this.projectile;<br><br>   // Decrement inv=
entory ammo. The image's ammo state is update<br>   // automatically by =
the ammo inventory hooks.<br>   if (%obj.decInvItem(%this.ammo.getName()=
,1) =3D=3D 0) <br>       return 0;<br><br>   %this.ammo.onInventory(%obj=
,%obj.getInvItem(%this.ammo.getName(),&quot;amount&quot;));<br>   <br><b=
r>   // Determin initial projectile velocity based on the <br>   // gun'=
s muzzle point and the object's current velocity<br>   %muzzleVector =3D=
 %obj.getMuzzleVector(%slot);<br>   %objectVelocity =3D %obj.getVelocity=
();<br>   %muzzleVelocity =3D VectorAdd(<br>      VectorScale(%muzzleVec=
tor, %projectile.muzzleVelocity),<br>      VectorScale(%objectVelocity, =
%projectile.velInheritFactor));<br><br>   // Create the projectile objec=
t<br>   %p =3D new (%this.projectileType)() {<br>      dataBlock        =
=3D %projectile;<br>      initialVelocity  =3D %muzzleVelocity;<br>     =
 initialPosition  =3D %obj.getMuzzlePoint(%slot);<br>      sourceObject =
    =3D %obj;<br>      sourceSlot       =3D %slot;<br>      client      =
     =3D %obj.client;<br>   };<br>   MissionCleanup.add(%p);<br>   retur=
n %p;<br>}</pre></div><br><br>Next Open <b>health.cs</b> and replace you=
r function with the function in the following code:<br><br><br><div clas=
s=3D'codeblock'><pre>function HealthKit::onUse(%this,%user)<br>{<br>   /=
/ Apply some health to whoever uses it, the health kit is only<br>   // =
used if the user is currently damaged.<br>   if (%user.getDamageLevel() =
!=3D 0) {<br>      if (%user.decInvItem(%this.getName(),1) =3D=3D 0) <br=
>          return 0;<br>	  %this.onInventory(%user,%user.getInvItem(%thi=
s.getName(),&quot;amount&quot;));<br>      %user.applyRepair(%this.repai=
rAmount);<br>      if (%user.client)<br>         messageClient(%user.cli=
ent, 'MsgHealthKitUsed', '\c2Health Kit Applied');<br>   }<br>}</pre></d=
iv><br><br>Next Open <b>weapon.cs</b> and replace your functions with th=
e functions in the following code:<br><br><br><div class=3D'codeblock'><=
pre>function WeaponImage::onMount(%this,%obj,%slot)<br>{<br>   // Images=
 assume a false ammo state on load.  We need to<br>   // set the state a=
ccording to the current inventory.<br>   if (%obj.getInvItem(%this.ammo.=
getName(),&quot;amount&quot;) !$=3D &quot;&quot;) {<br><br>       %obj.s=
etImageAmmo(%slot,true);<br><br>   }<br><br>}<br><br>function Ammo::onIn=
ventory(%this,%obj,%amount)<br>{<br>   // The ammo inventory state has c=
hanged, we need to update any<br>   // mounted images using this ammo to=
 reflect the new state.<br>   // Edited for Ammo Hud<br>   for (%i =3D 0=
; %i &lt; 8; %i++) {<br>      if ((%image =3D %obj.getMountedImage(%i)) =
&gt; 0)<br>         if (isObject(%image.ammo) &amp;&amp; %image.ammo.get=
Id() =3D=3D %this.getId()) {<br>            %obj.setImageAmmo(%i,%amount=
 !=3D 0);<br>		 }<br>   }<br>}</pre></div><br><br>Next is <b>Inventory.c=
s</b>, Im just gonna paste the entire file(except the opening comments) =
here since a lot of functions were deleted:<br><br><br><div class=3D'cod=
eblock'><pre>//---------------------------------------------------------=
--------------------<br>// Inventory server commands<br>//--------------=
---------------------------------------------------------------<br><br>f=
unction serverCmdUse(%client,%data)<br>{<br>   %client.getControlObject(=
).use(%data);<br>}<br><br>//--------------------------------------------=
---------------------------------<br>// ShapeBase inventory support<br>/=
/-----------------------------------------------------------------------=
------<br><br>//--------------------------------------------------------=
---------------------<br><br>function ShapeBase::use(%this,%data)<br>{<b=
r>   // Use an object in the inventory.<br>   if (%this.getInvItem(%data=
.getName(),&quot;amount&quot;) &gt; 0)<br>      return %data.onUse(%this=
);<br>   return false;<br>}<br><br>function ShapeBase::throw(%this,%data=
,%amount)<br>{<br>   // Throw objects from inventory. The onThrow method=
 is<br>   // responsible for decrementing the inventory.<br>   if (%this=
.getInvItem(%data.getName(),&quot;amount&quot;) &gt; 0) {<br>      %obj =
=3D %data.onThrow(%this,%amount);<br>      if (%obj) {<br>         %this=
.throwObject(%obj);<br>         return true;<br>      }<br>   }<br>   re=
turn false;<br>}<br><br>function ShapeBase::pickup(%this,%obj,%amount)<b=
r>{<br>   // This method is called to pickup an object and add it<br>   =
// to the inventory. The datablock onPickup method is actually<br>   // =
responsible for doing all the work, including incrementing<br>   // the =
inventory.<br>   %data =3D %obj.getDatablock();<br><br>   // Try and pic=
kup the max if no value was specified<br>   if (%amount $=3D &quot;&quot=
;)<br>      %amount =3D %this.getInvItem(%data.getName(),&quot;max&quot;=
) - %this.getInvItem(%data.getName(),&quot;amount&quot;);<br><br>   // T=
he datablock does the work...<br>   if (%amount &lt; 0)<br>      %amount=
 =3D 0;<br>   if (%amount)<br>      return %data.onPickup(%obj,%this,%am=
ount);<br>   return false;<br>}<br><br>//-------------------------------=
----------------------------------------------<br><br>function ShapeBase=
::throwObject(%this,%obj)<br>{<br>   // Throw the given object in the di=
rection the shape is looking.<br>   // The force value is hardcoded acco=
rding to the current default<br>   // object mass and mission gravity (2=
0m/s^2).<br>   %throwForce =3D %this.throwForce;<br>   if (!%throwForce)=
<br>      %throwForce =3D 20;<br><br>   // Start with the shape's eye ve=
ctor...<br>   %eye =3D %this.getEyeVector();<br>   %vec =3D vectorScale(=
%eye, %throwForce);<br><br>   // Add a vertical component to give the ob=
ject a better arc<br>   %verticalForce =3D %throwForce / 2;<br>   %dot =3D=
 vectorDot(&quot;0 0 1&quot;,%eye);<br>   if (%dot &lt; 0)<br>      %dot=
 =3D -%dot;<br>   %vec =3D vectorAdd(%vec,vectorScale(&quot;0 0 &quot; @=
 %verticalForce,1 - %dot));<br><br>   // Add the shape's velocity<br>   =
%vec =3D vectorAdd(%vec,%this.getVelocity());<br><br>   // Set the objec=
t's position and initial velocity<br>   %pos =3D getBoxCenter(%this.getW=
orldBox());<br>   %obj.setTransform(%pos);<br>   %obj.applyImpulse(%pos,=
%vec);<br><br>   // Since the object is thrown from the center of the<br=
>   // shape, the object needs to avoid colliding with it's<br>   // thr=
ower.<br>   %obj.setCollisionTimeout(%this);<br>}<br><br><br>//---------=
--------------------------------------------------------------------<br>=
// Callback hooks invoked by the inventory system<br>//-----------------=
------------------------------------------------------------<br><br>//--=
------------------------------------------------------------------------=
---<br>// ShapeBase object callbacks invoked by the inventory system<br>=
<br>function ShapeBase::onInventory(%this, %data, %value)<br>{<br>   // =
Invoked on ShapeBase objects whenever their inventory changes<br>   // f=
or the given datablock.<br>}<br><br><br>//------------------------------=
-----------------------------------------------<br>// ShapeBase databloc=
k callback invoked by the inventory system.<br><br>function ShapeBaseDat=
a::onUse(%this,%user)<br>{<br>   // Invoked when the object uses this da=
tablock, should return<br>   // true if the item was used.<br>   return =
false;<br>}<br><br>function ShapeBaseData::onThrow(%this,%user,%amount)<=
br>{<br>   // Invoked when the object is thrown.  This method should<br>=
   // construct and return the actual mission object to be<br>   // phys=
ically thrown.  This method is also responsible for<br>   // decrementin=
g the user's inventory.<br>   return 0;<br>}<br><br>function ShapeBaseDa=
ta::onPickup(%this,%obj,%user,%amount)<br>{<br>   // Invoked when the us=
er attempts to pickup this datablock object.<br>   // The %amount argume=
nt is the space in the user's inventory for<br>   // this type of databl=
ock.  This method is responsible for<br>   // incrementing the user's in=
ventory is something is addded.<br>   // Should return true if something=
 was added to the inventory.<br>   return false;<br>}<br><br>function Sh=
apeBaseData::onInventory(%this,%user,%value)<br>{<br>   // Invoked whene=
ver an user's inventory total changes for<br>   // this datablock.<br>}<=
/pre></div><br><br><br><b>[Scripting Functions of Inventory System]</b><=
br><br><b>obj.addInvItem(name,amount,type,description,max);</b> - Adds a=
n item to the System.  The Params are the Item's name, amount of the ite=
m(should be 0 since player doesnt really have one), the type of item (we=
apon, ammo, etc), a description of the item (will be used in the Invento=
ry GUI), and the max number of the items the player can hold.<br><br><b>=
obj.removeInvItem(name);</b> - Removes an Item from the System Note: not=
 from the player just the inventory system and also this is not the same=
 thing as setting it to 0, this removes it totally.<br><br><b>obj.getInv=
Item(type,rettype);</b> - the &quot;type&quot; variable can be &quot;fir=
st&quot;, &quot;current&quot;, or the specific name of the item.  the &q=
uot;rettype&quot; variable can be &quot;name&quot;, &quot;amount&quot;, =
&quot;type&quot;, &quot;description&quot;, &quot;max&quot;, or &quot;&qu=
ot;. (if you specify &quot;&quot; it will return the name, amount, type,=
 and description separated by &quot;\t&quot;)  If the object cant be fou=
nd it will return &quot;&quot;, if the type is found but not the rettype=
, then it will return the same thing as &quot;&quot;.  NOTE: &quot;curre=
nt&quot; is a floating pointer that can be maipulated with the next func=
tion, it defaults at the beginning to equal &quot;first&quot;.<br><br><b=
>obj.moveCurPtr(move);</b> - moves the pointer in the list.  move can be=
 &quot;next&quot;, &quot;last&quot; (previous item, not last in the list=
), or &quot;first&quot;;  it returns 1 if it moves the pointer and 0 if =
it is unable to move the pointer.<br><br><b>obj.incInvItem(name,amount);=
</b> - increments the &quot;name&quot;d items amount by the &quot;amount=
&quot; specified.  returns 1 if it increments and returns 0 if it could =
not increment (you were already at the max or the item did not exist)<br=
><br><b>obj.decInvItem(name,amount);</b> - decrements the &quot;name&quo=
t;d item's amount by the &quot;amount&quot; specified.  returns 1 if it =
decrements and returns 0 if it could not decrement (you were already at =
0 or the item did not exist)<br><br><b>obj.setInvItem(name,amount);</b> =
- sets the &quot;name&quot;d item's amount to the &quot;amount&quot; spe=
cified.  returns 1 if it set the value and returns 0 if it could not. (t=
he item doesnt exist)<br><br><b>obj.clearInv();</b> - sets all of the it=
em's amounts to 0.  This does not delete the items.<br><br><br><br><br>T=
hat concludes all of the changes to get the inventory manager system to =
replace the old one.  So far that gives no benifits, but when you add a =
GUI Inventory viewer like my previous Inventory Popup tutorial and Inven=
tory v2 tutorial this system makes it a lot nicer and easier to add.  I =
will have another tutorial soon after this one labeled Inventory v3 tuto=
rial and it will simply be Inventory v2 but it will be using this new in=
ventory system.  Stay tuned!<br><br>Thanks Phil Carlisle for the suggest=
ions.   </td></tr>
</table>
<br>

<a href=3D'/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Doverview'>
<img src=3D'/images/go.gif' border=3D0 hspace=3D4 alt=3D'Submit Resource=
'>Submit your own resources!</a><br>
<br>
   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D6882'>Scott Schaefer</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;10,&nbsp;2002&nbsp;at&nbs=
p;15:42)</span>   </td></tr>
   </table>
   And thank YOU for taking the time to make it.  Your contribution to t=
he cause is much appreciated, Tim.<br><br>Keep up the good work...<br><b=
r>Scott &quot;ILL HANDLE THIS&quot; Schaefer<br><br>   <table width=3D'1=
00%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D6221'>Oscar</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;14,&nbsp;2002&nbsp;at&nbsp;19:37)<=
/span>   </td></tr>
   </table>
   I can't get the engine to compile, and I know I did everything right.=
..hmm...any ideas what might be causing it?<br><br>   <table width=3D'10=
0%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D6221'>Oscar</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;14,&nbsp;2002&nbsp;at&nbsp;19:42)<=
/span>   </td></tr>
   </table>
   Nevermind, got it all to work...Great tut dude!<br><br>   <table widt=
h=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D2793'>Bryan Walters</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;19,&nbsp;2002&nbsp;at&nbsp=
;05:05)</span>   </td></tr>
   </table>
   Hey Tim, <br> I found a few flaws myself in the engine code you have =
up. I'll email you my changes and you can post them up here. Hopefully i=
t will help out more people without making them fustrated like I was.<br=
><br>Bryan<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D1677'>Tim Newell</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;22,&nbsp;2002&nbsp;at&nbsp;12=
:26)</span>   </td></tr>
   </table>
   I updated Inventory.cc and Inventory.h to use Torque defined string f=
unctions and var types since it would take into account multiple compile=
rs and platforms.<br><br>Download the new zip file if you already have t=
his tutorial working. (you don't have to change anything just replace yo=
ur old Inventory.cc and Inventory.h files with the new ones and recompil=
e) <br><br>-Tim aka Spock<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D3683'>Bruce R Anderson</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;02,&nbsp;2002&nbsp;at&n=
bsp;00:04)</span>   </td></tr>
   </table>
   Would be great to have container items as well.<br><br>   <table widt=
h=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D856'>Michael Cozzolino</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;14,&nbsp;2002&nbsp;at&n=
bsp;14:47)</span>   </td></tr>
   </table>
   Shouldn't <br><br>if (%obj.getInvItem(%this.ammo.getName(),&quot;amou=
nt&quot;) !$=3D &quot;&quot;)<br><br>be<br><br>if (%obj.getInvItem(%this=
.ammo.getName(),&quot;amount&quot;) !$=3D &quot;0&quot;)<br><br>The othe=
r way had my weapon  false fire when I ran out of ammo then switched  to=
 another weapon then back to the weapon with no ammo.  <br><br>With the =
0 my weapon wouldn't false fire when I go back to the weapon with no amm=
o.<br><br><br>This is the function I am talking about.<br><br>function W=
eaponImage::onMount(%this,%obj,%slot)<br>{<br>   // Images assume a fals=
e ammo state on load.  We need to<br>   // set the state according to th=
e current inventory.<br>   if (%obj.getInvItem(%this.ammo.getName(),&quo=
t;amount&quot;) !$=3D &quot;&quot;) {<br><br>       %obj.setImageAmmo(%s=
lot,true);<br><br>   }<br><br>}<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D1677'>Tim Newell</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;08,&nbsp;2002&nbsp;at&nbsp;00=
:50)</span>   </td></tr>
   </table>
   Thanks for the bug report.<br><br>Ill update the tutorial with it whe=
n I make another update.  It was found that the manager doesnt work in M=
P...I found the reason..at least Im 90% sure I did :)  Just have to test=
 it then Ill update the tutorial with both.<br><br>-Tim aka Spock<br><br=
>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D12398'>Anthony Mineo</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;04,&nbsp;2002&nbsp;at&nbs=
p;02:05)</span>   </td></tr>
   </table>
   ---<br><span class=3D'forumSmallBlack'><i>Edited on Dec&nbsp;04,&nbsp=
;2002 02:53</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D12398'>Anthony Mineo</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;04,&nbsp;2002&nbsp;at&nbs=
p;02:08)</span>   </td></tr>
   </table>
   Hey good work man on your other tuts also!<br><span class=3D'forumSma=
llBlack'><i>Edited on Dec&nbsp;04,&nbsp;2002 03:33</i></span><br><br>   =
<table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D18963'>X-Tatic</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;26,&nbsp;2003&nbsp;at&nbsp;11:4=
7)</span>   </td></tr>
   </table>
   ----------------<br><span class=3D'forumSmallBlack'><i>Edited on Jul&=
nbsp;09,&nbsp;2004 05:16</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D15691'>F.W. Hardijzer</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;18,&nbsp;2003&nbsp;at&nb=
sp;12:22)</span>   </td></tr>
   </table>
   replace all the &amp;###1###80; crap with a ' :)<br>(that is a high c=
omma :P)<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D10752'>Kimberly Unger</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;27,&nbsp;2004&nbsp;at&nb=
sp;18:39)</span>   </td></tr>
   </table>
   I have tried adding the inventory system to my code but I'm getting a=
n &quot;Unknown command&quot; error message for addInvItem and getInvIte=
m.  What is happing?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D12656'>Frogger</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;04,&nbsp;2004&nbsp;at&nbsp;01:0=
7)</span>   </td></tr>
   </table>
   the latyest build released as of this day im posting, i can't find so=
me of the things in player.cc i have seen it at work before. good work!<=
br><br>EDIT: no, i found the same thins, just a little different wording=
....<br><span class=3D'forumSmallBlack'><i>Edited on Mar&nbsp;04,&nbsp;2=
004 01:40</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;16,&nbsp;2004&nbsp;at&nbsp;02:5=
2)</span>   </td></tr>
   </table>
   uh..  &quot;static bool cCheckDismountPoint(SimObject *ptr, S32, cons=
t char **argv)&quot;  is not in player.cc  nor is it in any other part o=
f torque..  am i just stupid?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;16,&nbsp;2004&nbsp;at&nbsp;02:5=
5)</span>   </td></tr>
   </table>
   nvm  :-p<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;11,&nbsp;2004&nbsp;at&nbsp;04:5=
3)</span>   </td></tr>
   </table>
   What would be the easiest way to implement clips into this? I can wri=
te the code.. i just need to know were to start..  i'd obviusly need to =
keep track of the amount of bullets in the clip..  could i just add a Bu=
lletammount to InvItem but then it'd be wasting a whole.. 32 bits of dat=
a for every item that isnt a clip.. right?<br><br>   <table width=3D'100=
%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;11,&nbsp;2004&nbsp;at&nbsp;22:0=
0)</span>   </td></tr>
   </table>
   I'v got everything coded and scripted.. but now i just need a way to =
get the amount of bullet the clip can hold.. i know i can add a variable=
 to AddInvItem() but i'm not sure if this would be the best way..<br><br=
>after then i need a way for weapons to store the amount of bullets in t=
heir &quot;current&quot; clip..  and then when the weapon is picked up..=
. the ammo as well as the number of bullets it has will be added.. to yo=
ur inventory..<br><br>hem..  if anyone has any idea on how to optimize t=
his.. or a better way or anything.. i'd be more then happy to talk about=
 it..<br><br><br>Btw, i'm just kinda chit chatting right now.. lol<br><b=
r>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;12,&nbsp;2004&nbsp;at&nbsp;07:5=
9)</span>   </td></tr>
   </table>
   Ok, I'v gotten all of the code writen.. now i just need to adjust som=
e of the weapon states to work with the new code..<br><br>I want to relo=
ad when the clip has no more bullets in it..  and i'v looked in shapeIma=
ge.cc and i cant figure out whats setting stateTransitionOnNoAmmo to tru=
e..<br><br>i need it to be set to true only when the bullets in the clip=
 are out..<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;18,&nbsp;2004&nbsp;at&nbsp;19:1=
2)</span>   </td></tr>
   </table>
   Heres something i could figure out..  how this works..  whats this co=
de all about?<br><br>struct InvItem {<br><br>char Name[256];<br>S32 Amou=
nt;<br>S32 BulletAmount;<br>char Type[256];<br>char Description[256];<br=
>S32 Max;<br><br>};<br><br>struct InvLink {<br><br>InvItem ItemData;<br>=
<br>InvLink* nextLink;<br>InvLink* lastLink;<br><br>};<br><br>InvLink* F=
irstItemInList;<br>InvLink* CurrentItemInList;<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;18,&nbsp;2004&nbsp;at&nbsp;19:2=
5)</span>   </td></tr>
   </table>
   Like i dont understand how the link list works.. how does nextlink co=
ntain the next link.. i dont get that..<br><br>   <table width=3D'100%'>=

   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;24,&nbsp;2004&nbsp;at&nbsp;21:1=
1)</span>   </td></tr>
   </table>
   Tim: Have you looked into how to cycle through all the current weapon=
s you have? <br><br>I'm now trying to find a way to change the weapon yo=
u are holding like in tribes 2.. <br><br>any ideas?<br><br>   <table wid=
th=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D1677'>Tim Newell</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;24,&nbsp;2004&nbsp;at&nbsp;21=
:34)</span>   </td></tr>
   </table>
   Check out my Reloading resource at <br><br>http://www.garagegames.com=
/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Dview&amp;qid=3D2286<br=
><br>Look up the data structure link lists on google.com  Basically next=
Item contains the next link because its a pointer to it.  If you don't u=
nderstand pointers, then link lists will be a very hard thing to grasp h=
ow it works.  Cycling through the weapons should not be hard at all.  Se=
arch the resources on here and you should be able to find a tutorial on =
it.<br><br>btw, this inventory resource only works in Singleplayer mode.=
  Check out beffy's modified tutorial of mine to get one that works in m=
ultiplayer as well.  I think its done purely in script so you dont have =
to mess with link lists.<br><br>-Tim<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D26097'>RedCore</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;24,&nbsp;2004&nbsp;at&nbsp;23:4=
1)</span>   </td></tr>
   </table>
   I didnt like the way your reloading system was set up.. so i decided =
to write my own and it works really well.. i might make it a resource la=
ter on..<br><br>btw, I'v used the inventory system in a multiplayer game=
.. and it worked fine.. not sure what your saying doesnt work..<br><br>a=
bout the pointers thing.. i was going to use linked lists for a radio sy=
stem of mine.. but i decided to do it anouther way.. i just couldnt unde=
rstand the linked list thing.. the actual workings of it..<br><br>Anyway=
, thanks for the help.  :)<br><span class=3D'forumSmallBlack'><i>Edited =
on Apr&nbsp;24,&nbsp;2004 23:45</i></span><br><br>   <table width=3D'100=
%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D34804'>Claude-Alain Fourni=
er</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;17,&nbsp;2004&nbs=
p;at&nbsp;13:55)</span>   </td></tr>
   </table>
   Look like nobody tried getInvItem(..., &quot;&quot;) to return the fu=
ll information.<br><br>There is a bug in the GetItem method : <br><br>Ev=
erytime you use dStrcatl(....) as 2nd parameter you use &quot;sizeof(ret=
value)&quot; BUT sizeof(retvalue) will return the pointer size not strin=
g size. You need to pass the string size to GetItem as parameter. (that'=
s how I solve it).<br><span class=3D'forumSmallBlack'><i>Edited on Jun&n=
bsp;17,&nbsp;2004 14:02</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D40235'>Richard Ranft</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Aug&nbsp;14,&nbsp;2004&nbsp;at&nbs=
p;01:29)</span>   </td></tr>
   </table>
   RedCore - linked lists are very simple.  Pointers are simple enough, =
too.  A pointer is a variable like any other, but it contains the raw ad=
dress of data (it &quot;points&quot; to the data).  So it's more flexibl=
e than an actual variable (which is in fact the same thing, but the comp=
iler treats it <b>as</b> the data instead).<br><br>The thing is that poi=
nters can be faster to update than actual data, since if you are pointin=
g to complex data constructs (like an inventory item class instance) you=
 don't want to have to copy the whole chunk of data - you just add or al=
ter the pointer instead.<br><br>Linked lists use this to great effect by=
 making it way faster to sort complex data objects - only pointers (long=
 ints on x86 I think) are swapped instead of the actual objects.  So, in=
 effect, a linked list is a flexible list of street signs that can be re=
arranged quickly, each sign pointing to it's street regardless of it's p=
hysical displacement from it.<br><br>Hmm, I don't think I'm making it an=
y better....<br><br>Premier Press - &quot;Data Structures for Game Progr=
ammers&quot; covers tons of data handling methods, including linked list=
s.  It's worth it!<br><br>Rich<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D32910'>Ole Oldhoj</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Aug&nbsp;31,&nbsp;2004&nbsp;at&nbsp;1=
5:43)</span>   </td></tr>
   </table>
   was it possible for you to make it as a patch ?<br><br>   <table widt=
h=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D39766'>Shawn Simas</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;03,&nbsp;2004&nbsp;at&nbsp;=
20:37)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</=
span>   </td></tr>
   </table>
   Very nice change, though recently addCommand has been depreciated so =
I have converted each of the two functions into one ConsoleMethod here t=
hey are:<br><br>////////////////////////////////////////////////////////=
///////////<br>//Inventory Console Functions<br>////////////////////////=
///////////////////////////////////////////<br>ConsoleMethod(Player, add=
InvItem, void, 7, 7, &quot;(name, amount, type, description, max)&quot;)=
<br>{   <br>    object-&gt;inv.AddItem((char*)argv[2], (char*)argv[3], (=
char*)argv[4], (char*)argv[5],(char*)argv[6]);<br>} <br><br>ConsoleMetho=
d(Player, removeInvItem, void, 3, 3, &quot;(name)&quot;)<br>{    <br>   =
 object-&gt;inv.RemoveItem((char*)argv[2]);<br>}<br><br>ConsoleMethod(Pl=
ayer, getInvItem, const char*, 4, 4, &quot;(type, retype&quot;)<br>{<br>=
   char *returnBuffer =3D Con::getReturnBuffer(256);<br>   dSprintf(retu=
rnBuffer,256,&quot;&quot;);<br>   object-&gt;inv.GetItem((char*)argv[2],=
 (char*)argv[3], returnBuffer);<br>   return returnBuffer;<br>}<br><br>C=
onsoleMethod(Player, moveCurPtr, bool, 3, 3, &quot;(move)&quot;)<br>{<br=
>   return object-&gt;inv.MoveCurrent((char*)argv[2]); <br>}<br><br>Cons=
oleMethod(Player, incInvItem, bool, 4, 4, &quot;(name, amount&quot;)<br>=
{<br>   return object-&gt;inv.IncAmount((char*)argv[2],(char*)argv[3]);<=
br>}<br><br>ConsoleMethod(Player, decInvItem, bool, 4, 4, &quot;(name, a=
mount)&quot;)<br>{<br>   return object-&gt;inv.DecAmount((char*)argv[2],=
(char*)argv[3]);<br>}<br><br>ConsoleMethod(Player, setInvItem, bool, 4, =
4, &quot;(name, amount)&quot;)<br>{<br>   return object-&gt;inv.SetAmoun=
t((char*)argv[2],(char*)argv[3]);<br>}<br><br>ConsoleMethod(Player, clea=
rInv, void, 2, 2, &quot;()&quot;)<br>{<br>   object-&gt;inv.ClearInvento=
ry();<br>}<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D15534'>AndrewOsborne</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;13,&nbsp;2004&nbsp;at&nbs=
p;03:36)</span>   </td></tr>
   </table>
   can the people who solved the missing/changed code errors actually po=
st their solutions?<br>just as a ruel of thumb if you have an issue and =
solve it it is probably better to post the solution than edit your post =
removing the question.<br><br>sorry if this comes across too harshly.<br=
><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D40192'>Tyler Pfaff</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Oct&nbsp;12,&nbsp;2004&nbsp;at&nbsp;=
18:15)</span>   </td></tr>
   </table>
   RedCore posted on this before and I guess answered his own question, =
but I'm still lost. Where the hell is cCheckDismountPoint()? I've done a=
 search in the whole player.cc file, and it is no where to be found. Ple=
ase help!<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D18384'>Jonathan Wagner</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Oct&nbsp;23,&nbsp;2004&nbsp;at&n=
bsp;22:57)</span>   </td></tr>
   </table>
   @Tyler: Actually, the existence of cCheckDismountPoint() should be ir=
relevant, since the code you place after it is all separate functions. I=
 guess it was just as a place to put them.<br><br>   <table width=3D'100=
%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D47316'>rpi (#0011)</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;01,&nbsp;2005&nbsp;at&nbsp;=
05:11)</span>   </td></tr>
   </table>
   The Inventory functions needs to be placed above void Player::console=
Init() because the added code to consoleInit() refer to it.<br><br>   <t=
able width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D46813'>Shaan</a><span clas=
s=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;13,&nbsp;2005&nbsp;at&nbsp;13:44)=
</span>   </td></tr>
   </table>
   Hi guyz, <br>Any luck to implement this into Torque 1.3.0.<br><br>Tha=
nx<br>Ali shikla<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D50484'>Mitch Lowery</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;06,&nbsp;2005&nbsp;at&nbsp=
;05:14)</span>   </td></tr>
   </table>
   Did this with 1.3 Not working. Infact I can't pick anything up anymor=
e. No crossbows or anything. Any help would be really appreciated.<br><b=
r>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D39766'>Shawn Simas</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Aug&nbsp;21,&nbsp;2005&nbsp;at&nbsp;=
14:59)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</=
span>   </td></tr>
   </table>
   As an update for people, I was just able to implement this into HEAD =
with absolutely no difficulties at all. (Used the ConsoleMethods I poste=
d above though)<br><br>Thanks again Tim,<br>Shawn<br><br>   <table width=
=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D57733'>Johnson County Com =
College (#000</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Oct&nbsp;25,&nb=
sp;2005&nbsp;at&nbsp;23:17)</span>   </td></tr>
   </table>
   Shawn,<br><br>Did you post the code changes for version 1.3 right whe=
re the original tutorial told us to place the addCommand functions?<br><=
br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D48419'>Allan Stewart</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;13,&nbsp;2005&nbsp;at&nbs=
p;15:03)</span>   </td></tr>
   </table>
   Added this to 1.3  but now my weapons don't fire. <br><br>I get the s=
ound effects to work and the reload but no tracers, no bullets, and they=
 won;t kill anything now at all :(  <br><br>Any ideas <br><br>And if thi=
s does work with 1.3  as what i can gather from Shawn , Where did you ad=
d the AddCommand functions to as Johnson have asked, Just trying to narr=
ow down my problem here.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D60166'>Serjh Asdourian</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;05,&nbsp;2005&nbsp;at&n=
bsp;03:36)</span>   </td></tr>
   </table>
   I can't find this part:<br>Go down to static bool cCheckDismountPoint=
(SimObject *ptr, S32, const char **argv) (line 3643 in my build) go afte=
r it and add these functions:<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D38277'>Tim Wiese</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;30,&nbsp;2005&nbsp;at&nbsp;10=
:09)</span>   </td></tr>
   </table>
   i cant find that either?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D66547'>Chris Elliott</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;04,&nbsp;2006&nbsp;at&nbs=
p;13:05)</span>   </td></tr>
   </table>
   static bool cCheckDismountPoint(SimObject *ptr, S32, const char **arg=
v) has been changed in the new version, use the ConsoleMethod() function=
s that Shawn posted.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D57733'>Johnson County Com =
College (#000</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;08,&nb=
sp;2006&nbsp;at&nbsp;00:35)</span>   </td></tr>
   </table>
   I think this tutorial needs some updating.  I've gone through it twic=
e and it still won't work.  I'm using the 1.3 SDK, and after I've finish=
ed the tutorial, my crossbow bolts will no longer fire out of my crossbo=
w.  I see that some people, like Mitch have also had this problem, but I=
 don't think that anyone who has tried to address it has been near speci=
fic enough in what they are doing.  <br><br>Shawn, I saw that you made s=
ome changes, that you claim work.  I was hoping you could go back and re=
write your post, and be a little more specific as to what you changed to=
 what, where and why.  I know it's a pain, but a lot of people use this =
board and I doubt most of them know what you are talking about.  <br><br=
>I'm still really new at this, and I don't always understand what you me=
an when you start talking code speak.  I'm a game designer at heart, but=
 I can't find any programmers who know how to speak english, so I'm teac=
hing myself.  Please be specific and patient.<br><br>   <table width=3D'=
100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65934'>Chad R. Woodworth</=
a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;08,&nbsp;2006&nbsp;at=
&nbsp;06:54)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Ratin=
g: 4</span>   </td></tr>
   </table>
   I got this resource to work and I'm using TLK 1.4<br>Some of the code=
 I skipped and added my self and it work on my 3rd try. This was about 3=
 months ago and I have since designed my own. I will look at it and upda=
te this resource if I get a chance. It actualy isn't bad. I just wanted =
more of a real storage view for actual 3d objects that could be inspecte=
d, altered, read, eaten and so forth.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D15451'>Tank Dork</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;13,&nbsp;2006&nbsp;at&nbsp;18=
:10)</span>   </td></tr>
   </table>
   JCCC (#000) two excellent Torque guides will help you get your head a=
round Torque and save you YEARS of trying to figure out what tge is doin=
g on your own (I have learned more in the last month than I did in the l=
ast 5-6 years that I have owned tge).<br><br>1. The new &quot;the Game P=
rogrammer's Guide to Torque&quot; by Garage Games (find it in the GG sto=
re)<br>This is a very unassuming learning manual that gives you a solid =
understanding of tge.<br><br>2. Kenneth Finney's book &quot;3D Game Prog=
ramming All In One&quot; (found mine at Books-a-Million)<br>This is an A=
WSOME torgue reference.. Finney takes his years of torquing and breaks t=
he engine down for you in very unassuming language.<br><br>Both of these=
 books are devoid of &quot;programmer speak&quot; and teach in plain eng=
lish.. but you will soon find you know alot more of the program speech t=
han you thought you did.<br><br>edited mispellings...<br><span class=3D'=
forumSmallBlack'><i>Edited on May&nbsp;13,&nbsp;2006 18:11</i></span><br=
><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D53332'>Temasek Polytechnic=
 Tp8</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;29,&nbsp;2006&n=
bsp;at&nbsp;04:30)</span>   </td></tr>
   </table>
   i had problem compile the player.cc and player.h after edit the code =
...<br><br>Torque Demo error LNK2001: unresolved external symbol &quot;p=
ublic: __thiscall Inventory::~Inventory(void)&quot; (??1Inventory@@QAE@X=
Z)<br>Torque Demo error LNK2019: unresolved external symbol &quot;public=
: __thiscall Inventory::Inventory(void)&quot; (??0Inventory@@QAE@XZ) ref=
erenced in function &quot;public: __thiscall Player::Player(void)&quot; =
(??0Player@@QAE@XZ)<br><br>anyone know??<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70411'>Phil Herrin</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;07,&nbsp;2006&nbsp;at&nbsp;=
19:17)</span>   </td></tr>
   </table>
   does this work with 1.4 and can someone link the other 2 tutorials ne=
eded? saw a note somewhere in there about it not working with mp, is the=
re a inv code that does work with mp?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70748'>George Frick</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2006&nbsp;at&nbsp=
;13:20)</span>   </td></tr>
   </table>
   @Temasek. I had this problem when I added the files to the project in=
correctly. Try re-adding them to the project, or make new classes and pa=
ste the code.<br><br>Notes on getting this to work in 1.3.<br><br>1. He =
doesn't list all code to be removed, remember to remove the old inventor=
y script code.<br>2. Make sure to use Shawn Shimas' code posted above IN=
STEAD of BOTH the &quot;inventory console functions&quot; and the &quot;=
Con::addcommand&quot; entries.<br>3. Correct the bug posted above by Mic=
hael Cozzolino.<br>4. No ammo to start? Make sure in game.cs you also ch=
ange the lines under &quot;// starting equipment&quot; to<br>use the new=
 functions, like this:<br>%player.setInvItem(&quot;CrossbowAmmo&quot;,10=
); // give player 10 ammo to start.<br><br>Any scripts you've written th=
at use the scripted inventory need to be updated, not just those he list=
ed. Grep for the use of the old inventory functions and replace them all=
. If really needed, I can post a step by step.<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D44897'>Ryan</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;21,&nbsp;2006&nbsp;at&nbsp;15:08)<=
/span>   </td></tr>
   </table>
   hi there<br>when i am using it i got some problem when compiling the =
TGE after making the changes<br>i don't know why even when i follow the =
steps exactly as mentioned above<br>here i am giving the errors i receiv=
ed while compiling<br><br>c:\Torque\SDK\engine\game\player.cc(3668): err=
or C2039: 'inv' : is not a member of 'Player'<br>c:\Torque\SDK\engine\ga=
me\player.cc(3668): error C2039: 'inv' : is not a member of 'Player'<br>=
c:\Torque\SDK\engine\game\player.cc(3668): error C2228: left of '.AddIte=
m' must have class/struct/union type<br>c:\Torque\SDK\engine\game\player=
.cc(3668): error C2228: left of '.AddItem' must have class/struct/union =
type<br>c:\Torque\SDK\engine\game\player.cc(3677): error C2039: 'inv' : =
is not a member of 'Player'<br>c:\Torque\SDK\engine\game\player.cc(3677)=
: error C2039: 'inv' : is not a member of 'Player'<br>        c:\Torque\=
SDK\engine\game\player.h(236) : see declaration of 'Player'<br>c:\Torque=
\SDK\engine\game\player.cc(3677): error C2228: left of '.RemoveItem' mus=
t have class/struct/union type<br>c:\Torque\SDK\engine\game\player.cc(36=
77): error C2228: left of '.RemoveItem' must have class/struct/union typ=
e<br>c:\Torque\SDK\engine\game\player.cc(3687): error C2039: 'inv' : is =
not a member of 'Player'<br>c:\Torque\SDK\engine\game\player.cc(3687): e=
rror C2039: 'inv' : is not a member of 'Player'<br>        c:\Torque\SDK=
\engine\game\player.h(236) : see declaration of 'Player'<br>c:\Torque\SD=
K\engine\game\player.cc(3687): error C2228: left of '.GetItem' must have=
 class/struct/union type<br>c:\Torque\SDK\engine\game\player.cc(3687): e=
rror C2228: left of '.GetItem' must have class/struct/union type<br>c:\T=
orque\SDK\engine\game\player.cc(3697): error C2039: 'inv' : is not a mem=
ber of 'Player'<br>c:\Torque\SDK\engine\game\player.cc(3697): error C203=
9: 'inv' : is not a member of 'Player'<br>        c:\Torque\SDK\engine\g=
ame\player.h(236) : see declaration of 'Player'<br>c:\Torque\SDK\engine\=
game\player.cc(3697): error C2228: left of '.MoveCurrent' must have clas=
s/struct/union type<br>c:\Torque\SDK\engine\game\player.cc(3697): error =
C2228: left of '.MoveCurrent' must have class/struct/union type<br>c:\To=
rque\SDK\engine\game\player.cc(3706): error C2039: 'inv' : is not a memb=
er of 'Player'<br>c:\Torque\SDK\engine\game\player.cc(3706): error C2039=
: 'inv' : is not a member of 'Player'<br>        c:\Torque\SDK\engine\ga=
me\player.h(236) : see declaration of 'Player'<br>c:\Torque\SDK\engine\g=
ame\player.cc(3706): error C2228: left of '.IncAmount' must have class/s=
truct/union type<br>c:\Torque\SDK\engine\game\player.cc(3706): error C22=
28: left of '.IncAmount' must have class/struct/union type<br>c:\Torque\=
SDK\engine\game\player.cc(3715): error C2039: 'inv' : is not a member of=
 'Player'<br>c:\Torque\SDK\engine\game\player.cc(3715): error C2039: 'in=
v' : is not a member of 'Player'<br>        c:\Torque\SDK\engine\game\pl=
ayer.h(236) : see declaration of 'Player'<br>c:\Torque\SDK\engine\game\p=
layer.cc(3715): error C2228: left of '.DecAmount' must have class/struct=
/union type<br>c:\Torque\SDK\engine\game\player.cc(3715): error C2228: l=
eft of '.DecAmount' must have class/struct/union type<br>c:\Torque\SDK\e=
ngine\game\player.cc(3724): error C2039: 'inv' : is not a member of 'Pla=
yer'<br>c:\Torque\SDK\engine\game\player.cc(3724): error C2039: 'inv' : =
is not a member of 'Player'<br>        c:\Torque\SDK\engine\game\player.=
h(236) : see declaration of 'Player'<br>c:\Torque\SDK\engine\game\player=
.cc(3724): error C2228: left of '.SetAmount' must have class/struct/unio=
n type<br>c:\Torque\SDK\engine\game\player.cc(3724): error C2228: left o=
f '.SetAmount' must have class/struct/union type<br>c:\Torque\SDK\engine=
\game\player.cc(3733): error C2039: 'inv' : is not a member of 'Player'<=
br>c:\Torque\SDK\engine\game\player.cc(3733): error C2039: 'inv' : is no=
t a member of 'Player'<br>        c:\Torque\SDK\engine\game\player.h(236=
) : see declaration of 'Player'<br>c:\Torque\SDK\engine\game\player.cc(3=
733): error C2228: left of '.ClearInventory' must have class/struct/unio=
n type<br>c:\Torque\SDK\engine\game\player.cc(3733): error C2228: left o=
f '.ClearInventory' must have class/struct/union type<br><br><br>can any=
one please tell me anything regarding this<br>i would be very much great=
full to anyone who can tell me why these errors are coming up and can he=
lp me rectify them <br>thanking you all in advance<br>thnaking you<br><b=
r>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D2245'>Infinitum3D</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;09,&nbsp;2006&nbsp;at&nbsp;2=
3:17)</span>   </td></tr>
   </table>
   Does anyone know of an update for v1.5 or even 1.4?  Thanks!<br><br>T=
ony<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;10,&nbsp;2006&nbsp;at&nbsp;1=
3:24)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   I seem to be having a problem that was mentioned before that of not b=
eing able to pickup any items.  I also have another related problem.  I =
have implemented the RPG dialog resorce witch allows me to have an aipla=
yer that I can talk to.  With this I had the ability to give items to th=
e client.  This also no longer works.<br>Now, I think this is a great re=
sorce that will allow for vast improvement to any game.  Although, I bel=
ieve it needs a little TLC.  If I was a little better at torque script a=
nd c++ and would give it a good workover but I am still learning both an=
d am not very good yet.<br><br>This is a great resorce Tim but it might =
need another update.  And maybe you could post some examples of how one =
might use the function calls you listed.<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D75458'>Stephen Lujan</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;30,&nbsp;2006&nbsp;at&nbs=
p;12:49)</span>   </td></tr>
   </table>
   Its finally working nicely internally for me now in TGE 1.5, but of c=
ourse my inventory GUI is now completely nonfunctional. I'm trying to wr=
ite a new GUI for it which shouldn't be too problematic. The inventory v=
3 was not working for me at all.<br><span class=3D'forumSmallBlack'><i>E=
dited on Dec&nbsp;30,&nbsp;2006 12:52</i></span><br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D105029'>Michael Chew</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;22,&nbsp;2008&nbsp;at&nbs=
p;10:34)</span>   </td></tr>
   </table>
   i noticed that if there is only 1 item in the list and if you attempt=
 to remove it by using removeinvitem(%name), it will crash. Upon investi=
gation, the deletelink method does not handle the linklist properly if t=
here is only 1 link. Add this:<br><br>		if (deleteLink-&gt;lastLink =3D=3D=
 NULL &amp;&amp; deleteLink-&gt;nextLink =3D=3D NULL) // only 1 link in =
list<br>		{<br>			FirstItemInList =3D NULL;<br>		}<br>		else {<br><br>be=
tween if (deleteLink !=3D NULL) { and if (deleteLink-&gt;lastLink =3D=3D=
 NULL) { //This is the first link...treat it special<br><br>and put a } =
just before delete deleteLink;<br><br>in void Inventory::DeleteLink(char=
* name)  method in Inventory.cc<br><br>That should do the trick.<br><br>=
      <br>
      <table border=3D'0' cellspacing=3D'0' cellpadding=3D'3' class=3Dfo=
rmBody width=3D'100%'>
         <tr>
            <td class=3DformTitle>Ratings</td>
         </tr>
         <tr>
            <td><span class=3DformDesc>
            Your rating will be added to the overall rating for this
            resource.  Though you can only rate a resource once, you
            can change your rating at any time.
            </span></td>
         </tr>
         <tr>
            <td>
            <form id=3D'rate' name=3D'rate' >
               <p>
               <input type=3D"hidden" name=3D"id" value=3D74950>
					<input type=3D"hidden" name=3D"idResource" value=3D1955>
               <select name=3D'rating'>
                  <option value=3D"1" >1 - Not Useful</option><option va=
lue=3D"2" >2 - Sort of Useful</option><option value=3D"3" selected>3 - U=
seful</option><option value=3D"4" >4 - Very Useful</option><option value=
=3D"5" >5 - Extremely Useful</option>               </select>
               <input id=3D'ratesubmit' type=3D"Button" value=3D"Submit"=
>&nbsp;&nbsp;<span id=3D"myrating"></span>
               </p>
            </form>
            </td>
         </tr>
      </table>
            <br>
      <table border=3D'0' cellspacing=3D'0' cellpadding=3D'3' class=3Dfo=
rmBody width=3D'100%'>
         <tr>
            <td class=3DformTitle>Post Comment</td>
         </tr>
         <tr>
            <td><span class=3DformDesc>
            Comments are appended to the end of the resource.
            </span></td>
         </tr>
         <tr>
            <td>
            <form method=3D"post" action=3D"/mg/resource/comment.resourc=
e.redirect.php">
               <input type=3D'hidden' name=3D'FormId' value=3D6794470 >
               <textarea name=3D"comment" rows=3D12 cols=3D47></textarea=
>
               <p>
               <input type=3D"hidden" name=3D"id" value=3D1955>
               <input type=3D"submit" name=3D'submit' value=3D"Post Comm=
ent">
               </p>
            </form>
            </td>
         </tr>
      </table>
      <br><table><tr><td>&nbsp;<a href=3D"javascript:notifyit('Resource'=
, '1955');"><img id=3D'notifyimg' src=3D'/images/unapproved.gif' border=3D=
0></a><div id=3D'debug'></div></td><td valign=3Dtop><b>Notify when new c=
omments are posted</b></td></tr></table>	</div>
	<div id=3D"footer" >
		<span style=3D"font-size:9px"><a href=3D"/">Home</a>&nbsp;|&nbsp;<a hr=
ef=3D"/products/browse/">Products</a>&nbsp;|&nbsp;<a href=3D"/solutions/=
games/commercial/">Solutions</a>&nbsp;|&nbsp;<a href=3D"/demos/browse/">=
Downloads</a>&nbsp;|&nbsp;<a href=3D"/support/email/">Support</a>&nbsp;|=
&nbsp;<a href=3D"/search/">Search</a>&nbsp;|&nbsp;<a href=3D"/company/">=
About Us</a></span><br>Copyright &copy; GarageGames.com 2000 - 2008 All =
Rights Reserved	</div>
	<div id=3D"header" >
			<a href=3D"/"><img class=3D"left" src=3D"/images/hm_left.gif" ALT=3D"=
GarageGames"></a>
			<img class=3D"right" src=3D"/images/hm_right.gif" ALT=3D"">
			<div id=3D"navcontainer"><ul id=3D"nav">
	<li><a href=3D"/">Home</a>
		<ul style=3D"width:10em">
			<li><a href=3D"/company/news/">Latest News</a></li>
		</ul>
	</li>
	<li><a href=3D"/products/browse/">Products</a>
		<ul style=3D"width:15em">
			<li><a href=3D"/demos/browse/game/">Games</a></li>
			<li><a href=3D"/makegames/">Developer Tools</a></li>
			<li><a href=3D"/developer/torque/contentpacks/">Content Packs</a></li=
>
			<li><a href=3D"/solutions/education/">Academic Resources</a></li>
			<li><hr></li>
			<li><a href=3D"/products/torque/tge/">Torque Game Engine</a></li>
			<li><a href=3D"/products/torque/tgb/">Torque Game Builder</a></li>
			<li><a href=3D"/products/torque/tgea/">Torque Engine Advanced</a></li=
>
			<li><a href=3D"/products/torque/x/">Torque X Engine</a></li>
			<li><a href=3D"/products/torque/twii/">Torque Wii</a></li>
			<li><a href=3D"/products/torque/t360/">Torque 360</a></li>
			<li><a href=3D"/products/torque/iphone">Torque for iPhone</a></li>
		</ul>
	</li>
	<li><a href=3D"/demos/browse/">Downloads</a>
		<ul>
			<li><a href=3D"/demos/browse/development/">Development Demos</a></li>=

			<li><a href=3D"/demos/browse/game/">Game Demos</a></li>
		</ul>
	</li>
	<li><a href=3D"/developer/torque/">Documentation</a>
		<ul style=3D"width:16em">
			<li><a href=3D"http://tdn.garagegames.com/" target=3D"_blank">Torque =
Developer Network</a></li>
			<li><a href=3D"/developer/torque/t2d/">Torque Game Builder</a></li>
			<li><a href=3D"/developer/torque/tge/">Torque Game Engine</a></li>
			<li><a href=3D"/developer/torque/tse/">Torque Engine Advanced</a></li=
>
			<li><a href=3D"/developer/torque/artist/">Artists</a></li>
		</ul>
	</li>
	<li><a href=3D"/mg/whatsnew/">Community</a>
		<ul>
			<li><a href=3D"/mg/whatsnew/">What's New</a></li>
			<li><a href=3D"/mg/forums/result.area.php?qs=3D1">Forums</a></li>
			<li><a href=3D"/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Dhome=
">Resources</a></li>
			<li><a href=3D"/index.php?sec=3Dmg&amp;mod=3Dmarketplace&amp;page=3Dh=
ome">Marketplace</a></li>
			<li><hr></li>
			<li><a href=3D"/mg/snapshot/gallery.php">Snapshot Gallery</a></li>
			<li><a href=3D"/mg/projects/tge/gallery.php">Artist Gallery</a></li>
		</ul>
	</li>
	<li><a href=3D"/products/training/">Support</a>
		<ul style=3D"width:17em">
			<li><a href=3D"/support/email/">Product Support</a></li>
			<li><a href=3D"/products/training/bootcamp/">Torque Boot Camp Seminar=
s</a></li>
		</ul>
	</li>
	<li><a href=3D"/company/">Company</a>
		<ul style=3D"width:11em">
			<li><a href=3D"/company/">About</a></li>
			<li><a href=3D"/company/management/">Management</a></li>
			<li><a href=3D"/company/employees/">Employees</a></li>
			<li><a href=3D"/company/associates/">Associates</a></li>
			<li><hr></li>
			<li><a href=3D"/company/contact/">Contact</a></li>
			<li><a href=3D"/company/press/">Press Releases</a></li>
			<li><a href=3D"/rss/info.php">RSS Feeds</a></li>
			<li><a href=3D"/company/jobs/">Jobs/Internships</a></li>
			<li><a href=3D"/company/logo/">Logo Kits</a></li>
		</ul>
	</li>
</ul><br></div>
			<div id=3D"navlogin"><span id=3D"welcome"><a href=3D"/shopping/cart.p=
hp">Cart <img src=3D"/images/cart.gif"></a> / <a href=3D"/main/login/">L=
ogin</a>&nbsp;</span>
			<form name=3D"gs" method=3D"GET" action=3D"http://search.garagegames.=
com/search">
	<input class=3D"stext" type=3D"text" name=3D"q" maxlength=3D"256" value=
=3D" Search" onfocus=3D"this.value=3D'';">
	<input class=3D"ssubmit" type=3D"image" name=3D"btnG" value=3D"Go" src=3D=
"/images/sgo.gif">
	<input type=3D"hidden" name=3D"ie" value=3D"">
	<input type=3D"hidden" name=3D"site" value=3D"GarageGames">
	<input type=3D"hidden" name=3D"output" value=3D"xml_no_dtd">
	<input type=3D"hidden" name=3D"client" value=3D"GarageGames">
	<input type=3D"hidden" name=3D"lr" value=3D"">
	<input type=3D"hidden" name=3D"proxystylesheet" value=3D"GarageGames">
	<input type=3D"hidden" name=3D"oe" value=3D"">
</form></div>
	</div>

</div>
</body>
</html>
------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=favicon.ico
Content-Type: image/x-icon; name=favicon.ico
Content-Location: http://www.garagegames.com/favicon.ico
Content-Transfer-Encoding: Base64

AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqzIAJKw2A3y5ViuzsEAPurFC
EbS6ViuirDUDYasyABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACrMwAKqzMAjLA0
APezNQD/rzAA/7E0AP+zNAD/sDAA/60zAP+rMwDkqzMAXQAAAAAAAAAAAAAAAAAA
AACrMwEPrjQAvbU3AP+ZMS3/aSJx/08Ykf9LFpf/WR2G/34qWP+rNhL/tDcA/6w0
Av+rMwCEAAAAAAAAAAAAAAAAsTYApbE4DP9gHH//JwvO/zMe2f9KN9n/TDnY/zIc
0/8eBtL/Phm6/48xSf+4OgD/rjYF/6w0AWMAAAAAsDcDTrM4C/9QGJz/WErq/7Wt
6v/k4fH/9PT1//X29v/l4/L/lYbh/yoR0f8tFdf/jDJV/7o8Af+vNwfiqTEAFLo7
ALRxJXT/i4b0//v89P////f////5////+v////n//f73////+f+RgeH/JQvS/z0d
zv+rPC7/tjkB/7xOMGemMyPhdl3V//n99//7/PX/7On1/6qe6v+Id+P/o5fo//Lx
+f////n/ysPv/zAT0P8sF+H/dzCH/745AP/JcVeniixZ6od87f////X/5uPz/1A3
2P8iA83/HwDL/xcAyf+0q+7////+/7et7P8sD9H/MRnc/1couP+/Qhr/xVkzzoUx
c+1KN+b/8PDz/+Pg8/9GLNj/UDja/3Ng4f+touz//Pz9/+7t+P9dRtz/MhXU/zQa
2v9OJcj/wEgv/8NNJNaZPmblJw/f/2lV3//z8vb/8vH4//j4+//w7vr/1c/2/5uN
6v9SOdz/NxvX/z0h2P8zG9z/VyrC/8hKLf/IYT20tUhHujQW1/9kUOH////3/8G5
7v9kTuL/ZE7h/1pC4P88INr/PCDa/0In2/8+I9j/MRvh/3o4pP/UUSn/u1Uva8xN
IlhxM6r/NSHk/7Gm6v/Cu+7/u7Lu/9bR8//g3PX/2dTy/2FK4f8+I9r/PSTb/z4j
3f+8U2v/0lMs5qwyAxcAAAAAx1VTsU0p0f8nD9//raHr//Px8/9UPOD/ZVDi//z7
9v+cjun/PCPd/zYh5P+VR57/5GNF/7tBF2kAAAAAAAAAAONiQxjGWGjMWzDN/0g3
6P+kne7/ppvs/6ab7P+vp+7/h37v/0cu4P+YS6b/62tY/8dMJ44AAAAAAAAAAAAA
AAAAAAAA318+EtxhVaGgTp/+YzDG/1k52P9UNtz/UyzT/308t//QY4X/8G5V7s9T
MmkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA42A9OO6HeZLkfYy34HWGx+p1
fM76iXq15HRYdchLKxoAAAAAAAAAAAAAAAAAAAAA8A8AAMAHAACAAwAAgAEAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAAIADAADABwAA8A8AAA==

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=hm_center.gif
Content-Type: image/gif; name=hm_center.gif
Content-Location: http://www.garagegames.com/images/hm_center.gif
Content-Transfer-Encoding: Base64

R0lGODlhBQBGAOYAAP72vsuUAf7xovS2Af7ukv7vl+e6Af71t/7wnPrIAf73x/W6
Af73xf7VAf7vlf70tf70sv7vmP7xpP7zrf7yqfe/Af72vP3RAeepAf73w/7uk/74
yf7vlP7zsP71uf74z/vNAf70sP72wP7wnv7vmv7xnv72w/7wm/7yqP7zrP7vmf70
s/7ypv7xpfnEAf7yq/71uv/XAf7vk/7zrv73wP7yp/zNAf761f7xoP7wmv7woP73
xPe+AeeqAf74zuapAf70t/7UAf761P71tf71tPjEAfa6Af7wn/7vlv7xof73yf7v
nPzRAf7zq/71u/7wof7xp/7ulvnIAf74x/751fjDAf74yPa+Af7YAf71vP75zvnD
Af7ulP751P3SAf72wefSmf/////YAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAFAEYAAAfZgGGCg4SFhoeCYIqKVDdC
XTc+H1ofH1YbmEoKUwqdOwygDBkmGaMiNF80IgCsrE4WWRYWHh4wMB4HuQdARA8P
Qw8QECsrEB0dIcgzE8sTLylNzygU0xQsNddQEi3bEgLf30lPODg6IyVHJSMI7EsI
JDkkJycRESoqEQX6+g5RDkgOOAh0wEWDBhkHCShUaKBhQzEQI0qcSLGixYsYM0qM
EQMLxAZBGoi8cIGJlws2QKi0kUBKgpcutlRxUeQKjwo4F+hcYGSAT58YMPT4gSGA
UaOLFCFaynRQIAA7

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=dropdown.gif
Content-Type: image/gif; name=dropdown.gif
Content-Location: http://www.garagegames.com/css/dropdown.gif
Content-Transfer-Encoding: Base64

R0lGODlhQAA9AMQAAP/3wv70tv70uf3smf3wpv3qkf72vf7zsP3vpP3qjv7zsv7y
rv3unv3sm/3slv3uoP/4xv3wqf7yrP3rlP7xq/3unP7voP3uov7xqP7xrP7vov70
s/7vn/7ztP3vovzpjSH5BAAAAAAALAAAAABAAD0AAAX/4CeOZGmeZ+IwCLUcSrAd
C0YwE6rvvFlUmI3AQCwCDICkMhnIPAq9KK/wOAiuw2HRuFxCIICABiotJxqUgBp7
NbC1x67ySw80yrwE46DuBxYIDAMFCSUJEwMaFAJddI4CDHgnFXx9BxoDhXgFDAtI
jqAGkiMTFAodHRsEDqMmeh0AoHSjCRYKtwdPrTsOC7GgkhMSMAcWmrs8DgrAZQMH
zxg5yGUVBrNSnc8V06MFC19RCRoLCxTSUxUECwobHQoLN+dlDAA9CQjkBMcoBRoK
bG62FBGwoRyBBxUckDnBaoc4chr2udKwoQ9ALVvk/BKwywKFDBamZOjgJ0AHBAMm
/xRw8CADl0ZJWjGgQCGkQwqoSKrRd2LCBiJKDGTgg2ShFAcRIkTkweBWzgASJJIo
ACcJBmQFkvLkIcEpqgDbdmB4GYkWgqTyUCSA4bWDTR0RMoZpVSHpACnPbp1yZ9QQ
RiRHuhGI4KEMgbxeD9z18U8gkVEeBvdlyAHBMLZ7SUpgoBBRhDaOD0hyQIBAWB1o
yD1brfepn4sCG0pJEJnA5BEF8JFTvRqza4tYAhIpjMcBAgR3+GH4uJscjjNd25a8
CAny8dsf7tHM0Fx29gYYMk9nY3vUhONlTzRIuj2fWpYRhlbcoCADcqlSKhxPOyLB
YPbMEcCNWcfh98EESSXYnv93A/ZgXCA6IJVgBO0tYAF/DZ7AAgIMkkDahBQyRw4G
z2WYggceIIBddqWBWOFuB2BgwSAmijABisTpMECLE77I2zMSxGMgHgOgmJ6O/yko
Ioy96aVATQ4MyUMFD3iQ3A7nJQkgd8315hsqG2BQgZQaPvDAYvw8UBqPSnLJJGvS
ybDKbGY+0OEIAxyHwJpJDubjC03GqcYCaOpAhZkYfpCnnnzaZaN+EnQZqHivZbDi
gQwgylCKeu65JoYrNaCIl6199VoHd9rIQKb8FYBjp55euUMBA1iAAWKUAierh6vi
YAIDOHLKKJk+AFGqThYFgOEKqzJIRbCw5ihYrmsIcID/VMxyVsIAZkKr55Gt+PNb
teB+kG2hemRa5avHPcDNWtQGIIACJkzQ62kfcLJqt+wiQCwPBAi6RqGY9nqMvfuu
i+K33PgTrwACkoDwqgtlq663HE4TnsB/lKBvs6T0mjDGBJdRAK7jBrDPGb2i+XGv
/C7c7qUp3IqyqWqk1YDImqQrcszCHmdBlFEUYPPNyAbA4AA7r3rOACKP3O9xpZ05
gVQqWPAj0n0w6EADTbsctdQyM7pmBAQgcMEDGhDggqRwUtrXBGA3vRDUYwMNa6M9
Lrn1l6lIdAbYIIuQQAV5Kxy0p2xu2RygceckmglME87AQi/DrPjeZ/ft5t+lultv
ZeU7Fzrxz5t3ynebj5Pq1G20kn65xGNfPDXjWob4OeSIRXzCALI3sM8PUeuteues
w53XAivGXre2UzWtOcZUI++48gekajjwsvd1COLT37769W/u2hP3dY/pisXGm924
7o8voH0IADs=

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=form_nw.gif
Content-Type: image/gif; name=form_nw.gif
Content-Location: http://www.garagegames.com/images/form_nw.gif
Content-Transfer-Encoding: Base64

R0lGODlhAwADAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAADAAMAAAIEjC0h
UgA7

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=form_sw.gif
Content-Type: image/gif; name=form_sw.gif
Content-Location: http://www.garagegames.com/images/form_sw.gif
Content-Transfer-Encoding: Base64

R0lGODlhAwADAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAADAAMAAAIEjBSW
UQA7

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=site8.css
Content-Type: text/css; charset=ISO-8859-1; name=site8.css
Content-Location: http://www.garagegames.com/css/site8.css
Content-Transfer-Encoding: 8bit

html, body {margin:0;padding:0;background-color:#555}
body, p, h1, h2, h3, table, td, th, ul, ol, textarea, input, select {font-family:Geneva, verdana, arial, helvetica, sans-serif;font-size:12px;color:#222}
#container {margin:0 auto 0 auto;padding:0;width:850px;border-left:1px solid black;border-right:1px solid black;text-align:left;background-color:#fff}
#header {position:absolute;top:0px;height:75px;width:850px;background:#FFF url('/images/hm_center.gif') repeat-x}
#header img.left {position:absolute;top:0px;left:0px;border:0}
#header img.right {position:absolute;top:0px;right:0px;border:0}
#content {width:830px;margin:75px 0 0 10px;padding:0;overflow:hidden;clear:both}
#footer {clear:both;margin:0px;padding:1em;text-align:center;background-color:#fff}
#navcontainer {margin:0 17px 0 7px;padding:0}
#nav, #nav ul {list-style:none;line-height:1;padding:0;border-width:1px 0;margin:0 0 0 0;text-align:left}
#nav {position:absolute;top:41px;left:70px;z-index:3000 !important}
#nav ul {float:left;background:#fef7c7;border:1px solid #000}
#nav a {display:block;color:#000;text-decoration:none;padding:0.25em 0em}
#nav li {float:left;padding:0 0.25em 0 0.25em;margin:0 0.25em 0 0.25em;white-space:nowrap;font-weight:bold}
#nav li ul {position:absolute;left:-999em;height:auto;width:12em;font-weight:normal;border:solid 1px #e4c76b;margin:0;padding:0;background:#fce98d url(dropdown.gif) bottom right no-repeat}
#nav li ul li {padding:0;margin:0;width:100%}
#nav li ul li a {padding-left:0.5em}
#nav li ul li hr {line-height:5px;margin:0 auto 0 auto;width:90%}
#nav li ul ul {margin:-1.75em 0 0 14em}
#nav li.sfhover ul ul, #nav li.sfhover ul ul ul {display:none}
#nav li.sfhover ul, #nav li li.sfhover ul, #nav li li li.sfhover ul {left:auto;margin-left:-0.25em;display:block}
#nav li.sfhover {background:#f7bf02}
#nav li.sfhover a {color:#000}
#navlogin {position:absolute;top:14px;right:20px;font-size:7pt !important}
#navlogin a {font-weight:bold;color:#666;text-decoration:none}
#navlogin a:hover {color:#000}
#navlogin img {border:0;margin-bottom:-4px}
#navlogin form {display:inline;margin-left:1em;z-index:3}
.stext {color:#e7ba01;background-color:#fefae6;font-size:9px;border:1px solid #e7ba01;width:12em}
.stext:focus {color:#000;background-color:#fff}
.ssubmit {margin-bottom:-4px;padding:0}
.hilite {background-color:#dd0}
b, h1, h2, h3, textarea, input, select {color:#000}
#content a {text-decoration:underline;color:#1e1dd6}
#content a:visited {color:#6b0e1c}
#content a:hover {color:#1e1dd6}
#content a img {border:0}
hr {color:#333366;background-color:transparent}
ul {list-style-image:none;list-style-position:outside;list-style-type:none}
li {margin:0pt;padding:0pt}
i, em {font-style:italic}
b, strong {font-weight:bold}
.tiny {font-size:7pt}
.grey {font-size:8pt;color:#909090;background-color:transparent}
#content h1, #content h2, #content h3, #content h4 {color:black;background-color:transparent;font-weight:bold;margin-top:.25em;margin-bottom:.25em}
#content h1 {font-size:150%}
#content h2 {font-size:130%}
#content h3 {font-size:110%}
#content h4 {font-size:100%}
#content .product {border-top:1px solid #BBBBBB;margin:0pt;overflow:hidden;padding:15px 0pt 25px 0px}
#content .info {float:left;margin:0pt 0pt 0pt 20px;width:280px}
#content .purchase {float:left;width:160px;margin:0pt 0pt 0pt 10px}
#content .wrap {margin:0pt;overflow:hidden;padding:10px 20px 0pt 10px}
.info ul {padding:0pt;margin:0em 0 1em 1.5em}
.info ul li {background:transparent url(/images/list_bullet.gif) no-repeat scroll left 0.5em;line-height:1.2em;padding-left:7px}
.mlHeadline {font-size:12pt;font-weight:bold}
.headlineLarge {font-size:16pt;color:#333366;font-weight:bold}
.headlineMedium {font-size:12pt;color:#333366;font-weight:bold}
.headlineSmall {font-size:9pt;color:#333366;font-weight:bold}
.indent {margin-left:20px}
.indent10 {margin-left:10px}
.indent20 {margin-left:20px}
.indent30 {margin-left:30px}
.headline {font-size:10pt;color:#392985;font-weight:bold}
.linkBig {font-size:12pt;font-weight:bold;text-decoration:none}
.titleBig {font-size:16pt;color:#172775;font-weight:bold;font-style:italic;text-decoration:none}
.titleSmall {font-size:13pt;color:#172775;font-weight:bold;font-style:italic;text-decoration:none}
.newsTitle {font-size:12pt;color:#000000;font-weight:bold;font-style:normal}
.warning {font-size:12pt;color:#ff1010;font-weight:bold;text-decoration:none}
.resTitle {font-size:10pt;color:#172775;font-weight:bold;text-decoration:none}
.resSearch {font-size:12pt;color:#172775;font-weight:bold;text-decoration:none}
.menuTitle {font-size:10pt;color:#FFFFFF;font-weight:bold;text-decoration:none}
.projTitle {font-size:16pt;color:#172775;font-weight:bold;text-decoration:none}
.currentPage {font-size:12pt;color:#172775;font-weight:bold;text-decoration:none}
.litebox {font-size:10pt;color:#CCCCCC;background:#666666;text-decoration:none}
.sortTitle {font-size:10pt;color:#392985;background:#cccccc;font-weight:bold;font-style:italic}
.warningTitle {font-size:10pt;color:#D01010;background:#cccccc;font-weight:bold}
.warningBody {font-size:9pt;color:black;background:#eeeeee}
.formTitle {font-size:12pt;color:#392985;background:#cccccc;font-weight:bold;font-style:italic}
.formDesc {font-size:9pt;color:black}
.formBody {font-size:9pt;color:black;background:#eeeeee}
div.forumpost {margin:10px 10px 10px 10px;width:700px;overflow:auto}
div.blogpost {margin:5px 0 0 2px;width:820px;overflow:auto}
.formSpacer {font-size:9pt;background:white}
.blockTitle {font-size:12pt;color:#666699;font-weight:bold;font-style:italic}
.blockBorder {border-style:double;border-color:#f0f0f0;border-width:2px}
.ratingLarge {font-size:24pt;color:#392985;background:#cccccc;color:blue}
.sectionTitle {font-size:12pt;color:#000000;background:#cccccc;font-weight:bold;font-style:normal}
.sectionBody {font-size:9pt;color:black;background:#eeeeee}
.platName {background:#d0d0d0;font-weight:normal;font-style:normal}
.platSRL {background:#e5e5e5;font-weight:normal;font-style:normal}
.forumArea {font-size:10pt;color:black;background:#cccccc;font-weight:bold;font-style:normal}
.forumDk {font-size:10pt;color:black;background:#e5e5e5;font-weight:normal;font-style:normal}
.forumLt {font-size:10pt;color:black;background:#d0d0d0;font-weight:normal;font-style:normal}
.forumThread {font-size:10pt;color:black;background:#cccccc;font-weight:bold;font-style:italic}
.forumSmallWhite {font-size:8pt;color:black;font-weight:normal;font-style:normal;text-decoration:none}
.forumSmallBlack {font-size:8pt;color:#000000;font-weight:normal;font-style:normal;text-decoration:none}
.forumError {color:#D13334;font-size:8pt;font-weight:bold;text-decoration:none}
a.summary:link {font-size:10pt}
a.summary:visited {font-size:10pt}
a.summary:hover {font-size:10pt}
.money {font-size:12pt;font-weight:bold;color:red}
.group, .section, .footer {font-weight:bold;font-size:10pt;padding:5px;color:#000000}
.quote {margin-right:20px;margin-left:20px}
.form .group, .form .section, .form .footer, .form .submit {font-weight:bold;font-size:10pt;padding:5px;margin-right:2px;margin-left:2px;color:#000000}
.form table, .form th, .form td {border:none;vertical-align:top}
th {font-size:9pt}
.form th {background-color:#e8e8e8;text-align:right;color:black}
.form td.small {font-size:7pt}
.form th.block {background-color:#e8e8e8;text-align:left;font-weight:normal;vertical-align:middle;color:black}
.form th.header {background-color:#c0c0c0;text-align:left;vertical-align:middle;color:black}
.form th.headerR {background-color:#c0c0c0;text-align:right;vertical-align:middle;color:black}
.form th.headerC {background-color:#c0c0c0;text-align:center;vertical-align:middle;color:black}
.form tr.row0 {background-color:#fafafa}
.form tr.row1 {background-color:#ebebeb}
.form td.lvl1 {background-color:#a8a8f0}
.form td.lvl2 {background-color:#a8f0a8}
.form td.lvl3 {background-color:#f0eda8}
.form td.lvl4 {background-color:#f0c5a8}
.form td.lvl5 {background-color:#f0a8a8}
.form tr.changeHilight {background-color:#f0eda8}
.form .group, .group {background:#333366 url(/images/form_nw.gif) no-repeat top left;color:#ffffff}
.form .section, .section {background:#cccccc url(/images/form_nw.gif) no-repeat top left}
.form .footer, .footer {font-size:8pt;background:#cccccc url(/images/form_sw.gif) no-repeat bottom left}
.form .submit, .submit {font-size:8pt;background:#aaaaaa url(/images/form_sw.gif) no-repeat bottom left}
.group a:link {color:#ffffff}
.group a:visited {color:#d0d0d0}
.group a:hover {color:#ffffff}
.form .error {color:#D13334;font-size:8pt;font-weight:bold}
.form .filebox {width:100%}
.form .textbox {width:75%}
.form .textarea {width:100%}
.form .select150 {width:150px}
.form .select250 {width:250px}
textarea {width:85%;font-size:9pt}
.codeblock {font-size:8pt;background-color:#f5f5f5;border:1px solid black;padding:5px;width:675px;overflow:auto}
#feature {margin:0;padding:0}
.tabgroup {margin:0;padding:0;line-height:1.75em}
.tabgroup ul {list-style:none;display:inline;padding:0;margin:0}
.tabgroup ul li {float:left;margin:0 2px 0 0;padding:0 0 0 10px;border-bottom:1px solid #999;background:url(taboff.gif) #c0c0c0 top left no-repeat;line-height:1.75em}
.tabgroup ul li a {color:#000 !important;font-weight:bold;text-decoration:none !important;padding:0 10px 0 0;display:block;background:url(taboff.gif) transparent top right no-repeat}
.tabgroup div {clear:left;display:none;width:auto;padding:10px;border:1px solid #999}
.tabgroup ul li.over {background:url(tabover.gif) #3375b2 top left no-repeat;border-bottom:1px solid #036}
.tabgroup ul li.over a {display:block;color:#fff;padding:0 10px 0 0;text-decoration:none;background:url(tabover.gif) transparent top right no-repeat}
.tabgroup ul li.on {background:url(tabon.gif) #3375b2 top left no-repeat;border-bottom:1px solid #036}
.tabgroup ul li.on a {display:block;padding:0 10px 0 0;text-decoration:none;background:url(tabon.gif) transparent top right no-repeat}
.tabgroup div.wn_blogs {width:530px;height:240px}
.tabgroup div.wn_resources {width:530px;height:240px}
.tabgroup div.wn_mkt {width:242px;height:240px}

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=adx.js
Content-Type: application/x-javascript; name=adx.js
Content-Location: http://ads.garagegames.com/adx.js
Content-Transfer-Encoding: Base64

ZnVuY3Rpb24gcGhwYWRzX2RlbGl2ZXJBY3RpdmVYKGNvbnRlbnQpCnsKCWRvY3Vt
ZW50LndyaXRlKGNvbnRlbnQpOwkKfQ==

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=prototype.js
Content-Type: application/x-javascript; charset=ISO-8859-1; name=prototype.js
Content-Location: http://www.garagegames.com/js/1501/prototype.js
Content-Transfer-Encoding: Base64

LyogIFByb3RvdHlwZSBKYXZhU2NyaXB0IGZyYW1ld29yaywgdmVyc2lvbiAxLjUu
MF9yYzEKICogIChjKSAyMDA1IFNhbSBTdGVwaGVuc29uIDxzYW1AY29uaW8ubmV0
PgogKgogKiAgUHJvdG90eXBlIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVy
IHRoZSB0ZXJtcyBvZiBhbiBNSVQtc3R5bGUgbGljZW5zZS4KICogIEZvciBkZXRh
aWxzLCBzZWUgdGhlIFByb3RvdHlwZSB3ZWIgc2l0ZTogaHR0cDovL3Byb3RvdHlw
ZS5jb25pby5uZXQvCiAqCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoK
dmFyIFByb3RvdHlwZSA9IHsKICBWZXJzaW9uOiAnMS41LjBfcmMxJywKICBTY3Jp
cHRGcmFnbWVudDogJyg/OjxzY3JpcHQuKj8+KSgoXG58XHJ8LikqPykoPzo8XC9z
Y3JpcHQ+KScsCgogIGVtcHR5RnVuY3Rpb246IGZ1bmN0aW9uKCkge30sCiAgSzog
ZnVuY3Rpb24oeCkge3JldHVybiB4fQp9Cgp2YXIgQ2xhc3MgPSB7CiAgY3JlYXRl
OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgdGhp
cy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CiAgfQp9
Cgp2YXIgQWJzdHJhY3QgPSBuZXcgT2JqZWN0KCk7CgpPYmplY3QuZXh0ZW5kID0g
ZnVuY3Rpb24oZGVzdGluYXRpb24sIHNvdXJjZSkgewogIGZvciAodmFyIHByb3Bl
cnR5IGluIHNvdXJjZSkgewogICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291
cmNlW3Byb3BlcnR5XTsKICB9CiAgcmV0dXJuIGRlc3RpbmF0aW9uOwp9CgpPYmpl
Y3QuZXh0ZW5kKE9iamVjdCwgewogIGluc3BlY3Q6IGZ1bmN0aW9uKG9iamVjdCkg
ewogICAgdHJ5IHsKICAgICAgaWYgKG9iamVjdCA9PSB1bmRlZmluZWQpIHJldHVy
biAndW5kZWZpbmVkJzsKICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4g
J251bGwnOwogICAgICByZXR1cm4gb2JqZWN0Lmluc3BlY3QgPyBvYmplY3QuaW5z
cGVjdCgpIDogb2JqZWN0LnRvU3RyaW5nKCk7CiAgICB9IGNhdGNoIChlKSB7CiAg
ICAgIGlmIChlIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikgcmV0dXJuICcuLi4nOwog
ICAgICB0aHJvdyBlOwogICAgfQogIH0sCgogIGtleXM6IGZ1bmN0aW9uKG9iamVj
dCkgewogICAgdmFyIGtleXMgPSBbXTsKICAgIGZvciAodmFyIHByb3BlcnR5IGlu
IG9iamVjdCkKICAgICAga2V5cy5wdXNoKHByb3BlcnR5KTsKICAgIHJldHVybiBr
ZXlzOwogIH0sCgogIHZhbHVlczogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICB2YXIg
dmFsdWVzID0gW107CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpCiAg
ICAgIHZhbHVlcy5wdXNoKG9iamVjdFtwcm9wZXJ0eV0pOwogICAgcmV0dXJuIHZh
bHVlczsKICB9LAoKICBjbG9uZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1
cm4gT2JqZWN0LmV4dGVuZCh7fSwgb2JqZWN0KTsKICB9Cn0pOwoKRnVuY3Rpb24u
cHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpIHsKICB2YXIgX19tZXRob2QgPSB0
aGlzLCBhcmdzID0gJEEoYXJndW1lbnRzKSwgb2JqZWN0ID0gYXJncy5zaGlmdCgp
OwogIHJldHVybiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBfX21ldGhvZC5hcHBs
eShvYmplY3QsIGFyZ3MuY29uY2F0KCRBKGFyZ3VtZW50cykpKTsKICB9Cn0KCkZ1
bmN0aW9uLnByb3RvdHlwZS5iaW5kQXNFdmVudExpc3RlbmVyID0gZnVuY3Rpb24o
b2JqZWN0KSB7CiAgdmFyIF9fbWV0aG9kID0gdGhpcywgYXJncyA9ICRBKGFyZ3Vt
ZW50cyksIG9iamVjdCA9IGFyZ3Muc2hpZnQoKTsKICByZXR1cm4gZnVuY3Rpb24o
ZXZlbnQpIHsKICAgIHJldHVybiBfX21ldGhvZC5hcHBseShvYmplY3QsIFsoIGV2
ZW50IHx8IHdpbmRvdy5ldmVudCldLmNvbmNhdChhcmdzKS5jb25jYXQoJEEoYXJn
dW1lbnRzKSkpOwogIH0KfQoKT2JqZWN0LmV4dGVuZChOdW1iZXIucHJvdG90eXBl
LCB7CiAgdG9Db2xvclBhcnQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIGRpZ2l0cyA9
IHRoaXMudG9TdHJpbmcoMTYpOwogICAgaWYgKHRoaXMgPCAxNikgcmV0dXJuICcw
JyArIGRpZ2l0czsKICAgIHJldHVybiBkaWdpdHM7CiAgfSwKCiAgc3VjYzogZnVu
Y3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcyArIDE7CiAgfSwKCiAgdGltZXM6IGZ1
bmN0aW9uKGl0ZXJhdG9yKSB7CiAgICAkUigwLCB0aGlzLCB0cnVlKS5lYWNoKGl0
ZXJhdG9yKTsKICAgIHJldHVybiB0aGlzOwogIH0KfSk7Cgp2YXIgVHJ5ID0gewog
IHRoZXNlOiBmdW5jdGlvbigpIHsKICAgIHZhciByZXR1cm5WYWx1ZTsKCiAgICBm
b3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAg
ICB2YXIgbGFtYmRhID0gYXJndW1lbnRzW2ldOwogICAgICB0cnkgewogICAgICAg
IHJldHVyblZhbHVlID0gbGFtYmRhKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0g
Y2F0Y2ggKGUpIHt9CiAgICB9CgogICAgcmV0dXJuIHJldHVyblZhbHVlOwogIH0K
fQoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgp2YXIgUGVyaW9kaWNh
bEV4ZWN1dGVyID0gQ2xhc3MuY3JlYXRlKCk7ClBlcmlvZGljYWxFeGVjdXRlci5w
cm90b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGZy
ZXF1ZW5jeSkgewogICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgdGhp
cy5mcmVxdWVuY3kgPSBmcmVxdWVuY3k7CiAgICB0aGlzLmN1cnJlbnRseUV4ZWN1
dGluZyA9IGZhbHNlOwoKICAgIHRoaXMucmVnaXN0ZXJDYWxsYmFjaygpOwogIH0s
CgogIHJlZ2lzdGVyQ2FsbGJhY2s6IGZ1bmN0aW9uKCkgewogICAgdGhpcy50aW1l
ciA9IHNldEludGVydmFsKHRoaXMub25UaW1lckV2ZW50LmJpbmQodGhpcyksIHRo
aXMuZnJlcXVlbmN5ICogMTAwMCk7CiAgfSwKCiAgc3RvcDogZnVuY3Rpb24oKSB7
CiAgICBpZiAoIXRoaXMudGltZXIpIHJldHVybjsKICAgIGNsZWFySW50ZXJ2YWwo
dGhpcy50aW1lcik7CiAgICB0aGlzLnRpbWVyID0gbnVsbDsKICB9LAoKICBvblRp
bWVyRXZlbnQ6IGZ1bmN0aW9uKCkgewogICAgaWYgKCF0aGlzLmN1cnJlbnRseUV4
ZWN1dGluZykgewogICAgICB0cnkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhl
Y3V0aW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMpOwogICAg
ICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0g
ZmFsc2U7CiAgICAgIH0KICAgIH0KICB9Cn0KT2JqZWN0LmV4dGVuZChTdHJpbmcu
cHJvdG90eXBlLCB7CiAgZ3N1YjogZnVuY3Rpb24ocGF0dGVybiwgcmVwbGFjZW1l
bnQpIHsKICAgIHZhciByZXN1bHQgPSAnJywgc291cmNlID0gdGhpcywgbWF0Y2g7
CiAgICByZXBsYWNlbWVudCA9IGFyZ3VtZW50cy5jYWxsZWUucHJlcGFyZVJlcGxh
Y2VtZW50KHJlcGxhY2VtZW50KTsKCiAgICB3aGlsZSAoc291cmNlLmxlbmd0aCA+
IDApIHsKICAgICAgaWYgKG1hdGNoID0gc291cmNlLm1hdGNoKHBhdHRlcm4pKSB7
CiAgICAgICAgcmVzdWx0ICs9IHNvdXJjZS5zbGljZSgwLCBtYXRjaC5pbmRleCk7
CiAgICAgICAgcmVzdWx0ICs9IChyZXBsYWNlbWVudChtYXRjaCkgfHwgJycpLnRv
U3RyaW5nKCk7CiAgICAgICAgc291cmNlICA9IHNvdXJjZS5zbGljZShtYXRjaC5p
bmRleCArIG1hdGNoWzBdLmxlbmd0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAg
cmVzdWx0ICs9IHNvdXJjZSwgc291cmNlID0gJyc7CiAgICAgIH0KICAgIH0KICAg
IHJldHVybiByZXN1bHQ7CiAgfSwKCiAgc3ViOiBmdW5jdGlvbihwYXR0ZXJuLCBy
ZXBsYWNlbWVudCwgY291bnQpIHsKICAgIHJlcGxhY2VtZW50ID0gdGhpcy5nc3Vi
LnByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNlbWVudCk7CiAgICBjb3VudCA9IGNv
dW50ID09PSB1bmRlZmluZWQgPyAxIDogY291bnQ7CgogICAgcmV0dXJuIHRoaXMu
Z3N1YihwYXR0ZXJuLCBmdW5jdGlvbihtYXRjaCkgewogICAgICBpZiAoLS1jb3Vu
dCA8IDApIHJldHVybiBtYXRjaFswXTsKICAgICAgcmV0dXJuIHJlcGxhY2VtZW50
KG1hdGNoKTsKICAgIH0pOwogIH0sCgogIHNjYW46IGZ1bmN0aW9uKHBhdHRlcm4s
IGl0ZXJhdG9yKSB7CiAgICB0aGlzLmdzdWIocGF0dGVybiwgaXRlcmF0b3IpOwog
ICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgdHJ1bmNhdGU6IGZ1bmN0aW9uKGxlbmd0
aCwgdHJ1bmNhdGlvbikgewogICAgbGVuZ3RoID0gbGVuZ3RoIHx8IDMwOwogICAg
dHJ1bmNhdGlvbiA9IHRydW5jYXRpb24gPT09IHVuZGVmaW5lZCA/ICcuLi4nIDog
dHJ1bmNhdGlvbjsKICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IGxlbmd0aCA/CiAg
ICAgIHRoaXMuc2xpY2UoMCwgbGVuZ3RoIC0gdHJ1bmNhdGlvbi5sZW5ndGgpICsg
dHJ1bmNhdGlvbiA6IHRoaXM7CiAgfSwKCiAgc3RyaXA6IGZ1bmN0aW9uKCkgewog
ICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzKy8sICcnKS5yZXBsYWNlKC9ccysk
LywgJycpOwogIH0sCgogIHN0cmlwVGFnczogZnVuY3Rpb24oKSB7CiAgICByZXR1
cm4gdGhpcy5yZXBsYWNlKC88XC8/W14+XSs+L2dpLCAnJyk7CiAgfSwKCiAgc3Ry
aXBTY3JpcHRzOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2Uo
bmV3IFJlZ0V4cChQcm90b3R5cGUuU2NyaXB0RnJhZ21lbnQsICdpbWcnKSwgJycp
OwogIH0sCgogIGV4dHJhY3RTY3JpcHRzOiBmdW5jdGlvbigpIHsKICAgIHZhciBt
YXRjaEFsbCA9IG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAn
aW1nJyk7CiAgICB2YXIgbWF0Y2hPbmUgPSBuZXcgUmVnRXhwKFByb3RvdHlwZS5T
Y3JpcHRGcmFnbWVudCwgJ2ltJyk7CiAgICByZXR1cm4gKHRoaXMubWF0Y2gobWF0
Y2hBbGwpIHx8IFtdKS5tYXAoZnVuY3Rpb24oc2NyaXB0VGFnKSB7CiAgICAgIHJl
dHVybiAoc2NyaXB0VGFnLm1hdGNoKG1hdGNoT25lKSB8fCBbJycsICcnXSlbMV07
CiAgICB9KTsKICB9LAoKICBldmFsU2NyaXB0czogZnVuY3Rpb24oKSB7CiAgICBy
ZXR1cm4gdGhpcy5leHRyYWN0U2NyaXB0cygpLm1hcChmdW5jdGlvbihzY3JpcHQp
IHsgcmV0dXJuIGV2YWwoc2NyaXB0KSB9KTsKICB9LAoKICBlc2NhcGVIVE1MOiBm
dW5jdGlvbigpIHsKICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50
KCdkaXYnKTsKICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUo
dGhpcyk7CiAgICBkaXYuYXBwZW5kQ2hpbGQodGV4dCk7CiAgICByZXR1cm4gZGl2
LmlubmVySFRNTDsKICB9LAoKICB1bmVzY2FwZUhUTUw6IGZ1bmN0aW9uKCkgewog
ICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAg
ZGl2LmlubmVySFRNTCA9IHRoaXMuc3RyaXBUYWdzKCk7CiAgICByZXR1cm4gZGl2
LmNoaWxkTm9kZXNbMF0gPyBkaXYuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgOiAn
JzsKICB9LAoKICB0b1F1ZXJ5UGFyYW1zOiBmdW5jdGlvbigpIHsKICAgIHZhciBw
YWlycyA9IHRoaXMubWF0Y2goL15cPz8oLiopJC8pWzFdLnNwbGl0KCcmJyk7CiAg
ICByZXR1cm4gcGFpcnMuaW5qZWN0KHt9LCBmdW5jdGlvbihwYXJhbXMsIHBhaXJT
dHJpbmcpIHsKICAgICAgdmFyIHBhaXIgID0gcGFpclN0cmluZy5zcGxpdCgnPScp
OwogICAgICB2YXIgdmFsdWUgPSBwYWlyWzFdID8gZGVjb2RlVVJJQ29tcG9uZW50
KHBhaXJbMV0pIDogdW5kZWZpbmVkOwogICAgICBwYXJhbXNbZGVjb2RlVVJJQ29t
cG9uZW50KHBhaXJbMF0pXSA9IHZhbHVlOwogICAgICByZXR1cm4gcGFyYW1zOwog
ICAgfSk7CiAgfSwKCiAgdG9BcnJheTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4g
dGhpcy5zcGxpdCgnJyk7CiAgfSwKCiAgY2FtZWxpemU6IGZ1bmN0aW9uKCkgewog
ICAgdmFyIG9TdHJpbmdMaXN0ID0gdGhpcy5zcGxpdCgnLScpOwogICAgaWYgKG9T
dHJpbmdMaXN0Lmxlbmd0aCA9PSAxKSByZXR1cm4gb1N0cmluZ0xpc3RbMF07Cgog
ICAgdmFyIGNhbWVsaXplZFN0cmluZyA9IHRoaXMuaW5kZXhPZignLScpID09IDAK
ICAgICAgPyBvU3RyaW5nTGlzdFswXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSAr
IG9TdHJpbmdMaXN0WzBdLnN1YnN0cmluZygxKQogICAgICA6IG9TdHJpbmdMaXN0
WzBdOwoKICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBvU3RyaW5nTGlzdC5sZW5n
dGg7IGkgPCBsZW47IGkrKykgewogICAgICB2YXIgcyA9IG9TdHJpbmdMaXN0W2ld
OwogICAgICBjYW1lbGl6ZWRTdHJpbmcgKz0gcy5jaGFyQXQoMCkudG9VcHBlckNh
c2UoKSArIHMuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHJldHVybiBjYW1lbGl6
ZWRTdHJpbmc7CiAgfSwKCiAgaW5zcGVjdDogZnVuY3Rpb24odXNlRG91YmxlUXVv
dGVzKSB7CiAgICB2YXIgZXNjYXBlZFN0cmluZyA9IHRoaXMucmVwbGFjZSgvXFwv
ZywgJ1xcXFwnKTsKICAgIGlmICh1c2VEb3VibGVRdW90ZXMpCiAgICAgIHJldHVy
biAnIicgKyBlc2NhcGVkU3RyaW5nLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyIn
OwogICAgZWxzZQogICAgICByZXR1cm4gIiciICsgZXNjYXBlZFN0cmluZy5yZXBs
YWNlKC8nL2csICdcXFwnJykgKyAiJyI7CiAgfQp9KTsKClN0cmluZy5wcm90b3R5
cGUuZ3N1Yi5wcmVwYXJlUmVwbGFjZW1lbnQgPSBmdW5jdGlvbihyZXBsYWNlbWVu
dCkgewogIGlmICh0eXBlb2YgcmVwbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJykgcmV0
dXJuIHJlcGxhY2VtZW50OwogIHZhciB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShy
ZXBsYWNlbWVudCk7CiAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVybiB0
ZW1wbGF0ZS5ldmFsdWF0ZShtYXRjaCkgfTsKfQoKU3RyaW5nLnByb3RvdHlwZS5w
YXJzZVF1ZXJ5ID0gU3RyaW5nLnByb3RvdHlwZS50b1F1ZXJ5UGFyYW1zOwoKdmFy
IFRlbXBsYXRlID0gQ2xhc3MuY3JlYXRlKCk7ClRlbXBsYXRlLlBhdHRlcm4gPSAv
KF58LnxccnxcbikoI1x7KC4qPylcfSkvOwpUZW1wbGF0ZS5wcm90b3R5cGUgPSB7
CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24odGVtcGxhdGUsIHBhdHRlcm4pIHsKICAg
IHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZS50b1N0cmluZygpOwogICAgdGhpcy5w
YXR0ZXJuICA9IHBhdHRlcm4gfHwgVGVtcGxhdGUuUGF0dGVybjsKICB9LAoKICBl
dmFsdWF0ZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gdGhpcy50ZW1w
bGF0ZS5nc3ViKHRoaXMucGF0dGVybiwgZnVuY3Rpb24obWF0Y2gpIHsKICAgICAg
dmFyIGJlZm9yZSA9IG1hdGNoWzFdOwogICAgICBpZiAoYmVmb3JlID09ICdcXCcp
IHJldHVybiBtYXRjaFsyXTsKICAgICAgcmV0dXJuIGJlZm9yZSArIChvYmplY3Rb
bWF0Y2hbM11dIHx8ICcnKS50b1N0cmluZygpOwogICAgfSk7CiAgfQp9Cgp2YXIg
JGJyZWFrICAgID0gbmV3IE9iamVjdCgpOwp2YXIgJGNvbnRpbnVlID0gbmV3IE9i
amVjdCgpOwoKdmFyIEVudW1lcmFibGUgPSB7CiAgZWFjaDogZnVuY3Rpb24oaXRl
cmF0b3IpIHsKICAgIHZhciBpbmRleCA9IDA7CiAgICB0cnkgewogICAgICB0aGlz
Ll9lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg
IGl0ZXJhdG9yKHZhbHVlLCBpbmRleCsrKTsKICAgICAgICB9IGNhdGNoIChlKSB7
CiAgICAgICAgICBpZiAoZSAhPSAkY29udGludWUpIHRocm93IGU7CiAgICAgICAg
fQogICAgICB9KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaWYgKGUgIT0gJGJy
ZWFrKSB0aHJvdyBlOwogICAgfQogIH0sCgogIGFsbDogZnVuY3Rpb24oaXRlcmF0
b3IpIHsKICAgIHZhciByZXN1bHQgPSB0cnVlOwogICAgdGhpcy5lYWNoKGZ1bmN0
aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXN1bHQgPSByZXN1bHQgJiYgISEo
aXRlcmF0b3IgfHwgUHJvdG90eXBlLkspKHZhbHVlLCBpbmRleCk7CiAgICAgIGlm
ICghcmVzdWx0KSB0aHJvdyAkYnJlYWs7CiAgICB9KTsKICAgIHJldHVybiByZXN1
bHQ7CiAgfSwKCiAgYW55OiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFyIHJl
c3VsdCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRl
eCkgewogICAgICBpZiAocmVzdWx0ID0gISEoaXRlcmF0b3IgfHwgUHJvdG90eXBl
LkspKHZhbHVlLCBpbmRleCkpCiAgICAgICAgdGhyb3cgJGJyZWFrOwogICAgfSk7
CiAgICByZXR1cm4gcmVzdWx0OwogIH0sCgogIGNvbGxlY3Q6IGZ1bmN0aW9uKGl0
ZXJhdG9yKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1
bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXN1bHRzLnB1c2goaXRlcmF0
b3IodmFsdWUsIGluZGV4KSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHRzOwog
IH0sCgogIGRldGVjdDogZnVuY3Rpb24gKGl0ZXJhdG9yKSB7CiAgICB2YXIgcmVz
dWx0OwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAg
ICBpZiAoaXRlcmF0b3IodmFsdWUsIGluZGV4KSkgewogICAgICAgIHJlc3VsdCA9
IHZhbHVlOwogICAgICAgIHRocm93ICRicmVhazsKICAgICAgfQogICAgfSk7CiAg
ICByZXR1cm4gcmVzdWx0OwogIH0sCgogIGZpbmRBbGw6IGZ1bmN0aW9uKGl0ZXJh
dG9yKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0
aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAoaXRlcmF0b3IodmFsdWUsIGlu
ZGV4KSkKICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgfSk7CiAgICBy
ZXR1cm4gcmVzdWx0czsKICB9LAoKICBncmVwOiBmdW5jdGlvbihwYXR0ZXJuLCBp
dGVyYXRvcikgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHRoaXMuZWFjaChm
dW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgdmFyIHN0cmluZ1ZhbHVlID0g
dmFsdWUudG9TdHJpbmcoKTsKICAgICAgaWYgKHN0cmluZ1ZhbHVlLm1hdGNoKHBh
dHRlcm4pKQogICAgICAgIHJlc3VsdHMucHVzaCgoaXRlcmF0b3IgfHwgUHJvdG90
eXBlLkspKHZhbHVlLCBpbmRleCkpOwogICAgfSkKICAgIHJldHVybiByZXN1bHRz
OwogIH0sCgogIGluY2x1ZGU6IGZ1bmN0aW9uKG9iamVjdCkgewogICAgdmFyIGZv
dW5kID0gZmFsc2U7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUpIHsKICAg
ICAgaWYgKHZhbHVlID09IG9iamVjdCkgewogICAgICAgIGZvdW5kID0gdHJ1ZTsK
ICAgICAgICB0aHJvdyAkYnJlYWs7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJu
IGZvdW5kOwogIH0sCgogIGluamVjdDogZnVuY3Rpb24obWVtbywgaXRlcmF0b3Ip
IHsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAg
bWVtbyA9IGl0ZXJhdG9yKG1lbW8sIHZhbHVlLCBpbmRleCk7CiAgICB9KTsKICAg
IHJldHVybiBtZW1vOwogIH0sCgogIGludm9rZTogZnVuY3Rpb24obWV0aG9kKSB7
CiAgICB2YXIgYXJncyA9ICRBKGFyZ3VtZW50cykuc2xpY2UoMSk7CiAgICByZXR1
cm4gdGhpcy5jb2xsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB2
YWx1ZVttZXRob2RdLmFwcGx5KHZhbHVlLCBhcmdzKTsKICAgIH0pOwogIH0sCgog
IG1heDogZnVuY3Rpb24oaXRlcmF0b3IpIHsKICAgIHZhciByZXN1bHQ7CiAgICB0
aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHZhbHVlID0g
KGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LKSh2YWx1ZSwgaW5kZXgpOwogICAgICBp
ZiAocmVzdWx0ID09IHVuZGVmaW5lZCB8fCB2YWx1ZSA+PSByZXN1bHQpCiAgICAg
ICAgcmVzdWx0ID0gdmFsdWU7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAg
fSwKCiAgbWluOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFyIHJlc3VsdDsK
ICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgdmFs
dWUgPSAoaXRlcmF0b3IgfHwgUHJvdG90eXBlLkspKHZhbHVlLCBpbmRleCk7CiAg
ICAgIGlmIChyZXN1bHQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlIDwgcmVzdWx0KQog
ICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0
OwogIH0sCgogIHBhcnRpdGlvbjogZnVuY3Rpb24oaXRlcmF0b3IpIHsKICAgIHZh
ciB0cnVlcyA9IFtdLCBmYWxzZXMgPSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlv
bih2YWx1ZSwgaW5kZXgpIHsKICAgICAgKChpdGVyYXRvciB8fCBQcm90b3R5cGUu
SykodmFsdWUsIGluZGV4KSA/CiAgICAgICAgdHJ1ZXMgOiBmYWxzZXMpLnB1c2go
dmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gW3RydWVzLCBmYWxzZXNdOwogIH0s
CgogIHBsdWNrOiBmdW5jdGlvbihwcm9wZXJ0eSkgewogICAgdmFyIHJlc3VsdHMg
PSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAg
ICAgcmVzdWx0cy5wdXNoKHZhbHVlW3Byb3BlcnR5XSk7CiAgICB9KTsKICAgIHJl
dHVybiByZXN1bHRzOwogIH0sCgogIHJlamVjdDogZnVuY3Rpb24oaXRlcmF0b3Ip
IHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24o
dmFsdWUsIGluZGV4KSB7CiAgICAgIGlmICghaXRlcmF0b3IodmFsdWUsIGluZGV4
KSkKICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgfSk7CiAgICByZXR1
cm4gcmVzdWx0czsKICB9LAoKICBzb3J0Qnk6IGZ1bmN0aW9uKGl0ZXJhdG9yKSB7
CiAgICByZXR1cm4gdGhpcy5jb2xsZWN0KGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkg
ewogICAgICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgY3JpdGVyaWE6IGl0ZXJhdG9y
KHZhbHVlLCBpbmRleCl9OwogICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdo
dCkgewogICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWEsIGIgPSByaWdodC5jcml0
ZXJpYTsKICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwOwog
ICAgfSkucGx1Y2soJ3ZhbHVlJyk7CiAgfSwKCiAgdG9BcnJheTogZnVuY3Rpb24o
KSB7CiAgICByZXR1cm4gdGhpcy5jb2xsZWN0KFByb3RvdHlwZS5LKTsKICB9LAoK
ICB6aXA6IGZ1bmN0aW9uKCkgewogICAgdmFyIGl0ZXJhdG9yID0gUHJvdG90eXBl
LkssIGFyZ3MgPSAkQShhcmd1bWVudHMpOwogICAgaWYgKHR5cGVvZiBhcmdzLmxh
c3QoKSA9PSAnZnVuY3Rpb24nKQogICAgICBpdGVyYXRvciA9IGFyZ3MucG9wKCk7
CgogICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcmdzKS5tYXAo
JEEpOwogICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkg
ewogICAgICByZXR1cm4gaXRlcmF0b3IoY29sbGVjdGlvbnMucGx1Y2soaW5kZXgp
KTsKICAgIH0pOwogIH0sCgogIGluc3BlY3Q6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuICcjPEVudW1lcmFibGU6JyArIHRoaXMudG9BcnJheSgpLmluc3BlY3QoKSAr
ICc+JzsKICB9Cn0KCk9iamVjdC5leHRlbmQoRW51bWVyYWJsZSwgewogIG1hcDog
ICAgIEVudW1lcmFibGUuY29sbGVjdCwKICBmaW5kOiAgICBFbnVtZXJhYmxlLmRl
dGVjdCwKICBzZWxlY3Q6ICBFbnVtZXJhYmxlLmZpbmRBbGwsCiAgbWVtYmVyOiAg
RW51bWVyYWJsZS5pbmNsdWRlLAogIGVudHJpZXM6IEVudW1lcmFibGUudG9BcnJh
eQp9KTsKdmFyICRBID0gQXJyYXkuZnJvbSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7
CiAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIFtdOwogIGlmIChpdGVyYWJsZS50b0Fy
cmF5KSB7CiAgICByZXR1cm4gaXRlcmFibGUudG9BcnJheSgpOwogIH0gZWxzZSB7
CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBp
dGVyYWJsZS5sZW5ndGg7IGkrKykKICAgICAgcmVzdWx0cy5wdXNoKGl0ZXJhYmxl
W2ldKTsKICAgIHJldHVybiByZXN1bHRzOwogIH0KfQoKT2JqZWN0LmV4dGVuZChB
cnJheS5wcm90b3R5cGUsIEVudW1lcmFibGUpOwoKaWYgKCFBcnJheS5wcm90b3R5
cGUuX3JldmVyc2UpCiAgQXJyYXkucHJvdG90eXBlLl9yZXZlcnNlID0gQXJyYXku
cHJvdG90eXBlLnJldmVyc2U7CgpPYmplY3QuZXh0ZW5kKEFycmF5LnByb3RvdHlw
ZSwgewogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgZm9yICh2YXIg
aSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKQogICAgICBpdGVyYXRvcih0aGlz
W2ldKTsKICB9LAoKICBjbGVhcjogZnVuY3Rpb24oKSB7CiAgICB0aGlzLmxlbmd0
aCA9IDA7CiAgICByZXR1cm4gdGhpczsKICB9LAoKICBmaXJzdDogZnVuY3Rpb24o
KSB7CiAgICByZXR1cm4gdGhpc1swXTsKICB9LAoKICBsYXN0OiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07CiAgfSwKCiAgY29t
cGFjdDogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3QoZnVuY3Rp
b24odmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlICE9IHVuZGVmaW5lZCB8fCB2
YWx1ZSAhPSBudWxsOwogICAgfSk7CiAgfSwKCiAgZmxhdHRlbjogZnVuY3Rpb24o
KSB7CiAgICByZXR1cm4gdGhpcy5pbmplY3QoW10sIGZ1bmN0aW9uKGFycmF5LCB2
YWx1ZSkgewogICAgICByZXR1cm4gYXJyYXkuY29uY2F0KHZhbHVlICYmIHZhbHVl
LmNvbnN0cnVjdG9yID09IEFycmF5ID8KICAgICAgICB2YWx1ZS5mbGF0dGVuKCkg
OiBbdmFsdWVdKTsKICAgIH0pOwogIH0sCgogIHdpdGhvdXQ6IGZ1bmN0aW9uKCkg
ewogICAgdmFyIHZhbHVlcyA9ICRBKGFyZ3VtZW50cyk7CiAgICByZXR1cm4gdGhp
cy5zZWxlY3QoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuICF2YWx1ZXMu
aW5jbHVkZSh2YWx1ZSk7CiAgICB9KTsKICB9LAoKICBpbmRleE9mOiBmdW5jdGlv
bihvYmplY3QpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7
IGkrKykKICAgICAgaWYgKHRoaXNbaV0gPT0gb2JqZWN0KSByZXR1cm4gaTsKICAg
IHJldHVybiAtMTsKICB9LAoKICByZXZlcnNlOiBmdW5jdGlvbihpbmxpbmUpIHsK
ICAgIHJldHVybiAoaW5saW5lICE9PSBmYWxzZSA/IHRoaXMgOiB0aGlzLnRvQXJy
YXkoKSkuX3JldmVyc2UoKTsKICB9LAoKICByZWR1Y2U6IGZ1bmN0aW9uKCkgewog
ICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gMSA/IHRoaXMgOiB0aGlzWzBdOwogIH0s
CgogIHVuaXE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtd
LCBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIGFycmF5Lmlu
Y2x1ZGUodmFsdWUpID8gYXJyYXkgOiBhcnJheS5jb25jYXQoW3ZhbHVlXSk7CiAg
ICB9KTsKICB9LAoKICBpbnNwZWN0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiAn
WycgKyB0aGlzLm1hcChPYmplY3QuaW5zcGVjdCkuam9pbignLCAnKSArICddJzsK
ICB9Cn0pOwp2YXIgSGFzaCA9IHsKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0b3Ip
IHsKICAgIGZvciAodmFyIGtleSBpbiB0aGlzKSB7CiAgICAgIHZhciB2YWx1ZSA9
IHRoaXNba2V5XTsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24n
KSBjb250aW51ZTsKCiAgICAgIHZhciBwYWlyID0gW2tleSwgdmFsdWVdOwogICAg
ICBwYWlyLmtleSA9IGtleTsKICAgICAgcGFpci52YWx1ZSA9IHZhbHVlOwogICAg
ICBpdGVyYXRvcihwYWlyKTsKICAgIH0KICB9LAoKICBrZXlzOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzLnBsdWNrKCdrZXknKTsKICB9LAoKICB2YWx1ZXM6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ3ZhbHVlJyk7CiAg
fSwKCiAgbWVyZ2U6IGZ1bmN0aW9uKGhhc2gpIHsKICAgIHJldHVybiAkSChoYXNo
KS5pbmplY3QoJEgodGhpcyksIGZ1bmN0aW9uKG1lcmdlZEhhc2gsIHBhaXIpIHsK
ICAgICAgbWVyZ2VkSGFzaFtwYWlyLmtleV0gPSBwYWlyLnZhbHVlOwogICAgICBy
ZXR1cm4gbWVyZ2VkSGFzaDsKICAgIH0pOwogIH0sCgogIHRvUXVlcnlTdHJpbmc6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHBhaXIp
IHsKICAgICAgcmV0dXJuIHBhaXIubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9p
bignPScpOwogICAgfSkuam9pbignJicpOwogIH0sCgogIGluc3BlY3Q6IGZ1bmN0
aW9uKCkgewogICAgcmV0dXJuICcjPEhhc2g6eycgKyB0aGlzLm1hcChmdW5jdGlv
bihwYWlyKSB7CiAgICAgIHJldHVybiBwYWlyLm1hcChPYmplY3QuaW5zcGVjdCku
am9pbignOiAnKTsKICAgIH0pLmpvaW4oJywgJykgKyAnfT4nOwogIH0KfQoKZnVu
Y3Rpb24gJEgob2JqZWN0KSB7CiAgdmFyIGhhc2ggPSBPYmplY3QuZXh0ZW5kKHt9
LCBvYmplY3QgfHwge30pOwogIE9iamVjdC5leHRlbmQoaGFzaCwgRW51bWVyYWJs
ZSk7CiAgT2JqZWN0LmV4dGVuZChoYXNoLCBIYXNoKTsKICByZXR1cm4gaGFzaDsK
fQpPYmplY3RSYW5nZSA9IENsYXNzLmNyZWF0ZSgpOwpPYmplY3QuZXh0ZW5kKE9i
amVjdFJhbmdlLnByb3RvdHlwZSwgRW51bWVyYWJsZSk7Ck9iamVjdC5leHRlbmQo
T2JqZWN0UmFuZ2UucHJvdG90eXBlLCB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24o
c3RhcnQsIGVuZCwgZXhjbHVzaXZlKSB7CiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7
CiAgICB0aGlzLmVuZCA9IGVuZDsKICAgIHRoaXMuZXhjbHVzaXZlID0gZXhjbHVz
aXZlOwogIH0sCgogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFy
IHZhbHVlID0gdGhpcy5zdGFydDsKICAgIHdoaWxlICh0aGlzLmluY2x1ZGUodmFs
dWUpKSB7CiAgICAgIGl0ZXJhdG9yKHZhbHVlKTsKICAgICAgdmFsdWUgPSB2YWx1
ZS5zdWNjKCk7CiAgICB9CiAgfSwKCiAgaW5jbHVkZTogZnVuY3Rpb24odmFsdWUp
IHsKICAgIGlmICh2YWx1ZSA8IHRoaXMuc3RhcnQpCiAgICAgIHJldHVybiBmYWxz
ZTsKICAgIGlmICh0aGlzLmV4Y2x1c2l2ZSkKICAgICAgcmV0dXJuIHZhbHVlIDwg
dGhpcy5lbmQ7CiAgICByZXR1cm4gdmFsdWUgPD0gdGhpcy5lbmQ7CiAgfQp9KTsK
CnZhciAkUiA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIGV4Y2x1c2l2ZSkgewogIHJl
dHVybiBuZXcgT2JqZWN0UmFuZ2Uoc3RhcnQsIGVuZCwgZXhjbHVzaXZlKTsKfQoK
dmFyIEFqYXggPSB7CiAgZ2V0VHJhbnNwb3J0OiBmdW5jdGlvbigpIHsKICAgIHJl
dHVybiBUcnkudGhlc2UoCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgWE1M
SHR0cFJlcXVlc3QoKX0sCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgQWN0
aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKX0sCiAgICAgIGZ1bmN0aW9uKCkg
e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKX0K
ICAgICkgfHwgZmFsc2U7CiAgfSwKCiAgYWN0aXZlUmVxdWVzdENvdW50OiAwCn0K
CkFqYXguUmVzcG9uZGVycyA9IHsKICByZXNwb25kZXJzOiBbXSwKCiAgX2VhY2g6
IGZ1bmN0aW9uKGl0ZXJhdG9yKSB7CiAgICB0aGlzLnJlc3BvbmRlcnMuX2VhY2go
aXRlcmF0b3IpOwogIH0sCgogIHJlZ2lzdGVyOiBmdW5jdGlvbihyZXNwb25kZXJU
b0FkZCkgewogICAgaWYgKCF0aGlzLmluY2x1ZGUocmVzcG9uZGVyVG9BZGQpKQog
ICAgICB0aGlzLnJlc3BvbmRlcnMucHVzaChyZXNwb25kZXJUb0FkZCk7CiAgfSwK
CiAgdW5yZWdpc3RlcjogZnVuY3Rpb24ocmVzcG9uZGVyVG9SZW1vdmUpIHsKICAg
IHRoaXMucmVzcG9uZGVycyA9IHRoaXMucmVzcG9uZGVycy53aXRob3V0KHJlc3Bv
bmRlclRvUmVtb3ZlKTsKICB9LAoKICBkaXNwYXRjaDogZnVuY3Rpb24oY2FsbGJh
Y2ssIHJlcXVlc3QsIHRyYW5zcG9ydCwganNvbikgewogICAgdGhpcy5lYWNoKGZ1
bmN0aW9uKHJlc3BvbmRlcikgewogICAgICBpZiAocmVzcG9uZGVyW2NhbGxiYWNr
XSAmJiB0eXBlb2YgcmVzcG9uZGVyW2NhbGxiYWNrXSA9PSAnZnVuY3Rpb24nKSB7
CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlc3BvbmRlcltjYWxsYmFja10uYXBw
bHkocmVzcG9uZGVyLCBbcmVxdWVzdCwgdHJhbnNwb3J0LCBqc29uXSk7CiAgICAg
ICAgfSBjYXRjaCAoZSkge30KICAgICAgfQogICAgfSk7CiAgfQp9OwoKT2JqZWN0
LmV4dGVuZChBamF4LlJlc3BvbmRlcnMsIEVudW1lcmFibGUpOwoKQWpheC5SZXNw
b25kZXJzLnJlZ2lzdGVyKHsKICBvbkNyZWF0ZTogZnVuY3Rpb24oKSB7CiAgICBB
amF4LmFjdGl2ZVJlcXVlc3RDb3VudCsrOwogIH0sCgogIG9uQ29tcGxldGU6IGZ1
bmN0aW9uKCkgewogICAgQWpheC5hY3RpdmVSZXF1ZXN0Q291bnQtLTsKICB9Cn0p
OwoKQWpheC5CYXNlID0gZnVuY3Rpb24oKSB7fTsKQWpheC5CYXNlLnByb3RvdHlw
ZSA9IHsKICBzZXRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICB0aGlz
Lm9wdGlvbnMgPSB7CiAgICAgIG1ldGhvZDogICAgICAgJ3Bvc3QnLAogICAgICBh
c3luY2hyb25vdXM6IHRydWUsCiAgICAgIGNvbnRlbnRUeXBlOiAgJ2FwcGxpY2F0
aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCiAgICAgIHBhcmFtZXRlcnM6ICAg
JycKICAgIH0KICAgIE9iamVjdC5leHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25z
IHx8IHt9KTsKICB9LAoKICByZXNwb25zZUlzU3VjY2VzczogZnVuY3Rpb24oKSB7
CiAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuc3RhdHVzID09IHVuZGVmaW5lZAog
ICAgICAgIHx8IHRoaXMudHJhbnNwb3J0LnN0YXR1cyA9PSAwCiAgICAgICAgfHwg
KHRoaXMudHJhbnNwb3J0LnN0YXR1cyA+PSAyMDAgJiYgdGhpcy50cmFuc3BvcnQu
c3RhdHVzIDwgMzAwKTsKICB9LAoKICByZXNwb25zZUlzRmFpbHVyZTogZnVuY3Rp
b24oKSB7CiAgICByZXR1cm4gIXRoaXMucmVzcG9uc2VJc1N1Y2Nlc3MoKTsKICB9
Cn0KCkFqYXguUmVxdWVzdCA9IENsYXNzLmNyZWF0ZSgpOwpBamF4LlJlcXVlc3Qu
RXZlbnRzID0KICBbJ1VuaW5pdGlhbGl6ZWQnLCAnTG9hZGluZycsICdMb2FkZWQn
LCAnSW50ZXJhY3RpdmUnLCAnQ29tcGxldGUnXTsKCkFqYXguUmVxdWVzdC5wcm90
b3R5cGUgPSBPYmplY3QuZXh0ZW5kKG5ldyBBamF4LkJhc2UoKSwgewogIGluaXRp
YWxpemU6IGZ1bmN0aW9uKHVybCwgb3B0aW9ucykgewogICAgdGhpcy50cmFuc3Bv
cnQgPSBBamF4LmdldFRyYW5zcG9ydCgpOwogICAgdGhpcy5zZXRPcHRpb25zKG9w
dGlvbnMpOwogICAgdGhpcy5yZXF1ZXN0KHVybCk7CiAgfSwKCiAgcmVxdWVzdDog
ZnVuY3Rpb24odXJsKSB7CiAgICB2YXIgcGFyYW1ldGVycyA9IHRoaXMub3B0aW9u
cy5wYXJhbWV0ZXJzIHx8ICcnOwogICAgaWYgKHBhcmFtZXRlcnMubGVuZ3RoID4g
MCkgcGFyYW1ldGVycyArPSAnJl89JzsKCiAgICAvKiBTaW11bGF0ZSBvdGhlciB2
ZXJicyBvdmVyIHBvc3QgKi8KICAgIGlmICh0aGlzLm9wdGlvbnMubWV0aG9kICE9
ICdnZXQnICYmIHRoaXMub3B0aW9ucy5tZXRob2QgIT0gJ3Bvc3QnKSB7CiAgICAg
IHBhcmFtZXRlcnMgKz0gKHBhcmFtZXRlcnMubGVuZ3RoID4gMCA/ICcmJyA6ICcn
KSArICdfbWV0aG9kPScgKyB0aGlzLm9wdGlvbnMubWV0aG9kOwogICAgICB0aGlz
Lm9wdGlvbnMubWV0aG9kID0gJ3Bvc3QnOwogICAgfQoKICAgIHRyeSB7CiAgICAg
IHRoaXMudXJsID0gdXJsOwogICAgICBpZiAodGhpcy5vcHRpb25zLm1ldGhvZCA9
PSAnZ2V0JyAmJiBwYXJhbWV0ZXJzLmxlbmd0aCA+IDApCiAgICAgICAgdGhpcy51
cmwgKz0gKHRoaXMudXJsLm1hdGNoKC9cPy8pID8gJyYnIDogJz8nKSArIHBhcmFt
ZXRlcnM7CgogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uQ3JlYXRl
JywgdGhpcywgdGhpcy50cmFuc3BvcnQpOwoKICAgICAgdGhpcy50cmFuc3BvcnQu
b3Blbih0aGlzLm9wdGlvbnMubWV0aG9kLCB0aGlzLnVybCwKICAgICAgICB0aGlz
Lm9wdGlvbnMuYXN5bmNocm9ub3VzKTsKCiAgICAgIGlmICh0aGlzLm9wdGlvbnMu
YXN5bmNocm9ub3VzKQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRo
aXMucmVzcG9uZFRvUmVhZHlTdGF0ZSgxKSB9LmJpbmQodGhpcyksIDEwKTsKCiAg
ICAgIHRoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMub25T
dGF0ZUNoYW5nZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLnNldFJlcXVlc3RIZWFk
ZXJzKCk7CgogICAgICB2YXIgYm9keSA9IHRoaXMub3B0aW9ucy5wb3N0Qm9keSA/
IHRoaXMub3B0aW9ucy5wb3N0Qm9keSA6IHBhcmFtZXRlcnM7CiAgICAgIHRoaXMu
dHJhbnNwb3J0LnNlbmQodGhpcy5vcHRpb25zLm1ldGhvZCA9PSAncG9zdCcgPyBi
b2R5IDogbnVsbCk7CgogICAgICAvKiBGb3JjZSBGaXJlZm94IHRvIGhhbmRsZSBy
ZWFkeSBzdGF0ZSA0IGZvciBzeW5jaHJvbm91cyByZXF1ZXN0cyAqLwogICAgICBp
ZiAoIXRoaXMub3B0aW9ucy5hc3luY2hyb25vdXMgJiYgdGhpcy50cmFuc3BvcnQu
b3ZlcnJpZGVNaW1lVHlwZSkKICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoKTsK
CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuZGlzcGF0Y2hFeGNlcHRpb24o
ZSk7CiAgICB9CiAgfSwKCiAgc2V0UmVxdWVzdEhlYWRlcnM6IGZ1bmN0aW9uKCkg
ewogICAgdmFyIHJlcXVlc3RIZWFkZXJzID0KICAgICAgWydYLVJlcXVlc3RlZC1X
aXRoJywgJ1hNTEh0dHBSZXF1ZXN0JywKICAgICAgICdYLVByb3RvdHlwZS1WZXJz
aW9uJywgUHJvdG90eXBlLlZlcnNpb24sCiAgICAgICAnQWNjZXB0JywgJ3RleHQv
amF2YXNjcmlwdCwgdGV4dC9odG1sLCBhcHBsaWNhdGlvbi94bWwsIHRleHQveG1s
LCAqLyonXTsKCiAgICBpZiAodGhpcy5vcHRpb25zLm1ldGhvZCA9PSAncG9zdCcp
IHsKICAgICAgcmVxdWVzdEhlYWRlcnMucHVzaCgnQ29udGVudC10eXBlJywgdGhp
cy5vcHRpb25zLmNvbnRlbnRUeXBlKTsKCiAgICAgIC8qIEZvcmNlICJDb25uZWN0
aW9uOiBjbG9zZSIgZm9yIE1vemlsbGEgYnJvd3NlcnMgdG8gd29yayBhcm91bmQK
ICAgICAgICogYSBidWcgd2hlcmUgWE1MSHR0cFJlcWV1ZXN0IHNlbmRzIGFuIGlu
Y29ycmVjdCBDb250ZW50LWxlbmd0aAogICAgICAgKiBoZWFkZXIuIFNlZSBNb3pp
bGxhIEJ1Z3ppbGxhICMyNDY2NTEuCiAgICAgICAqLwogICAgICBpZiAodGhpcy50
cmFuc3BvcnQub3ZlcnJpZGVNaW1lVHlwZSkKICAgICAgICByZXF1ZXN0SGVhZGVy
cy5wdXNoKCdDb25uZWN0aW9uJywgJ2Nsb3NlJyk7CiAgICB9CgogICAgaWYgKHRo
aXMub3B0aW9ucy5yZXF1ZXN0SGVhZGVycykKICAgICAgcmVxdWVzdEhlYWRlcnMu
cHVzaC5hcHBseShyZXF1ZXN0SGVhZGVycywgdGhpcy5vcHRpb25zLnJlcXVlc3RI
ZWFkZXJzKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcXVlc3RIZWFkZXJz
Lmxlbmd0aDsgaSArPSAyKQogICAgICB0aGlzLnRyYW5zcG9ydC5zZXRSZXF1ZXN0
SGVhZGVyKHJlcXVlc3RIZWFkZXJzW2ldLCByZXF1ZXN0SGVhZGVyc1tpKzFdKTsK
ICB9LAoKICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbigpIHsKICAgIHZhciByZWFk
eVN0YXRlID0gdGhpcy50cmFuc3BvcnQucmVhZHlTdGF0ZTsKICAgIGlmIChyZWFk
eVN0YXRlICE9IDEpCiAgICAgIHRoaXMucmVzcG9uZFRvUmVhZHlTdGF0ZSh0aGlz
LnRyYW5zcG9ydC5yZWFkeVN0YXRlKTsKICB9LAoKICBoZWFkZXI6IGZ1bmN0aW9u
KG5hbWUpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5n
ZXRSZXNwb25zZUhlYWRlcihuYW1lKTsKICAgIH0gY2F0Y2ggKGUpIHt9CiAgfSwK
CiAgZXZhbEpTT046IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJu
IGV2YWwoJygnICsgdGhpcy5oZWFkZXIoJ1gtSlNPTicpICsgJyknKTsKICAgIH0g
Y2F0Y2ggKGUpIHt9CiAgfSwKCiAgZXZhbFJlc3BvbnNlOiBmdW5jdGlvbigpIHsK
ICAgIHRyeSB7CiAgICAgIHJldHVybiBldmFsKHRoaXMudHJhbnNwb3J0LnJlc3Bv
bnNlVGV4dCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuZGlzcGF0Y2hF
eGNlcHRpb24oZSk7CiAgICB9CiAgfSwKCiAgcmVzcG9uZFRvUmVhZHlTdGF0ZTog
ZnVuY3Rpb24ocmVhZHlTdGF0ZSkgewogICAgdmFyIGV2ZW50ID0gQWpheC5SZXF1
ZXN0LkV2ZW50c1tyZWFkeVN0YXRlXTsKICAgIHZhciB0cmFuc3BvcnQgPSB0aGlz
LnRyYW5zcG9ydCwganNvbiA9IHRoaXMuZXZhbEpTT04oKTsKCiAgICBpZiAoZXZl
bnQgPT0gJ0NvbXBsZXRlJykgewogICAgICB0cnkgewogICAgICAgICh0aGlzLm9w
dGlvbnNbJ29uJyArIHRoaXMudHJhbnNwb3J0LnN0YXR1c10KICAgICAgICAgfHwg
dGhpcy5vcHRpb25zWydvbicgKyAodGhpcy5yZXNwb25zZUlzU3VjY2VzcygpID8g
J1N1Y2Nlc3MnIDogJ0ZhaWx1cmUnKV0KICAgICAgICAgfHwgUHJvdG90eXBlLmVt
cHR5RnVuY3Rpb24pKHRyYW5zcG9ydCwganNvbik7CiAgICAgIH0gY2F0Y2ggKGUp
IHsKICAgICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgICB9Cgog
ICAgICBpZiAoKHRoaXMuaGVhZGVyKCdDb250ZW50LXR5cGUnKSB8fCAnJykubWF0
Y2goL150ZXh0XC9qYXZhc2NyaXB0L2kpKQogICAgICAgIHRoaXMuZXZhbFJlc3Bv
bnNlKCk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgKHRoaXMub3B0aW9uc1snb24n
ICsgZXZlbnRdIHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uKSh0cmFuc3BvcnQs
IGpzb24pOwogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uJyArIGV2
ZW50LCB0aGlzLCB0cmFuc3BvcnQsIGpzb24pOwogICAgfSBjYXRjaCAoZSkgewog
ICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQoKICAgIC8qIEF2
b2lkIG1lbW9yeSBsZWFrIGluIE1TSUU6IGNsZWFuIHVwIHRoZSBvbmNvbXBsZXRl
IGV2ZW50IGhhbmRsZXIgKi8KICAgIGlmIChldmVudCA9PSAnQ29tcGxldGUnKQog
ICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBQcm90b3R5
cGUuZW1wdHlGdW5jdGlvbjsKICB9LAoKICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVu
Y3Rpb24oZXhjZXB0aW9uKSB7CiAgICAodGhpcy5vcHRpb25zLm9uRXhjZXB0aW9u
IHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uKSh0aGlzLCBleGNlcHRpb24pOwog
ICAgQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCdvbkV4Y2VwdGlvbicsIHRoaXMs
IGV4Y2VwdGlvbik7CiAgfQp9KTsKCkFqYXguVXBkYXRlciA9IENsYXNzLmNyZWF0
ZSgpOwoKT2JqZWN0LmV4dGVuZChPYmplY3QuZXh0ZW5kKEFqYXguVXBkYXRlci5w
cm90b3R5cGUsIEFqYXguUmVxdWVzdC5wcm90b3R5cGUpLCB7CiAgaW5pdGlhbGl6
ZTogZnVuY3Rpb24oY29udGFpbmVyLCB1cmwsIG9wdGlvbnMpIHsKICAgIHRoaXMu
Y29udGFpbmVycyA9IHsKICAgICAgc3VjY2VzczogY29udGFpbmVyLnN1Y2Nlc3Mg
PyAkKGNvbnRhaW5lci5zdWNjZXNzKSA6ICQoY29udGFpbmVyKSwKICAgICAgZmFp
bHVyZTogY29udGFpbmVyLmZhaWx1cmUgPyAkKGNvbnRhaW5lci5mYWlsdXJlKSA6
CiAgICAgICAgKGNvbnRhaW5lci5zdWNjZXNzID8gbnVsbCA6ICQoY29udGFpbmVy
KSkKICAgIH0KCiAgICB0aGlzLnRyYW5zcG9ydCA9IEFqYXguZ2V0VHJhbnNwb3J0
KCk7CiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CgogICAgdmFyIG9uQ29t
cGxldGUgPSB0aGlzLm9wdGlvbnMub25Db21wbGV0ZSB8fCBQcm90b3R5cGUuZW1w
dHlGdW5jdGlvbjsKICAgIHRoaXMub3B0aW9ucy5vbkNvbXBsZXRlID0gKGZ1bmN0
aW9uKHRyYW5zcG9ydCwgb2JqZWN0KSB7CiAgICAgIHRoaXMudXBkYXRlQ29udGVu
dCgpOwogICAgICBvbkNvbXBsZXRlKHRyYW5zcG9ydCwgb2JqZWN0KTsKICAgIH0p
LmJpbmQodGhpcyk7CgogICAgdGhpcy5yZXF1ZXN0KHVybCk7CiAgfSwKCiAgdXBk
YXRlQ29udGVudDogZnVuY3Rpb24oKSB7CiAgICB2YXIgcmVjZWl2ZXIgPSB0aGlz
LnJlc3BvbnNlSXNTdWNjZXNzKCkgPwogICAgICB0aGlzLmNvbnRhaW5lcnMuc3Vj
Y2VzcyA6IHRoaXMuY29udGFpbmVycy5mYWlsdXJlOwogICAgdmFyIHJlc3BvbnNl
ID0gdGhpcy50cmFuc3BvcnQucmVzcG9uc2VUZXh0OwoKICAgIGlmICghdGhpcy5v
cHRpb25zLmV2YWxTY3JpcHRzKQogICAgICByZXNwb25zZSA9IHJlc3BvbnNlLnN0
cmlwU2NyaXB0cygpOwoKICAgIGlmIChyZWNlaXZlcikgewogICAgICBpZiAodGhp
cy5vcHRpb25zLmluc2VydGlvbikgewogICAgICAgIG5ldyB0aGlzLm9wdGlvbnMu
aW5zZXJ0aW9uKHJlY2VpdmVyLCByZXNwb25zZSk7CiAgICAgIH0gZWxzZSB7CiAg
ICAgICAgRWxlbWVudC51cGRhdGUocmVjZWl2ZXIsIHJlc3BvbnNlKTsKICAgICAg
fQogICAgfQoKICAgIGlmICh0aGlzLnJlc3BvbnNlSXNTdWNjZXNzKCkpIHsKICAg
ICAgaWYgKHRoaXMub25Db21wbGV0ZSkKICAgICAgICBzZXRUaW1lb3V0KHRoaXMu
b25Db21wbGV0ZS5iaW5kKHRoaXMpLCAxMCk7CiAgICB9CiAgfQp9KTsKCkFqYXgu
UGVyaW9kaWNhbFVwZGF0ZXIgPSBDbGFzcy5jcmVhdGUoKTsKQWpheC5QZXJpb2Rp
Y2FsVXBkYXRlci5wcm90b3R5cGUgPSBPYmplY3QuZXh0ZW5kKG5ldyBBamF4LkJh
c2UoKSwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNvbnRhaW5lciwgdXJsLCBv
cHRpb25zKSB7CiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICB0aGlz
Lm9uQ29tcGxldGUgPSB0aGlzLm9wdGlvbnMub25Db21wbGV0ZTsKCiAgICB0aGlz
LmZyZXF1ZW5jeSA9ICh0aGlzLm9wdGlvbnMuZnJlcXVlbmN5IHx8IDIpOwogICAg
dGhpcy5kZWNheSA9ICh0aGlzLm9wdGlvbnMuZGVjYXkgfHwgMSk7CgogICAgdGhp
cy51cGRhdGVyID0ge307CiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjsK
ICAgIHRoaXMudXJsID0gdXJsOwoKICAgIHRoaXMuc3RhcnQoKTsKICB9LAoKICBz
dGFydDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLm9wdGlvbnMub25Db21wbGV0ZSA9
IHRoaXMudXBkYXRlQ29tcGxldGUuYmluZCh0aGlzKTsKICAgIHRoaXMub25UaW1l
ckV2ZW50KCk7CiAgfSwKCiAgc3RvcDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnVw
ZGF0ZXIub3B0aW9ucy5vbkNvbXBsZXRlID0gdW5kZWZpbmVkOwogICAgY2xlYXJU
aW1lb3V0KHRoaXMudGltZXIpOwogICAgKHRoaXMub25Db21wbGV0ZSB8fCBQcm90
b3R5cGUuZW1wdHlGdW5jdGlvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9
LAoKICB1cGRhdGVDb21wbGV0ZTogZnVuY3Rpb24ocmVxdWVzdCkgewogICAgaWYg
KHRoaXMub3B0aW9ucy5kZWNheSkgewogICAgICB0aGlzLmRlY2F5ID0gKHJlcXVl
c3QucmVzcG9uc2VUZXh0ID09IHRoaXMubGFzdFRleHQgPwogICAgICAgIHRoaXMu
ZGVjYXkgKiB0aGlzLm9wdGlvbnMuZGVjYXkgOiAxKTsKCiAgICAgIHRoaXMubGFz
dFRleHQgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dDsKICAgIH0KICAgIHRoaXMudGlt
ZXIgPSBzZXRUaW1lb3V0KHRoaXMub25UaW1lckV2ZW50LmJpbmQodGhpcyksCiAg
ICAgIHRoaXMuZGVjYXkgKiB0aGlzLmZyZXF1ZW5jeSAqIDEwMDApOwogIH0sCgog
IG9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnVwZGF0ZXIgPSBu
ZXcgQWpheC5VcGRhdGVyKHRoaXMuY29udGFpbmVyLCB0aGlzLnVybCwgdGhpcy5v
cHRpb25zKTsKICB9Cn0pOwpmdW5jdGlvbiAkKCkgewogIHZhciByZXN1bHRzID0g
W10sIGVsZW1lbnQ7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVu
Z3RoOyBpKyspIHsKICAgIGVsZW1lbnQgPSBhcmd1bWVudHNbaV07CiAgICBpZiAo
dHlwZW9mIGVsZW1lbnQgPT0gJ3N0cmluZycpCiAgICAgIGVsZW1lbnQgPSBkb2N1
bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KTsKICAgIHJlc3VsdHMucHVzaChF
bGVtZW50LmV4dGVuZChlbGVtZW50KSk7CiAgfQogIHJldHVybiByZXN1bHRzLnJl
ZHVjZSgpOwp9Cgpkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVu
Y3Rpb24oY2xhc3NOYW1lLCBwYXJlbnRFbGVtZW50KSB7CiAgdmFyIGNoaWxkcmVu
ID0gKCQocGFyZW50RWxlbWVudCkgfHwgZG9jdW1lbnQuYm9keSkuZ2V0RWxlbWVu
dHNCeVRhZ05hbWUoJyonKTsKICByZXR1cm4gJEEoY2hpbGRyZW4pLmluamVjdChb
XSwgZnVuY3Rpb24oZWxlbWVudHMsIGNoaWxkKSB7CiAgICBpZiAoY2hpbGQuY2xh
c3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoIihefFxccykiICsgY2xhc3NOYW1lICsg
IihcXHN8JCkiKSkpCiAgICAgIGVsZW1lbnRzLnB1c2goRWxlbWVudC5leHRlbmQo
Y2hpbGQpKTsKICAgIHJldHVybiBlbGVtZW50czsKICB9KTsKfQoKLyotLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLSovCgppZiAoIXdpbmRvdy5FbGVtZW50KQogIHZh
ciBFbGVtZW50ID0gbmV3IE9iamVjdCgpOwoKRWxlbWVudC5leHRlbmQgPSBmdW5j
dGlvbihlbGVtZW50KSB7CiAgaWYgKCFlbGVtZW50KSByZXR1cm47CiAgaWYgKF9u
YXRpdmVFeHRlbnNpb25zIHx8IGVsZW1lbnQubm9kZVR5cGUgPT0gMykgcmV0dXJu
IGVsZW1lbnQ7CgogIGlmICghZWxlbWVudC5fZXh0ZW5kZWQgJiYgZWxlbWVudC50
YWdOYW1lICYmIGVsZW1lbnQgIT0gd2luZG93KSB7CiAgICB2YXIgbWV0aG9kcyA9
IE9iamVjdC5jbG9uZShFbGVtZW50Lk1ldGhvZHMpLCBjYWNoZSA9IEVsZW1lbnQu
ZXh0ZW5kLmNhY2hlOwoKICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gJ0ZPUk0n
KQogICAgICBPYmplY3QuZXh0ZW5kKG1ldGhvZHMsIEZvcm0uTWV0aG9kcyk7CiAg
ICBpZiAoWydJTlBVVCcsICdURVhUQVJFQScsICdTRUxFQ1QnXS5pbmNsdWRlKGVs
ZW1lbnQudGFnTmFtZSkpCiAgICAgIE9iamVjdC5leHRlbmQobWV0aG9kcywgRm9y
bS5FbGVtZW50Lk1ldGhvZHMpOwoKICAgIGZvciAodmFyIHByb3BlcnR5IGluIG1l
dGhvZHMpIHsKICAgICAgdmFyIHZhbHVlID0gbWV0aG9kc1twcm9wZXJ0eV07CiAg
ICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykKICAgICAgICBlbGVt
ZW50W3Byb3BlcnR5XSA9IGNhY2hlLmZpbmRPclN0b3JlKHZhbHVlKTsKICAgIH0K
ICB9CgogIGVsZW1lbnQuX2V4dGVuZGVkID0gdHJ1ZTsKICByZXR1cm4gZWxlbWVu
dDsKfQoKRWxlbWVudC5leHRlbmQuY2FjaGUgPSB7CiAgZmluZE9yU3RvcmU6IGZ1
bmN0aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpc1t2YWx1ZV0gPSB0aGlzW3Zh
bHVlXSB8fCBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KG51
bGwsIFt0aGlzXS5jb25jYXQoJEEoYXJndW1lbnRzKSkpOwogICAgfQogIH0KfQoK
RWxlbWVudC5NZXRob2RzID0gewogIHZpc2libGU6IGZ1bmN0aW9uKGVsZW1lbnQp
IHsKICAgIHJldHVybiAkKGVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUn
OwogIH0sCgogIHRvZ2dsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICBFbGVtZW50W0VsZW1lbnQudmlzaWJsZShlbGVt
ZW50KSA/ICdoaWRlJyA6ICdzaG93J10oZWxlbWVudCk7CiAgICByZXR1cm4gZWxl
bWVudDsKICB9LAoKICBoaWRlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAkKGVs
ZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICByZXR1cm4gZWxlbWVu
dDsKICB9LAoKICBzaG93OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAkKGVsZW1l
bnQpLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0s
CgogIHJlbW92ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQo
ZWxlbWVudCk7CiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxl
bWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICB1cGRhdGU6IGZ1bmN0
aW9uKGVsZW1lbnQsIGh0bWwpIHsKICAgICQoZWxlbWVudCkuaW5uZXJIVE1MID0g
aHRtbC5zdHJpcFNjcmlwdHMoKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7
aHRtbC5ldmFsU2NyaXB0cygpfSwgMTApOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAg
fSwKCiAgcmVwbGFjZTogZnVuY3Rpb24oZWxlbWVudCwgaHRtbCkgewogICAgZWxl
bWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoZWxlbWVudC5vdXRlckhUTUwpIHsK
ICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSBodG1sLnN0cmlwU2NyaXB0cygpOwog
ICAgfSBlbHNlIHsKICAgICAgdmFyIHJhbmdlID0gZWxlbWVudC5vd25lckRvY3Vt
ZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50
cyhlbGVtZW50KTsKICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGls
ZCgKICAgICAgICByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbC5z
dHJpcFNjcmlwdHMoKSksIGVsZW1lbnQpOwogICAgfQogICAgc2V0VGltZW91dChm
dW5jdGlvbigpIHtodG1sLmV2YWxTY3JpcHRzKCl9LCAxMCk7CiAgICByZXR1cm4g
ZWxlbWVudDsKICB9LAoKICBpbnNwZWN0OiBmdW5jdGlvbihlbGVtZW50KSB7CiAg
ICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciByZXN1bHQgPSAnPCcgKyBl
bGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAgICRIKHsnaWQnOiAnaWQn
LCAnY2xhc3NOYW1lJzogJ2NsYXNzJ30pLmVhY2goZnVuY3Rpb24ocGFpcikgewog
ICAgICB2YXIgcHJvcGVydHkgPSBwYWlyLmZpcnN0KCksIGF0dHJpYnV0ZSA9IHBh
aXIubGFzdCgpOwogICAgICB2YXIgdmFsdWUgPSAoZWxlbWVudFtwcm9wZXJ0eV0g
fHwgJycpLnRvU3RyaW5nKCk7CiAgICAgIGlmICh2YWx1ZSkgcmVzdWx0ICs9ICcg
JyArIGF0dHJpYnV0ZSArICc9JyArIHZhbHVlLmluc3BlY3QodHJ1ZSk7CiAgICB9
KTsKICAgIHJldHVybiByZXN1bHQgKyAnPic7CiAgfSwKCiAgcmVjdXJzaXZlbHlD
b2xsZWN0OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZWxlbWVudHMgPSBbXTsKICAgIHdoaWxl
IChlbGVtZW50ID0gZWxlbWVudFtwcm9wZXJ0eV0pCiAgICAgIGlmIChlbGVtZW50
Lm5vZGVUeXBlID09IDEpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4
dGVuZChlbGVtZW50KSk7CiAgICByZXR1cm4gZWxlbWVudHM7CiAgfSwKCiAgYW5j
ZXN0b3JzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50
KS5yZWN1cnNpdmVseUNvbGxlY3QoJ3BhcmVudE5vZGUnKTsKICB9LAoKICBkZXNj
ZW5kYW50czogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxl
bWVudCk7CiAgICByZXR1cm4gJEEoZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFt
ZSgnKicpKTsKICB9LAoKICBwcmV2aW91c1NpYmxpbmdzOiBmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5yZWN1cnNpdmVseUNvbGxlY3Qo
J3ByZXZpb3VzU2libGluZycpOwogIH0sCgogIG5leHRTaWJsaW5nczogZnVuY3Rp
b24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkucmVjdXJzaXZlbHlD
b2xsZWN0KCduZXh0U2libGluZycpOwogIH0sCgogIHNpYmxpbmdzOiBmdW5jdGlv
bihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHJldHVy
biBlbGVtZW50LnByZXZpb3VzU2libGluZ3MoKS5yZXZlcnNlKCkuY29uY2F0KGVs
ZW1lbnQubmV4dFNpYmxpbmdzKCkpOwogIH0sCgogIG1hdGNoOiBmdW5jdGlvbihl
bGVtZW50LCBzZWxlY3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAg
ICBpZiAodHlwZW9mIHNlbGVjdG9yID09ICdzdHJpbmcnKQogICAgICBzZWxlY3Rv
ciA9IG5ldyBTZWxlY3RvcihzZWxlY3Rvcik7CiAgICByZXR1cm4gc2VsZWN0b3Iu
bWF0Y2goZWxlbWVudCk7CiAgfSwKCiAgdXA6IGZ1bmN0aW9uKGVsZW1lbnQsIGV4
cHJlc3Npb24sIGluZGV4KSB7CiAgICByZXR1cm4gU2VsZWN0b3IuZmluZEVsZW1l
bnQoJChlbGVtZW50KS5hbmNlc3RvcnMoKSwgZXhwcmVzc2lvbiwgaW5kZXgpOwog
IH0sCgogIGRvd246IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4
KSB7CiAgICByZXR1cm4gU2VsZWN0b3IuZmluZEVsZW1lbnQoJChlbGVtZW50KS5k
ZXNjZW5kYW50cygpLCBleHByZXNzaW9uLCBpbmRleCk7CiAgfSwKCiAgcHJldmlv
dXM6IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBy
ZXR1cm4gU2VsZWN0b3IuZmluZEVsZW1lbnQoJChlbGVtZW50KS5wcmV2aW91c1Np
YmxpbmdzKCksIGV4cHJlc3Npb24sIGluZGV4KTsKICB9LAoKICBuZXh0OiBmdW5j
dGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBpbmRleCkgewogICAgcmV0dXJuIFNl
bGVjdG9yLmZpbmRFbGVtZW50KCQoZWxlbWVudCkubmV4dFNpYmxpbmdzKCksIGV4
cHJlc3Npb24sIGluZGV4KTsKICB9LAoKICBnZXRFbGVtZW50c0J5U2VsZWN0b3I6
IGZ1bmN0aW9uKCkgewogICAgdmFyIGFyZ3MgPSAkQShhcmd1bWVudHMpLCBlbGVt
ZW50ID0gJChhcmdzLnNoaWZ0KCkpOwogICAgcmV0dXJuIFNlbGVjdG9yLmZpbmRD
aGlsZEVsZW1lbnRzKGVsZW1lbnQsIGFyZ3MpOwogIH0sCgogIGdldEVsZW1lbnRz
QnlDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAg
ZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxl
bWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUsIGVsZW1lbnQpOwogIH0sCgogIGdl
dEhlaWdodDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxl
bWVudCk7CiAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgfSwKCiAg
Y2xhc3NOYW1lczogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuIG5ldyBF
bGVtZW50LkNsYXNzTmFtZXMoZWxlbWVudCk7CiAgfSwKCiAgaGFzQ2xhc3NOYW1l
OiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1l
bnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgcmV0dXJuIEVsZW1lbnQuY2xh
c3NOYW1lcyhlbGVtZW50KS5pbmNsdWRlKGNsYXNzTmFtZSk7CiAgfSwKCiAgYWRk
Q2xhc3NOYW1lOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlm
ICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgRWxlbWVudC5j
bGFzc05hbWVzKGVsZW1lbnQpLmFkZChjbGFzc05hbWUpOwogICAgcmV0dXJuIGVs
ZW1lbnQ7CiAgfSwKCiAgcmVtb3ZlQ2xhc3NOYW1lOiBmdW5jdGlvbihlbGVtZW50
LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkg
cmV0dXJuOwogICAgRWxlbWVudC5jbGFzc05hbWVzKGVsZW1lbnQpLnJlbW92ZShj
bGFzc05hbWUpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgb2JzZXJ2ZTog
ZnVuY3Rpb24oKSB7CiAgICBFdmVudC5vYnNlcnZlLmFwcGx5KEV2ZW50LCBhcmd1
bWVudHMpOwogICAgcmV0dXJuICRBKGFyZ3VtZW50cykuZmlyc3QoKTsKICB9LAoK
ICBzdG9wT2JzZXJ2aW5nOiBmdW5jdGlvbigpIHsKICAgIEV2ZW50LnN0b3BPYnNl
cnZpbmcuYXBwbHkoRXZlbnQsIGFyZ3VtZW50cyk7CiAgICByZXR1cm4gJEEoYXJn
dW1lbnRzKS5maXJzdCgpOwogIH0sCgogIC8vIHJlbW92ZXMgd2hpdGVzcGFjZS1v
bmx5IHRleHQgbm9kZSBjaGlsZHJlbgogIGNsZWFuV2hpdGVzcGFjZTogZnVuY3Rp
b24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIg
bm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsKICAgIHdoaWxlIChub2RlKSB7CiAg
ICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICAgIGlmIChu
b2RlLm5vZGVUeXBlID09IDMgJiYgIS9cUy8udGVzdChub2RlLm5vZGVWYWx1ZSkp
CiAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgbm9kZSA9
IG5leHROb2RlOwogICAgfQogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgZW1w
dHk6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiAkKGVsZW1lbnQpLmlu
bmVySFRNTC5tYXRjaCgvXlxzKiQvKTsKICB9LAoKICBjaGlsZE9mOiBmdW5jdGlv
bihlbGVtZW50LCBhbmNlc3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCks
IGFuY2VzdG9yID0gJChhbmNlc3Rvcik7CiAgICB3aGlsZSAoZWxlbWVudCA9IGVs
ZW1lbnQucGFyZW50Tm9kZSkKICAgICAgaWYgKGVsZW1lbnQgPT0gYW5jZXN0b3Ip
IHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHNjcm9sbFRv
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsK
ICAgIHZhciB4ID0gZWxlbWVudC54ID8gZWxlbWVudC54IDogZWxlbWVudC5vZmZz
ZXRMZWZ0LAogICAgICAgIHkgPSBlbGVtZW50LnkgPyBlbGVtZW50LnkgOiBlbGVt
ZW50Lm9mZnNldFRvcDsKICAgIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0sCgogIGdldFN0eWxlOiBmdW5jdGlvbihlbGVtZW50
LCBzdHlsZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdmFs
dWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlLmNhbWVsaXplKCldOwogICAgaWYgKCF2
YWx1ZSkgewogICAgICBpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1l
bnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkgewogICAgICAgIHZhciBj
c3MgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1l
bnQsIG51bGwpOwogICAgICAgIHZhbHVlID0gY3NzID8gY3NzLmdldFByb3BlcnR5
VmFsdWUoc3R5bGUpIDogbnVsbDsKICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmN1
cnJlbnRTdHlsZSkgewogICAgICAgIHZhbHVlID0gZWxlbWVudC5jdXJyZW50U3R5
bGVbc3R5bGUuY2FtZWxpemUoKV07CiAgICAgIH0KICAgIH0KCiAgICBpZiAod2lu
ZG93Lm9wZXJhICYmIFsnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJ10u
aW5jbHVkZShzdHlsZSkpCiAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1l
bnQsICdwb3NpdGlvbicpID09ICdzdGF0aWMnKSB2YWx1ZSA9ICdhdXRvJzsKCiAg
ICByZXR1cm4gdmFsdWUgPT0gJ2F1dG8nID8gbnVsbCA6IHZhbHVlOwogIH0sCgog
IHNldFN0eWxlOiBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICBmb3IgKHZhciBuYW1lIGluIHN0eWxlKQogICAg
ICBlbGVtZW50LnN0eWxlW25hbWUuY2FtZWxpemUoKV0gPSBzdHlsZVtuYW1lXTsK
ICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIGdldERpbWVuc2lvbnM6IGZ1bmN0
aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYg
KEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ2Rpc3BsYXknKSAhPSAnbm9uZScp
CiAgICAgIHJldHVybiB7d2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdo
dDogZWxlbWVudC5vZmZzZXRIZWlnaHR9OwoKICAgIC8vIEFsbCAqV2lkdGggYW5k
ICpIZWlnaHQgcHJvcGVydGllcyBnaXZlIDAgb24gZWxlbWVudHMgd2l0aCBkaXNw
bGF5IG5vbmUsCiAgICAvLyBzbyBlbmFibGUgdGhlIGVsZW1lbnQgdGVtcG9yYXJp
bHkKICAgIHZhciBlbHMgPSBlbGVtZW50LnN0eWxlOwogICAgdmFyIG9yaWdpbmFs
VmlzaWJpbGl0eSA9IGVscy52aXNpYmlsaXR5OwogICAgdmFyIG9yaWdpbmFsUG9z
aXRpb24gPSBlbHMucG9zaXRpb247CiAgICBlbHMudmlzaWJpbGl0eSA9ICdoaWRk
ZW4nOwogICAgZWxzLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgIGVscy5kaXNw
bGF5ID0gJyc7CiAgICB2YXIgb3JpZ2luYWxXaWR0aCA9IGVsZW1lbnQuY2xpZW50
V2lkdGg7CiAgICB2YXIgb3JpZ2luYWxIZWlnaHQgPSBlbGVtZW50LmNsaWVudEhl
aWdodDsKICAgIGVscy5kaXNwbGF5ID0gJ25vbmUnOwogICAgZWxzLnBvc2l0aW9u
ID0gb3JpZ2luYWxQb3NpdGlvbjsKICAgIGVscy52aXNpYmlsaXR5ID0gb3JpZ2lu
YWxWaXNpYmlsaXR5OwogICAgcmV0dXJuIHt3aWR0aDogb3JpZ2luYWxXaWR0aCwg
aGVpZ2h0OiBvcmlnaW5hbEhlaWdodH07CiAgfSwKCiAgbWFrZVBvc2l0aW9uZWQ6
IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwog
ICAgdmFyIHBvcyA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9u
Jyk7CiAgICBpZiAocG9zID09ICdzdGF0aWMnIHx8ICFwb3MpIHsKICAgICAgZWxl
bWVudC5fbWFkZVBvc2l0aW9uZWQgPSB0cnVlOwogICAgICBlbGVtZW50LnN0eWxl
LnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgLy8gT3BlcmEgcmV0dXJucyB0
aGUgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBwb3NpdGlvbmluZyBjb250ZXh0LCB3
aGVuIGFuCiAgICAgIC8vIGVsZW1lbnQgaXMgcG9zaXRpb24gcmVsYXRpdmUgYnV0
IHRvcCBhbmQgbGVmdCBoYXZlIG5vdCBiZWVuIGRlZmluZWQKICAgICAgaWYgKHdp
bmRvdy5vcGVyYSkgewogICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gMDsKICAg
ICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSAwOwogICAgICB9CiAgICB9CiAgICBy
ZXR1cm4gZWxlbWVudDsKICB9LAoKICB1bmRvUG9zaXRpb25lZDogZnVuY3Rpb24o
ZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoZWxl
bWVudC5fbWFkZVBvc2l0aW9uZWQpIHsKICAgICAgZWxlbWVudC5fbWFkZVBvc2l0
aW9uZWQgPSB1bmRlZmluZWQ7CiAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24g
PQogICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0KICAgICAgICBlbGVtZW50LnN0
eWxlLmxlZnQgPQogICAgICAgIGVsZW1lbnQuc3R5bGUuYm90dG9tID0KICAgICAg
ICBlbGVtZW50LnN0eWxlLnJpZ2h0ID0gJyc7CiAgICB9CiAgICByZXR1cm4gZWxl
bWVudDsKICB9LAoKICBtYWtlQ2xpcHBpbmc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGVsZW1lbnQuX292ZXJm
bG93KSByZXR1cm47CiAgICBlbGVtZW50Ll9vdmVyZmxvdyA9IGVsZW1lbnQuc3R5
bGUub3ZlcmZsb3cgfHwgJ2F1dG8nOwogICAgaWYgKChFbGVtZW50LmdldFN0eWxl
KGVsZW1lbnQsICdvdmVyZmxvdycpIHx8ICd2aXNpYmxlJykgIT0gJ2hpZGRlbicp
CiAgICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0sCgogIHVuZG9DbGlwcGluZzogZnVuY3Rpb24oZWxl
bWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoIWVsZW1l
bnQuX292ZXJmbG93KSByZXR1cm47CiAgICBlbGVtZW50LnN0eWxlLm92ZXJmbG93
ID0gZWxlbWVudC5fb3ZlcmZsb3cgPT0gJ2F1dG8nID8gJycgOiBlbGVtZW50Ll9v
dmVyZmxvdzsKICAgIGVsZW1lbnQuX292ZXJmbG93ID0gbnVsbDsKICAgIHJldHVy
biBlbGVtZW50OwogIH0KfQoKLy8gSUUgaXMgbWlzc2luZyAuaW5uZXJIVE1MIHN1
cHBvcnQgZm9yIFRBQkxFLXJlbGF0ZWQgZWxlbWVudHMKaWYoZG9jdW1lbnQuYWxs
KXsKICBFbGVtZW50Lk1ldGhvZHMudXBkYXRlID0gZnVuY3Rpb24oZWxlbWVudCwg
aHRtbCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdGFnTmFt
ZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwogICAgaWYgKFsnVEhF
QUQnLCdUQk9EWScsJ1RSJywnVEQnXS5pbmRleE9mKHRhZ05hbWUpID4gLTEpIHsK
ICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwog
ICAgICBzd2l0Y2ggKHRhZ05hbWUpIHsKICAgICAgICBjYXNlICdUSEVBRCc6CiAg
ICAgICAgY2FzZSAnVEJPRFknOgogICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8
dGFibGU+PHRib2R5PicgKyAgaHRtbC5zdHJpcFNjcmlwdHMoKSArICc8L3Rib2R5
PjwvdGFibGU+JzsKICAgICAgICAgIGRlcHRoID0gMjsKICAgICAgICAgIGJyZWFr
OwogICAgICAgIGNhc2UgJ1RSJzoKICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAn
PHRhYmxlPjx0Ym9keT48dHI+JyArICBodG1sLnN0cmlwU2NyaXB0cygpICsgJzwv
dHI+PC90Ym9keT48L3RhYmxlPic7CiAgICAgICAgICBkZXB0aCA9IDM7CiAgICAg
ICAgICBicmVhazsKICAgICAgICBjYXNlICdURCc6CiAgICAgICAgICBkaXYuaW5u
ZXJIVE1MID0gJzx0YWJsZT48dGJvZHk+PHRyPjx0ZD4nICsgIGh0bWwuc3RyaXBT
Y3JpcHRzKCkgKyAnPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4nOwogICAgICAg
ICAgZGVwdGggPSA0OwogICAgICB9CiAgICAgICRBKGVsZW1lbnQuY2hpbGROb2Rl
cykuZWFjaChmdW5jdGlvbihub2RlKXsKICAgICAgICBlbGVtZW50LnJlbW92ZUNo
aWxkKG5vZGUpCiAgICAgIH0pOwogICAgICBkZXB0aC50aW1lcyhmdW5jdGlvbigp
eyBkaXYgPSBkaXYuZmlyc3RDaGlsZCB9KTsKCiAgICAgICRBKGRpdi5jaGlsZE5v
ZGVzKS5lYWNoKAogICAgICAgIGZ1bmN0aW9uKG5vZGUpeyBlbGVtZW50LmFwcGVu
ZENoaWxkKG5vZGUpIH0pOwogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5pbm5l
ckhUTUwgPSBodG1sLnN0cmlwU2NyaXB0cygpOwogICAgfQogICAgc2V0VGltZW91
dChmdW5jdGlvbigpIHtodG1sLmV2YWxTY3JpcHRzKCl9LCAxMCk7CiAgICByZXR1
cm4gZWxlbWVudDsKICB9Cn0KCk9iamVjdC5leHRlbmQoRWxlbWVudCwgRWxlbWVu
dC5NZXRob2RzKTsKCnZhciBfbmF0aXZlRXh0ZW5zaW9ucyA9IGZhbHNlOwoKaWYg
KCF3aW5kb3cuSFRNTEVsZW1lbnQgJiYgL0tvbnF1ZXJvcnxTYWZhcml8S0hUTUwv
LnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAvKiBFbXVsYXRlIEhUTUxF
bGVtZW50LCBIVE1MRm9ybUVsZW1lbnQsIEhUTUxJbnB1dEVsZW1lbnQsIEhUTUxU
ZXh0QXJlYUVsZW1lbnQsCiAgICAgYW5kIEhUTUxTZWxlY3RFbGVtZW50IGluIFNh
ZmFyaSAqLwogIFsnJywgJ0Zvcm0nLCAnSW5wdXQnLCAnVGV4dEFyZWEnLCAnU2Vs
ZWN0J10uZWFjaChmdW5jdGlvbih0YWcpIHsKICAgIHZhciBrbGFzcyA9IHdpbmRv
d1snSFRNTCcgKyB0YWcgKyAnRWxlbWVudCddID0ge307CiAgICBrbGFzcy5wcm90
b3R5cGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyA/IHRhZy50b0xvd2Vy
Q2FzZSgpIDogJ2RpdicpLl9fcHJvdG9fXzsKICB9KTsKfQoKRWxlbWVudC5hZGRN
ZXRob2RzID0gZnVuY3Rpb24obWV0aG9kcykgewogIE9iamVjdC5leHRlbmQoRWxl
bWVudC5NZXRob2RzLCBtZXRob2RzIHx8IHt9KTsKCiAgZnVuY3Rpb24gY29weSht
ZXRob2RzLCBkZXN0aW5hdGlvbikgewogICAgdmFyIGNhY2hlID0gRWxlbWVudC5l
eHRlbmQuY2FjaGU7CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBtZXRob2RzKSB7
CiAgICAgIHZhciB2YWx1ZSA9IG1ldGhvZHNbcHJvcGVydHldOwogICAgICBkZXN0
aW5hdGlvbltwcm9wZXJ0eV0gPSBjYWNoZS5maW5kT3JTdG9yZSh2YWx1ZSk7CiAg
ICB9CiAgfQoKICBpZiAodHlwZW9mIEhUTUxFbGVtZW50ICE9ICd1bmRlZmluZWQn
KSB7CiAgICBjb3B5KEVsZW1lbnQuTWV0aG9kcywgSFRNTEVsZW1lbnQucHJvdG90
eXBlKTsKICAgIGNvcHkoRm9ybS5NZXRob2RzLCBIVE1MRm9ybUVsZW1lbnQucHJv
dG90eXBlKTsKICAgIFtIVE1MSW5wdXRFbGVtZW50LCBIVE1MVGV4dEFyZWFFbGVt
ZW50LCBIVE1MU2VsZWN0RWxlbWVudF0uZWFjaChmdW5jdGlvbihrbGFzcykgewog
ICAgICBjb3B5KEZvcm0uRWxlbWVudC5NZXRob2RzLCBrbGFzcy5wcm90b3R5cGUp
OwogICAgfSk7CiAgICBfbmF0aXZlRXh0ZW5zaW9ucyA9IHRydWU7CiAgfQp9Cgp2
YXIgVG9nZ2xlID0gbmV3IE9iamVjdCgpOwpUb2dnbGUuZGlzcGxheSA9IEVsZW1l
bnQudG9nZ2xlOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpBYnN0
cmFjdC5JbnNlcnRpb24gPSBmdW5jdGlvbihhZGphY2VuY3kpIHsKICB0aGlzLmFk
amFjZW5jeSA9IGFkamFjZW5jeTsKfQoKQWJzdHJhY3QuSW5zZXJ0aW9uLnByb3Rv
dHlwZSA9IHsKICBpbml0aWFsaXplOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50
KSB7CiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5jb250
ZW50ID0gY29udGVudC5zdHJpcFNjcmlwdHMoKTsKCiAgICBpZiAodGhpcy5hZGph
Y2VuY3kgJiYgdGhpcy5lbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCkgewogICAg
ICB0cnkgewogICAgICAgIHRoaXMuZWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwo
dGhpcy5hZGphY2VuY3ksIHRoaXMuY29udGVudCk7CiAgICAgIH0gY2F0Y2ggKGUp
IHsKICAgICAgICB2YXIgdGFnTmFtZSA9IHRoaXMuZWxlbWVudC50YWdOYW1lLnRv
TG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKHRhZ05hbWUgPT0gJ3Rib2R5JyB8fCB0
YWdOYW1lID09ICd0cicpIHsKICAgICAgICAgIHRoaXMuaW5zZXJ0Q29udGVudCh0
aGlzLmNvbnRlbnRGcm9tQW5vbnltb3VzVGFibGUoKSk7CiAgICAgICAgfSBlbHNl
IHsKICAgICAgICAgIHRocm93IGU7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVs
c2UgewogICAgICB0aGlzLnJhbmdlID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1l
bnQuY3JlYXRlUmFuZ2UoKTsKICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZVJhbmdl
KSB0aGlzLmluaXRpYWxpemVSYW5nZSgpOwogICAgICB0aGlzLmluc2VydENvbnRl
bnQoW3RoaXMucmFuZ2UuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHRoaXMuY29u
dGVudCldKTsKICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2NvbnRl
bnQuZXZhbFNjcmlwdHMoKX0sIDEwKTsKICB9LAoKICBjb250ZW50RnJvbUFub255
bW91c1RhYmxlOiBmdW5jdGlvbigpIHsKICAgIHZhciBkaXYgPSBkb2N1bWVudC5j
cmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGRpdi5pbm5lckhUTUwgPSAnPHRhYmxl
Pjx0Ym9keT4nICsgdGhpcy5jb250ZW50ICsgJzwvdGJvZHk+PC90YWJsZT4nOwog
ICAgcmV0dXJuICRBKGRpdi5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hp
bGROb2Rlcyk7CiAgfQp9Cgp2YXIgSW5zZXJ0aW9uID0gbmV3IE9iamVjdCgpOwoK
SW5zZXJ0aW9uLkJlZm9yZSA9IENsYXNzLmNyZWF0ZSgpOwpJbnNlcnRpb24uQmVm
b3JlLnByb3RvdHlwZSA9IE9iamVjdC5leHRlbmQobmV3IEFic3RyYWN0Lkluc2Vy
dGlvbignYmVmb3JlQmVnaW4nKSwgewogIGluaXRpYWxpemVSYW5nZTogZnVuY3Rp
b24oKSB7CiAgICB0aGlzLnJhbmdlLnNldFN0YXJ0QmVmb3JlKHRoaXMuZWxlbWVu
dCk7CiAgfSwKCiAgaW5zZXJ0Q29udGVudDogZnVuY3Rpb24oZnJhZ21lbnRzKSB7
CiAgICBmcmFnbWVudHMuZWFjaCgoZnVuY3Rpb24oZnJhZ21lbnQpIHsKICAgICAg
dGhpcy5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZyYWdtZW50LCB0
aGlzLmVsZW1lbnQpOwogICAgfSkuYmluZCh0aGlzKSk7CiAgfQp9KTsKCkluc2Vy
dGlvbi5Ub3AgPSBDbGFzcy5jcmVhdGUoKTsKSW5zZXJ0aW9uLlRvcC5wcm90b3R5
cGUgPSBPYmplY3QuZXh0ZW5kKG5ldyBBYnN0cmFjdC5JbnNlcnRpb24oJ2FmdGVy
QmVnaW4nKSwgewogIGluaXRpYWxpemVSYW5nZTogZnVuY3Rpb24oKSB7CiAgICB0
aGlzLnJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzLmVsZW1lbnQpOwogICAg
dGhpcy5yYW5nZS5jb2xsYXBzZSh0cnVlKTsKICB9LAoKICBpbnNlcnRDb250ZW50
OiBmdW5jdGlvbihmcmFnbWVudHMpIHsKICAgIGZyYWdtZW50cy5yZXZlcnNlKGZh
bHNlKS5lYWNoKChmdW5jdGlvbihmcmFnbWVudCkgewogICAgICB0aGlzLmVsZW1l
bnQuaW5zZXJ0QmVmb3JlKGZyYWdtZW50LCB0aGlzLmVsZW1lbnQuZmlyc3RDaGls
ZCk7CiAgICB9KS5iaW5kKHRoaXMpKTsKICB9Cn0pOwoKSW5zZXJ0aW9uLkJvdHRv
bSA9IENsYXNzLmNyZWF0ZSgpOwpJbnNlcnRpb24uQm90dG9tLnByb3RvdHlwZSA9
IE9iamVjdC5leHRlbmQobmV3IEFic3RyYWN0Lkluc2VydGlvbignYmVmb3JlRW5k
JyksIHsKICBpbml0aWFsaXplUmFuZ2U6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5y
YW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5lbGVtZW50KTsKICAgIHRoaXMu
cmFuZ2UuY29sbGFwc2UodGhpcy5lbGVtZW50KTsKICB9LAoKICBpbnNlcnRDb250
ZW50OiBmdW5jdGlvbihmcmFnbWVudHMpIHsKICAgIGZyYWdtZW50cy5lYWNoKChm
dW5jdGlvbihmcmFnbWVudCkgewogICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hp
bGQoZnJhZ21lbnQpOwogICAgfSkuYmluZCh0aGlzKSk7CiAgfQp9KTsKCkluc2Vy
dGlvbi5BZnRlciA9IENsYXNzLmNyZWF0ZSgpOwpJbnNlcnRpb24uQWZ0ZXIucHJv
dG90eXBlID0gT2JqZWN0LmV4dGVuZChuZXcgQWJzdHJhY3QuSW5zZXJ0aW9uKCdh
ZnRlckVuZCcpLCB7CiAgaW5pdGlhbGl6ZVJhbmdlOiBmdW5jdGlvbigpIHsKICAg
IHRoaXMucmFuZ2Uuc2V0U3RhcnRBZnRlcih0aGlzLmVsZW1lbnQpOwogIH0sCgog
IGluc2VydENvbnRlbnQ6IGZ1bmN0aW9uKGZyYWdtZW50cykgewogICAgZnJhZ21l
bnRzLmVhY2goKGZ1bmN0aW9uKGZyYWdtZW50KSB7CiAgICAgIHRoaXMuZWxlbWVu
dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmcmFnbWVudCwKICAgICAgICB0aGlz
LmVsZW1lbnQubmV4dFNpYmxpbmcpOwogICAgfSkuYmluZCh0aGlzKSk7CiAgfQp9
KTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKRWxlbWVudC5DbGFz
c05hbWVzID0gQ2xhc3MuY3JlYXRlKCk7CkVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90
b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAg
dGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKICB9LAoKICBfZWFjaDogZnVuY3Rp
b24oaXRlcmF0b3IpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUuc3BsaXQo
L1xzKy8pLnNlbGVjdChmdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiBuYW1l
Lmxlbmd0aCA+IDA7CiAgICB9KS5fZWFjaChpdGVyYXRvcik7CiAgfSwKCiAgc2V0
OiBmdW5jdGlvbihjbGFzc05hbWUpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05h
bWUgPSBjbGFzc05hbWU7CiAgfSwKCiAgYWRkOiBmdW5jdGlvbihjbGFzc05hbWVU
b0FkZCkgewogICAgaWYgKHRoaXMuaW5jbHVkZShjbGFzc05hbWVUb0FkZCkpIHJl
dHVybjsKICAgIHRoaXMuc2V0KHRoaXMudG9BcnJheSgpLmNvbmNhdChjbGFzc05h
bWVUb0FkZCkuam9pbignICcpKTsKICB9LAoKICByZW1vdmU6IGZ1bmN0aW9uKGNs
YXNzTmFtZVRvUmVtb3ZlKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShjbGFzc05h
bWVUb1JlbW92ZSkpIHJldHVybjsKICAgIHRoaXMuc2V0KHRoaXMuc2VsZWN0KGZ1
bmN0aW9uKGNsYXNzTmFtZSkgewogICAgICByZXR1cm4gY2xhc3NOYW1lICE9IGNs
YXNzTmFtZVRvUmVtb3ZlOwogICAgfSkuam9pbignICcpKTsKICB9LAoKICB0b1N0
cmluZzogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy50b0FycmF5KCkuam9p
bignICcpOwogIH0KfQoKT2JqZWN0LmV4dGVuZChFbGVtZW50LkNsYXNzTmFtZXMu
cHJvdG90eXBlLCBFbnVtZXJhYmxlKTsKdmFyIFNlbGVjdG9yID0gQ2xhc3MuY3Jl
YXRlKCk7ClNlbGVjdG9yLnByb3RvdHlwZSA9IHsKICBpbml0aWFsaXplOiBmdW5j
dGlvbihleHByZXNzaW9uKSB7CiAgICB0aGlzLnBhcmFtcyA9IHtjbGFzc05hbWVz
OiBbXX07CiAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uLnRvU3RyaW5n
KCkuc3RyaXAoKTsKICAgIHRoaXMucGFyc2VFeHByZXNzaW9uKCk7CiAgICB0aGlz
LmNvbXBpbGVNYXRjaGVyKCk7CiAgfSwKCiAgcGFyc2VFeHByZXNzaW9uOiBmdW5j
dGlvbigpIHsKICAgIGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHsgdGhyb3cgJ1Bh
cnNlIGVycm9yIGluIHNlbGVjdG9yOiAnICsgbWVzc2FnZTsgfQoKICAgIGlmICh0
aGlzLmV4cHJlc3Npb24gPT0gJycpICBhYm9ydCgnZW1wdHkgZXhwcmVzc2lvbicp
OwoKICAgIHZhciBwYXJhbXMgPSB0aGlzLnBhcmFtcywgZXhwciA9IHRoaXMuZXhw
cmVzc2lvbiwgbWF0Y2gsIG1vZGlmaWVyLCBjbGF1c2UsIHJlc3Q7CiAgICB3aGls
ZSAobWF0Y2ggPSBleHByLm1hdGNoKC9eKC4qKVxbKFthLXowLTlfOi1dKz8pKD86
KFt+XHwhXT89KSg/OiIoW14iXSopInwoW15cXVxzXSopKSk/XF0kL2kpKSB7CiAg
ICAgIHBhcmFtcy5hdHRyaWJ1dGVzID0gcGFyYW1zLmF0dHJpYnV0ZXMgfHwgW107
CiAgICAgIHBhcmFtcy5hdHRyaWJ1dGVzLnB1c2goe25hbWU6IG1hdGNoWzJdLCBv
cGVyYXRvcjogbWF0Y2hbM10sIHZhbHVlOiBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8
fCAnJ30pOwogICAgICBleHByID0gbWF0Y2hbMV07CiAgICB9CgogICAgaWYgKGV4
cHIgPT0gJyonKSByZXR1cm4gdGhpcy5wYXJhbXMud2lsZGNhcmQgPSB0cnVlOwoK
ICAgIHdoaWxlIChtYXRjaCA9IGV4cHIubWF0Y2goL14oW15hLXowLTlfLV0pPyhb
YS16MC05Xy1dKykoLiopL2kpKSB7CiAgICAgIG1vZGlmaWVyID0gbWF0Y2hbMV0s
IGNsYXVzZSA9IG1hdGNoWzJdLCByZXN0ID0gbWF0Y2hbM107CiAgICAgIHN3aXRj
aCAobW9kaWZpZXIpIHsKICAgICAgICBjYXNlICcjJzogICAgICAgcGFyYW1zLmlk
ID0gY2xhdXNlOyBicmVhazsKICAgICAgICBjYXNlICcuJzogICAgICAgcGFyYW1z
LmNsYXNzTmFtZXMucHVzaChjbGF1c2UpOyBicmVhazsKICAgICAgICBjYXNlICcn
OgogICAgICAgIGNhc2UgdW5kZWZpbmVkOiBwYXJhbXMudGFnTmFtZSA9IGNsYXVz
ZS50b1VwcGVyQ2FzZSgpOyBicmVhazsKICAgICAgICBkZWZhdWx0OiAgICAgICAg
YWJvcnQoZXhwci5pbnNwZWN0KCkpOwogICAgICB9CiAgICAgIGV4cHIgPSByZXN0
OwogICAgfQoKICAgIGlmIChleHByLmxlbmd0aCA+IDApIGFib3J0KGV4cHIuaW5z
cGVjdCgpKTsKICB9LAoKICBidWlsZE1hdGNoRXhwcmVzc2lvbjogZnVuY3Rpb24o
KSB7CiAgICB2YXIgcGFyYW1zID0gdGhpcy5wYXJhbXMsIGNvbmRpdGlvbnMgPSBb
XSwgY2xhdXNlOwoKICAgIGlmIChwYXJhbXMud2lsZGNhcmQpCiAgICAgIGNvbmRp
dGlvbnMucHVzaCgndHJ1ZScpOwogICAgaWYgKGNsYXVzZSA9IHBhcmFtcy5pZCkK
ICAgICAgY29uZGl0aW9ucy5wdXNoKCdlbGVtZW50LmlkID09ICcgKyBjbGF1c2Uu
aW5zcGVjdCgpKTsKICAgIGlmIChjbGF1c2UgPSBwYXJhbXMudGFnTmFtZSkKICAg
ICAgY29uZGl0aW9ucy5wdXNoKCdlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2Uo
KSA9PSAnICsgY2xhdXNlLmluc3BlY3QoKSk7CiAgICBpZiAoKGNsYXVzZSA9IHBh
cmFtcy5jbGFzc05hbWVzKS5sZW5ndGggPiAwKQogICAgICBmb3IgKHZhciBpID0g
MDsgaSA8IGNsYXVzZS5sZW5ndGg7IGkrKykKICAgICAgICBjb25kaXRpb25zLnB1
c2goJ0VsZW1lbnQuaGFzQ2xhc3NOYW1lKGVsZW1lbnQsICcgKyBjbGF1c2VbaV0u
aW5zcGVjdCgpICsgJyknKTsKICAgIGlmIChjbGF1c2UgPSBwYXJhbXMuYXR0cmli
dXRlcykgewogICAgICBjbGF1c2UuZWFjaChmdW5jdGlvbihhdHRyaWJ1dGUpIHsK
ICAgICAgICB2YXIgdmFsdWUgPSAnZWxlbWVudC5nZXRBdHRyaWJ1dGUoJyArIGF0
dHJpYnV0ZS5uYW1lLmluc3BlY3QoKSArICcpJzsKICAgICAgICB2YXIgc3BsaXRW
YWx1ZUJ5ID0gZnVuY3Rpb24oZGVsaW1pdGVyKSB7CiAgICAgICAgICByZXR1cm4g
dmFsdWUgKyAnICYmICcgKyB2YWx1ZSArICcuc3BsaXQoJyArIGRlbGltaXRlci5p
bnNwZWN0KCkgKyAnKSc7CiAgICAgICAgfQoKICAgICAgICBzd2l0Y2ggKGF0dHJp
YnV0ZS5vcGVyYXRvcikgewogICAgICAgICAgY2FzZSAnPSc6ICAgICAgIGNvbmRp
dGlvbnMucHVzaCh2YWx1ZSArICcgPT0gJyArIGF0dHJpYnV0ZS52YWx1ZS5pbnNw
ZWN0KCkpOyBicmVhazsKICAgICAgICAgIGNhc2UgJ349JzogICAgICBjb25kaXRp
b25zLnB1c2goc3BsaXRWYWx1ZUJ5KCcgJykgKyAnLmluY2x1ZGUoJyArIGF0dHJp
YnV0ZS52YWx1ZS5pbnNwZWN0KCkgKyAnKScpOyBicmVhazsKICAgICAgICAgIGNh
c2UgJ3w9JzogICAgICBjb25kaXRpb25zLnB1c2goCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzcGxpdFZhbHVlQnkoJy0nKSArICcuZmlyc3QoKS50b1VwcGVy
Q2FzZSgpID09ICcgKyBhdHRyaWJ1dGUudmFsdWUudG9VcHBlckNhc2UoKS5pbnNw
ZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICApOyBicmVhazsKICAgICAg
ICAgIGNhc2UgJyE9JzogICAgICBjb25kaXRpb25zLnB1c2godmFsdWUgKyAnICE9
ICcgKyBhdHRyaWJ1dGUudmFsdWUuaW5zcGVjdCgpKTsgYnJlYWs7CiAgICAgICAg
ICBjYXNlICcnOgogICAgICAgICAgY2FzZSB1bmRlZmluZWQ6IGNvbmRpdGlvbnMu
cHVzaCh2YWx1ZSArICcgIT0gbnVsbCcpOyBicmVhazsKICAgICAgICAgIGRlZmF1
bHQ6ICAgICAgICB0aHJvdyAnVW5rbm93biBvcGVyYXRvciAnICsgYXR0cmlidXRl
Lm9wZXJhdG9yICsgJyBpbiBzZWxlY3Rvcic7CiAgICAgICAgfQogICAgICB9KTsK
ICAgIH0KCiAgICByZXR1cm4gY29uZGl0aW9ucy5qb2luKCcgJiYgJyk7CiAgfSwK
CiAgY29tcGlsZU1hdGNoZXI6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5tYXRjaCA9
IG5ldyBGdW5jdGlvbignZWxlbWVudCcsICdpZiAoIWVsZW1lbnQudGFnTmFtZSkg
cmV0dXJuIGZhbHNlOyBcCiAgICAgIHJldHVybiAnICsgdGhpcy5idWlsZE1hdGNo
RXhwcmVzc2lvbigpKTsKICB9LAoKICBmaW5kRWxlbWVudHM6IGZ1bmN0aW9uKHNj
b3BlKSB7CiAgICB2YXIgZWxlbWVudDsKCiAgICBpZiAoZWxlbWVudCA9ICQodGhp
cy5wYXJhbXMuaWQpKQogICAgICBpZiAodGhpcy5tYXRjaChlbGVtZW50KSkKICAg
ICAgICBpZiAoIXNjb3BlIHx8IEVsZW1lbnQuY2hpbGRPZihlbGVtZW50LCBzY29w
ZSkpCiAgICAgICAgICByZXR1cm4gW2VsZW1lbnRdOwoKICAgIHNjb3BlID0gKHNj
b3BlIHx8IGRvY3VtZW50KS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0aGlzLnBhcmFt
cy50YWdOYW1lIHx8ICcqJyk7CgogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZv
ciAodmFyIGkgPSAwOyBpIDwgc2NvcGUubGVuZ3RoOyBpKyspCiAgICAgIGlmICh0
aGlzLm1hdGNoKGVsZW1lbnQgPSBzY29wZVtpXSkpCiAgICAgICAgcmVzdWx0cy5w
dXNoKEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpKTsKCiAgICByZXR1cm4gcmVzdWx0
czsKICB9LAoKICB0b1N0cmluZzogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhp
cy5leHByZXNzaW9uOwogIH0KfQoKT2JqZWN0LmV4dGVuZChTZWxlY3Rvciwgewog
IG1hdGNoRWxlbWVudHM6IGZ1bmN0aW9uKGVsZW1lbnRzLCBleHByZXNzaW9uKSB7
CiAgICB2YXIgc2VsZWN0b3IgPSBuZXcgU2VsZWN0b3IoZXhwcmVzc2lvbik7CiAg
ICByZXR1cm4gZWxlbWVudHMuc2VsZWN0KHNlbGVjdG9yLm1hdGNoLmJpbmQoc2Vs
ZWN0b3IpKTsKICB9LAoKICBmaW5kRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudHMs
IGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBpZiAodHlwZW9mIGV4cHJlc3Npb24g
PT0gJ251bWJlcicpIGluZGV4ID0gZXhwcmVzc2lvbiwgZXhwcmVzc2lvbiA9IGZh
bHNlOwogICAgcmV0dXJuIFNlbGVjdG9yLm1hdGNoRWxlbWVudHMoZWxlbWVudHMs
IGV4cHJlc3Npb24gfHwgJyonKVtpbmRleCB8fCAwXTsKICB9LAoKICBmaW5kQ2hp
bGRFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbnMpIHsKICAg
IHJldHVybiBleHByZXNzaW9ucy5tYXAoZnVuY3Rpb24oZXhwcmVzc2lvbikgewog
ICAgICByZXR1cm4gZXhwcmVzc2lvbi5zdHJpcCgpLnNwbGl0KC9ccysvKS5pbmpl
Y3QoW251bGxdLCBmdW5jdGlvbihyZXN1bHRzLCBleHByKSB7CiAgICAgICAgdmFy
IHNlbGVjdG9yID0gbmV3IFNlbGVjdG9yKGV4cHIpOwogICAgICAgIHJldHVybiBy
ZXN1bHRzLmluamVjdChbXSwgZnVuY3Rpb24oZWxlbWVudHMsIHJlc3VsdCkgewog
ICAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmNvbmNhdChzZWxlY3Rvci5maW5kRWxl
bWVudHMocmVzdWx0IHx8IGVsZW1lbnQpKTsKICAgICAgICB9KTsKICAgICAgfSk7
CiAgICB9KS5mbGF0dGVuKCk7CiAgfQp9KTsKCmZ1bmN0aW9uICQkKCkgewogIHJl
dHVybiBTZWxlY3Rvci5maW5kQ2hpbGRFbGVtZW50cyhkb2N1bWVudCwgJEEoYXJn
dW1lbnRzKSk7Cn0KdmFyIEZvcm0gPSB7CiAgcmVzZXQ6IGZ1bmN0aW9uKGZvcm0p
IHsKICAgICQoZm9ybSkucmVzZXQoKTsKICAgIHJldHVybiBmb3JtOwogIH0KfTsK
CkZvcm0uTWV0aG9kcyA9IHsKICBzZXJpYWxpemU6IGZ1bmN0aW9uKGZvcm0pIHsK
ICAgIHZhciBlbGVtZW50cyA9IEZvcm0uZ2V0RWxlbWVudHMoJChmb3JtKSk7CiAg
ICB2YXIgcXVlcnlDb21wb25lbnRzID0gbmV3IEFycmF5KCk7CgogICAgZm9yICh2
YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIg
cXVlcnlDb21wb25lbnQgPSBGb3JtLkVsZW1lbnQuc2VyaWFsaXplKGVsZW1lbnRz
W2ldKTsKICAgICAgaWYgKHF1ZXJ5Q29tcG9uZW50KQogICAgICAgIHF1ZXJ5Q29t
cG9uZW50cy5wdXNoKHF1ZXJ5Q29tcG9uZW50KTsKICAgIH0KCiAgICByZXR1cm4g
cXVlcnlDb21wb25lbnRzLmpvaW4oJyYnKTsKICB9LAoKICBnZXRFbGVtZW50czog
ZnVuY3Rpb24oZm9ybSkgewogICAgZm9ybSA9ICQoZm9ybSk7CiAgICB2YXIgZWxl
bWVudHMgPSBuZXcgQXJyYXkoKTsKCiAgICBmb3IgKHZhciB0YWdOYW1lIGluIEZv
cm0uRWxlbWVudC5TZXJpYWxpemVycykgewogICAgICB2YXIgdGFnRWxlbWVudHMg
PSBmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpOwogICAgICBmb3Ig
KHZhciBqID0gMDsgaiA8IHRhZ0VsZW1lbnRzLmxlbmd0aDsgaisrKQogICAgICAg
IGVsZW1lbnRzLnB1c2godGFnRWxlbWVudHNbal0pOwogICAgfQogICAgcmV0dXJu
IGVsZW1lbnRzOwogIH0sCgogIGdldElucHV0czogZnVuY3Rpb24oZm9ybSwgdHlw
ZU5hbWUsIG5hbWUpIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgdmFyIGlucHV0
cyA9IGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7CgogICAgaWYg
KCF0eXBlTmFtZSAmJiAhbmFtZSkKICAgICAgcmV0dXJuIGlucHV0czsKCiAgICB2
YXIgbWF0Y2hpbmdJbnB1dHMgPSBuZXcgQXJyYXkoKTsKICAgIGZvciAodmFyIGkg
PSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBpbnB1dCA9
IGlucHV0c1tpXTsKICAgICAgaWYgKCh0eXBlTmFtZSAmJiBpbnB1dC50eXBlICE9
IHR5cGVOYW1lKSB8fAogICAgICAgICAgKG5hbWUgJiYgaW5wdXQubmFtZSAhPSBu
YW1lKSkKICAgICAgICBjb250aW51ZTsKICAgICAgbWF0Y2hpbmdJbnB1dHMucHVz
aChpbnB1dCk7CiAgICB9CgogICAgcmV0dXJuIG1hdGNoaW5nSW5wdXRzOwogIH0s
CgogIGRpc2FibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0p
OwogICAgdmFyIGVsZW1lbnRzID0gRm9ybS5nZXRFbGVtZW50cyhmb3JtKTsKICAg
IGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAg
ICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsKICAgICAgZWxlbWVudC5ibHVy
KCk7CiAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSAndHJ1ZSc7CiAgICB9CiAgICBy
ZXR1cm4gZm9ybTsKICB9LAoKICBlbmFibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAg
IGZvcm0gPSAkKGZvcm0pOwogICAgdmFyIGVsZW1lbnRzID0gRm9ybS5nZXRFbGVt
ZW50cyhmb3JtKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVu
Z3RoOyBpKyspIHsKICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsKICAg
ICAgZWxlbWVudC5kaXNhYmxlZCA9ICcnOwogICAgfQogICAgcmV0dXJuIGZvcm07
CiAgfSwKCiAgZmluZEZpcnN0RWxlbWVudDogZnVuY3Rpb24oZm9ybSkgewogICAg
cmV0dXJuIEZvcm0uZ2V0RWxlbWVudHMoZm9ybSkuZmluZChmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50LnR5cGUgIT0gJ2hpZGRlbicgJiYg
IWVsZW1lbnQuZGlzYWJsZWQgJiYKICAgICAgICBbJ2lucHV0JywgJ3NlbGVjdCcs
ICd0ZXh0YXJlYSddLmluY2x1ZGUoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNl
KCkpOwogICAgfSk7CiAgfSwKCiAgZm9jdXNGaXJzdEVsZW1lbnQ6IGZ1bmN0aW9u
KGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgRmllbGQuYWN0aXZhdGUo
Rm9ybS5maW5kRmlyc3RFbGVtZW50KGZvcm0pKTsKICAgIHJldHVybiBmb3JtOwog
IH0KfQoKT2JqZWN0LmV4dGVuZChGb3JtLCBGb3JtLk1ldGhvZHMpOwoKLyotLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpGb3JtLkVsZW1lbnQgPSB7CiAgZm9j
dXM6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICQoZWxlbWVudCkuZm9jdXMoKTsK
ICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIHNlbGVjdDogZnVuY3Rpb24oZWxl
bWVudCkgewogICAgJChlbGVtZW50KS5zZWxlY3QoKTsKICAgIHJldHVybiBlbGVt
ZW50OwogIH0KfQoKRm9ybS5FbGVtZW50Lk1ldGhvZHMgPSB7CiAgc2VyaWFsaXpl
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsK
ICAgIHZhciBtZXRob2QgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsK
ICAgIHZhciBwYXJhbWV0ZXIgPSBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnNbbWV0
aG9kXShlbGVtZW50KTsKCiAgICBpZiAocGFyYW1ldGVyKSB7CiAgICAgIHZhciBr
ZXkgPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1ldGVyWzBdKTsKICAgICAgaWYg
KGtleS5sZW5ndGggPT0gMCkgcmV0dXJuOwoKICAgICAgaWYgKHBhcmFtZXRlclsx
XS5jb25zdHJ1Y3RvciAhPSBBcnJheSkKICAgICAgICBwYXJhbWV0ZXJbMV0gPSBb
cGFyYW1ldGVyWzFdXTsKCiAgICAgIHJldHVybiBwYXJhbWV0ZXJbMV0ubWFwKGZ1
bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGtleSArICc9JyArIGVuY29k
ZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICAgIH0pLmpvaW4oJyYnKTsKICAgIH0K
ICB9LAoKICBnZXRWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICB2YXIgbWV0aG9kID0gZWxlbWVudC50YWdOYW1l
LnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgcGFyYW1ldGVyID0gRm9ybS5FbGVtZW50
LlNlcmlhbGl6ZXJzW21ldGhvZF0oZWxlbWVudCk7CgogICAgaWYgKHBhcmFtZXRl
cikKICAgICAgcmV0dXJuIHBhcmFtZXRlclsxXTsKICB9LAoKICBjbGVhcjogZnVu
Y3Rpb24oZWxlbWVudCkgewogICAgJChlbGVtZW50KS52YWx1ZSA9ICcnOwogICAg
cmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcHJlc2VudDogZnVuY3Rpb24oZWxlbWVu
dCkgewogICAgcmV0dXJuICQoZWxlbWVudCkudmFsdWUgIT0gJyc7CiAgfSwKCiAg
YWN0aXZhdGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVs
ZW1lbnQpOwogICAgZWxlbWVudC5mb2N1cygpOwogICAgaWYgKGVsZW1lbnQuc2Vs
ZWN0KQogICAgICBlbGVtZW50LnNlbGVjdCgpOwogICAgcmV0dXJuIGVsZW1lbnQ7
CiAgfSwKCiAgZW5hYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50
ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuZGlzYWJsZWQgPSAnJzsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0sCgogIGRpc2FibGU6IGZ1bmN0aW9uKGVsZW1lbnQp
IHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5ibHVyKCk7
CiAgICBlbGVtZW50LmRpc2FibGVkID0gJ3RydWUnOwogICAgcmV0dXJuIGVsZW1l
bnQ7CiAgfQp9CgpPYmplY3QuZXh0ZW5kKEZvcm0uRWxlbWVudCwgRm9ybS5FbGVt
ZW50Lk1ldGhvZHMpOwp2YXIgRmllbGQgPSBGb3JtLkVsZW1lbnQ7CgovKi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkZvcm0uRWxlbWVudC5TZXJpYWxpemVy
cyA9IHsKICBpbnB1dDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgc3dpdGNoIChl
bGVtZW50LnR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdjaGVja2Jv
eCc6CiAgICAgIGNhc2UgJ3JhZGlvJzoKICAgICAgICByZXR1cm4gRm9ybS5FbGVt
ZW50LlNlcmlhbGl6ZXJzLmlucHV0U2VsZWN0b3IoZWxlbWVudCk7CiAgICAgIGRl
ZmF1bHQ6CiAgICAgICAgcmV0dXJuIEZvcm0uRWxlbWVudC5TZXJpYWxpemVycy50
ZXh0YXJlYShlbGVtZW50KTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9LAoK
ICBpbnB1dFNlbGVjdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBpZiAoZWxl
bWVudC5jaGVja2VkKQogICAgICByZXR1cm4gW2VsZW1lbnQubmFtZSwgZWxlbWVu
dC52YWx1ZV07CiAgfSwKCiAgdGV4dGFyZWE6IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICAgIHJldHVybiBbZWxlbWVudC5uYW1lLCBlbGVtZW50LnZhbHVlXTsKICB9LAoK
ICBzZWxlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiBGb3JtLkVs
ZW1lbnQuU2VyaWFsaXplcnNbZWxlbWVudC50eXBlID09ICdzZWxlY3Qtb25lJyA/
CiAgICAgICdzZWxlY3RPbmUnIDogJ3NlbGVjdE1hbnknXShlbGVtZW50KTsKICB9
LAoKICBzZWxlY3RPbmU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1
ZSA9ICcnLCBvcHQsIGluZGV4ID0gZWxlbWVudC5zZWxlY3RlZEluZGV4OwogICAg
aWYgKGluZGV4ID49IDApIHsKICAgICAgb3B0ID0gZWxlbWVudC5vcHRpb25zW2lu
ZGV4XTsKICAgICAgdmFsdWUgPSBvcHQudmFsdWUgfHwgb3B0LnRleHQ7CiAgICB9
CiAgICByZXR1cm4gW2VsZW1lbnQubmFtZSwgdmFsdWVdOwogIH0sCgogIHNlbGVj
dE1hbnk6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1ZSA9IFtdOwog
ICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7CiAg
ICAgIHZhciBvcHQgPSBlbGVtZW50Lm9wdGlvbnNbaV07CiAgICAgIGlmIChvcHQu
c2VsZWN0ZWQpCiAgICAgICAgdmFsdWUucHVzaChvcHQudmFsdWUgfHwgb3B0LnRl
eHQpOwogICAgfQogICAgcmV0dXJuIFtlbGVtZW50Lm5hbWUsIHZhbHVlXTsKICB9
Cn0KCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKdmFyICRGID0gRm9y
bS5FbGVtZW50LmdldFZhbHVlOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LSovCgpBYnN0cmFjdC5UaW1lZE9ic2VydmVyID0gZnVuY3Rpb24oKSB7fQpBYnN0
cmFjdC5UaW1lZE9ic2VydmVyLnByb3RvdHlwZSA9IHsKICBpbml0aWFsaXplOiBm
dW5jdGlvbihlbGVtZW50LCBmcmVxdWVuY3ksIGNhbGxiYWNrKSB7CiAgICB0aGlz
LmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTsKICAgIHRoaXMuZWxlbWVudCAgID0gJChl
bGVtZW50KTsKICAgIHRoaXMuY2FsbGJhY2sgID0gY2FsbGJhY2s7CgogICAgdGhp
cy5sYXN0VmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICB0aGlzLnJlZ2lzdGVy
Q2FsbGJhY2soKTsKICB9LAoKICByZWdpc3RlckNhbGxiYWNrOiBmdW5jdGlvbigp
IHsKICAgIHNldEludGVydmFsKHRoaXMub25UaW1lckV2ZW50LmJpbmQodGhpcyks
IHRoaXMuZnJlcXVlbmN5ICogMTAwMCk7CiAgfSwKCiAgb25UaW1lckV2ZW50OiBm
dW5jdGlvbigpIHsKICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTsKICAg
IGlmICh0aGlzLmxhc3RWYWx1ZSAhPSB2YWx1ZSkgewogICAgICB0aGlzLmNhbGxi
YWNrKHRoaXMuZWxlbWVudCwgdmFsdWUpOwogICAgICB0aGlzLmxhc3RWYWx1ZSA9
IHZhbHVlOwogICAgfQogIH0KfQoKRm9ybS5FbGVtZW50Lk9ic2VydmVyID0gQ2xh
c3MuY3JlYXRlKCk7CkZvcm0uRWxlbWVudC5PYnNlcnZlci5wcm90b3R5cGUgPSBP
YmplY3QuZXh0ZW5kKG5ldyBBYnN0cmFjdC5UaW1lZE9ic2VydmVyKCksIHsKICBn
ZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5FbGVtZW50Lmdl
dFZhbHVlKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCkZvcm0uT2JzZXJ2ZXIgPSBD
bGFzcy5jcmVhdGUoKTsKRm9ybS5PYnNlcnZlci5wcm90b3R5cGUgPSBPYmplY3Qu
ZXh0ZW5kKG5ldyBBYnN0cmFjdC5UaW1lZE9ic2VydmVyKCksIHsKICBnZXRWYWx1
ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5zZXJpYWxpemUodGhpcy5l
bGVtZW50KTsKICB9Cn0pOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSov
CgpBYnN0cmFjdC5FdmVudE9ic2VydmVyID0gZnVuY3Rpb24oKSB7fQpBYnN0cmFj
dC5FdmVudE9ic2VydmVyLnByb3RvdHlwZSA9IHsKICBpbml0aWFsaXplOiBmdW5j
dGlvbihlbGVtZW50LCBjYWxsYmFjaykgewogICAgdGhpcy5lbGVtZW50ICA9ICQo
ZWxlbWVudCk7CiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7CgogICAgdGhp
cy5sYXN0VmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICBpZiAodGhpcy5lbGVt
ZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnZm9ybScpCiAgICAgIHRoaXMu
cmVnaXN0ZXJGb3JtQ2FsbGJhY2tzKCk7CiAgICBlbHNlCiAgICAgIHRoaXMucmVn
aXN0ZXJDYWxsYmFjayh0aGlzLmVsZW1lbnQpOwogIH0sCgogIG9uRWxlbWVudEV2
ZW50OiBmdW5jdGlvbigpIHsKICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUo
KTsKICAgIGlmICh0aGlzLmxhc3RWYWx1ZSAhPSB2YWx1ZSkgewogICAgICB0aGlz
LmNhbGxiYWNrKHRoaXMuZWxlbWVudCwgdmFsdWUpOwogICAgICB0aGlzLmxhc3RW
YWx1ZSA9IHZhbHVlOwogICAgfQogIH0sCgogIHJlZ2lzdGVyRm9ybUNhbGxiYWNr
czogZnVuY3Rpb24oKSB7CiAgICB2YXIgZWxlbWVudHMgPSBGb3JtLmdldEVsZW1l
bnRzKHRoaXMuZWxlbWVudCk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1l
bnRzLmxlbmd0aDsgaSsrKQogICAgICB0aGlzLnJlZ2lzdGVyQ2FsbGJhY2soZWxl
bWVudHNbaV0pOwogIH0sCgogIHJlZ2lzdGVyQ2FsbGJhY2s6IGZ1bmN0aW9uKGVs
ZW1lbnQpIHsKICAgIGlmIChlbGVtZW50LnR5cGUpIHsKICAgICAgc3dpdGNoIChl
bGVtZW50LnR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgIGNhc2UgJ2NoZWNr
Ym94JzoKICAgICAgICBjYXNlICdyYWRpbyc6CiAgICAgICAgICBFdmVudC5vYnNl
cnZlKGVsZW1lbnQsICdjbGljaycsIHRoaXMub25FbGVtZW50RXZlbnQuYmluZCh0
aGlzKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAg
ICAgRXZlbnQub2JzZXJ2ZShlbGVtZW50LCAnY2hhbmdlJywgdGhpcy5vbkVsZW1l
bnRFdmVudC5iaW5kKHRoaXMpKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAg
ICB9CiAgfQp9CgpGb3JtLkVsZW1lbnQuRXZlbnRPYnNlcnZlciA9IENsYXNzLmNy
ZWF0ZSgpOwpGb3JtLkVsZW1lbnQuRXZlbnRPYnNlcnZlci5wcm90b3R5cGUgPSBP
YmplY3QuZXh0ZW5kKG5ldyBBYnN0cmFjdC5FdmVudE9ic2VydmVyKCksIHsKICBn
ZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5FbGVtZW50Lmdl
dFZhbHVlKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCkZvcm0uRXZlbnRPYnNlcnZl
ciA9IENsYXNzLmNyZWF0ZSgpOwpGb3JtLkV2ZW50T2JzZXJ2ZXIucHJvdG90eXBl
ID0gT2JqZWN0LmV4dGVuZChuZXcgQWJzdHJhY3QuRXZlbnRPYnNlcnZlcigpLCB7
CiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEZvcm0uc2VyaWFs
aXplKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKaWYgKCF3aW5kb3cuRXZlbnQpIHsK
ICB2YXIgRXZlbnQgPSBuZXcgT2JqZWN0KCk7Cn0KCk9iamVjdC5leHRlbmQoRXZl
bnQsIHsKICBLRVlfQkFDS1NQQUNFOiA4LAogIEtFWV9UQUI6ICAgICAgIDksCiAg
S0VZX1JFVFVSTjogICAxMywKICBLRVlfRVNDOiAgICAgIDI3LAogIEtFWV9MRUZU
OiAgICAgMzcsCiAgS0VZX1VQOiAgICAgICAzOCwKICBLRVlfUklHSFQ6ICAgIDM5
LAogIEtFWV9ET1dOOiAgICAgNDAsCiAgS0VZX0RFTEVURTogICA0NiwKICBLRVlf
SE9NRTogICAgIDM2LAogIEtFWV9FTkQ6ICAgICAgMzUsCiAgS0VZX1BBR0VVUDog
ICAzMywKICBLRVlfUEFHRURPV046IDM0LAoKICBlbGVtZW50OiBmdW5jdGlvbihl
dmVudCkgewogICAgcmV0dXJuIGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVt
ZW50OwogIH0sCgogIGlzTGVmdENsaWNrOiBmdW5jdGlvbihldmVudCkgewogICAg
cmV0dXJuICgoKGV2ZW50LndoaWNoKSAmJiAoZXZlbnQud2hpY2ggPT0gMSkpIHx8
CiAgICAgICAgICAgICgoZXZlbnQuYnV0dG9uKSAmJiAoZXZlbnQuYnV0dG9uID09
IDEpKSk7CiAgfSwKCiAgcG9pbnRlclg6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICBy
ZXR1cm4gZXZlbnQucGFnZVggfHwgKGV2ZW50LmNsaWVudFggKwogICAgICAoZG9j
dW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9k
eS5zY3JvbGxMZWZ0KSk7CiAgfSwKCiAgcG9pbnRlclk6IGZ1bmN0aW9uKGV2ZW50
KSB7CiAgICByZXR1cm4gZXZlbnQucGFnZVkgfHwgKGV2ZW50LmNsaWVudFkgKwog
ICAgICAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1
bWVudC5ib2R5LnNjcm9sbFRvcCkpOwogIH0sCgogIHN0b3A6IGZ1bmN0aW9uKGV2
ZW50KSB7CiAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIHsKICAgICAgZXZl
bnQucHJldmVudERlZmF1bHQoKTsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9u
KCk7CiAgICB9IGVsc2UgewogICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNl
OwogICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOwogICAgfQogIH0sCgog
IC8vIGZpbmQgdGhlIGZpcnN0IG5vZGUgd2l0aCB0aGUgZ2l2ZW4gdGFnTmFtZSwg
c3RhcnRpbmcgZnJvbSB0aGUKICAvLyBub2RlIHRoZSBldmVudCB3YXMgdHJpZ2dl
cmVkIG9uOyB0cmF2ZXJzZXMgdGhlIERPTSB1cHdhcmRzCiAgZmluZEVsZW1lbnQ6
IGZ1bmN0aW9uKGV2ZW50LCB0YWdOYW1lKSB7CiAgICB2YXIgZWxlbWVudCA9IEV2
ZW50LmVsZW1lbnQoZXZlbnQpOwogICAgd2hpbGUgKGVsZW1lbnQucGFyZW50Tm9k
ZSAmJiAoIWVsZW1lbnQudGFnTmFtZSB8fAogICAgICAgIChlbGVtZW50LnRhZ05h
bWUudG9VcHBlckNhc2UoKSAhPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCkpKSkKICAg
ICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgIHJldHVybiBlbGVt
ZW50OwogIH0sCgogIG9ic2VydmVyczogZmFsc2UsCgogIF9vYnNlcnZlQW5kQ2Fj
aGU6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIG9ic2VydmVyLCB1c2VDYXB0dXJl
KSB7CiAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzKSB0aGlzLm9ic2VydmVycyA9IFtd
OwogICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICB0aGlz
Lm9ic2VydmVycy5wdXNoKFtlbGVtZW50LCBuYW1lLCBvYnNlcnZlciwgdXNlQ2Fw
dHVyZV0pOwogICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb2Jz
ZXJ2ZXIsIHVzZUNhcHR1cmUpOwogICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dGFj
aEV2ZW50KSB7CiAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goW2VsZW1lbnQsIG5h
bWUsIG9ic2VydmVyLCB1c2VDYXB0dXJlXSk7CiAgICAgIGVsZW1lbnQuYXR0YWNo
RXZlbnQoJ29uJyArIG5hbWUsIG9ic2VydmVyKTsKICAgIH0KICB9LAoKICB1bmxv
YWRDYWNoZTogZnVuY3Rpb24oKSB7CiAgICBpZiAoIUV2ZW50Lm9ic2VydmVycykg
cmV0dXJuOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBFdmVudC5vYnNlcnZlcnMu
bGVuZ3RoOyBpKyspIHsKICAgICAgRXZlbnQuc3RvcE9ic2VydmluZy5hcHBseSh0
aGlzLCBFdmVudC5vYnNlcnZlcnNbaV0pOwogICAgICBFdmVudC5vYnNlcnZlcnNb
aV1bMF0gPSBudWxsOwogICAgfQogICAgRXZlbnQub2JzZXJ2ZXJzID0gZmFsc2U7
CiAgfSwKCiAgb2JzZXJ2ZTogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgb2JzZXJ2
ZXIsIHVzZUNhcHR1cmUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAg
dXNlQ2FwdHVyZSA9IHVzZUNhcHR1cmUgfHwgZmFsc2U7CgogICAgaWYgKG5hbWUg
PT0gJ2tleXByZXNzJyAmJgogICAgICAgIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5t
YXRjaCgvS29ucXVlcm9yfFNhZmFyaXxLSFRNTC8pCiAgICAgICAgfHwgZWxlbWVu
dC5hdHRhY2hFdmVudCkpCiAgICAgIG5hbWUgPSAna2V5ZG93bic7CgogICAgRXZl
bnQuX29ic2VydmVBbmRDYWNoZShlbGVtZW50LCBuYW1lLCBvYnNlcnZlciwgdXNl
Q2FwdHVyZSk7CiAgfSwKCiAgc3RvcE9ic2VydmluZzogZnVuY3Rpb24oZWxlbWVu
dCwgbmFtZSwgb2JzZXJ2ZXIsIHVzZUNhcHR1cmUpIHsKICAgIGVsZW1lbnQgPSAk
KGVsZW1lbnQpOwogICAgdXNlQ2FwdHVyZSA9IHVzZUNhcHR1cmUgfHwgZmFsc2U7
CgogICAgaWYgKG5hbWUgPT0gJ2tleXByZXNzJyAmJgogICAgICAgIChuYXZpZ2F0
b3IuYXBwVmVyc2lvbi5tYXRjaCgvS29ucXVlcm9yfFNhZmFyaXxLSFRNTC8pCiAg
ICAgICAgfHwgZWxlbWVudC5kZXRhY2hFdmVudCkpCiAgICAgIG5hbWUgPSAna2V5
ZG93bic7CgogICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikgewog
ICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgb2JzZXJ2ZXIs
IHVzZUNhcHR1cmUpOwogICAgfSBlbHNlIGlmIChlbGVtZW50LmRldGFjaEV2ZW50
KSB7CiAgICAgIHRyeSB7CiAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24n
ICsgbmFtZSwgb2JzZXJ2ZXIpOwogICAgICB9IGNhdGNoIChlKSB7fQogICAgfQog
IH0KfSk7CgovKiBwcmV2ZW50IG1lbW9yeSBsZWFrcyBpbiBJRSAqLwppZiAobmF2
aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL1xiTVNJRVxiLykpCiAgRXZlbnQub2Jz
ZXJ2ZSh3aW5kb3csICd1bmxvYWQnLCBFdmVudC51bmxvYWRDYWNoZSwgZmFsc2Up
Owp2YXIgUG9zaXRpb24gPSB7CiAgLy8gc2V0IHRvIHRydWUgaWYgbmVlZGVkLCB3
YXJuaW5nOiBmaXJlZm94IHBlcmZvcm1hbmNlIHByb2JsZW1zCiAgLy8gTk9UIG5l
ZWVkZWQgZm9yIHBhZ2Ugc2Nyb2xsaW5nLCBvbmx5IGlmIGRyYWdnYWJsZSBjb250
YWluZWQgaW4KICAvLyBzY3JvbGxhYmxlIGVsZW1lbnRzCiAgaW5jbHVkZVNjcm9s
bE9mZnNldHM6IGZhbHNlLAoKICAvLyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgY2Fs
bGluZyB3aXRoaW5JbmNsdWRpbmdTY3JvbGxvZmZzZXQsIGV2ZXJ5IHRpbWUgdGhl
CiAgLy8gcGFnZSBpcyBzY3JvbGxlZAogIHByZXBhcmU6IGZ1bmN0aW9uKCkgewog
ICAgdGhpcy5kZWx0YVggPSAgd2luZG93LnBhZ2VYT2Zmc2V0CiAgICAgICAgICAg
ICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdAogICAg
ICAgICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0CiAgICAgICAg
ICAgICAgICB8fCAwOwogICAgdGhpcy5kZWx0YVkgPSAgd2luZG93LnBhZ2VZT2Zm
c2V0CiAgICAgICAgICAgICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQu
c2Nyb2xsVG9wCiAgICAgICAgICAgICAgICB8fCBkb2N1bWVudC5ib2R5LnNjcm9s
bFRvcAogICAgICAgICAgICAgICAgfHwgMDsKICB9LAoKICByZWFsT2Zmc2V0OiBm
dW5jdGlvbihlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0g
MDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQuc2Nyb2xsVG9wICB8
fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7CiAg
ICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAgICB9IHdoaWxlIChl
bGVtZW50KTsKICAgIHJldHVybiBbdmFsdWVMLCB2YWx1ZVRdOwogIH0sCgogIGN1
bXVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1
ZVQgPSAwLCB2YWx1ZUwgPSAwOwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxl
bWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9m
ZnNldExlZnQgfHwgMDsKICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFy
ZW50OwogICAgfSB3aGlsZSAoZWxlbWVudCk7CiAgICByZXR1cm4gW3ZhbHVlTCwg
dmFsdWVUXTsKICB9LAoKICBwb3NpdGlvbmVkT2Zmc2V0OiBmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsK
ICAgICAgdmFsdWVUICs9IGVsZW1lbnQub2Zmc2V0VG9wICB8fCAwOwogICAgICB2
YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQg
PSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgaWYgKGVsZW1lbnQpIHsKICAg
ICAgICBwID0gRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKTsK
ICAgICAgICBpZiAocCA9PSAncmVsYXRpdmUnIHx8IHAgPT0gJ2Fic29sdXRlJykg
YnJlYWs7CiAgICAgIH0KICAgIH0gd2hpbGUgKGVsZW1lbnQpOwogICAgcmV0dXJu
IFt2YWx1ZUwsIHZhbHVlVF07CiAgfSwKCiAgb2Zmc2V0UGFyZW50OiBmdW5jdGlv
bihlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudC5vZmZzZXRQYXJlbnQpIHJldHVy
biBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgIGlmIChlbGVtZW50ID09IGRvY3Vt
ZW50LmJvZHkpIHJldHVybiBlbGVtZW50OwoKICAgIHdoaWxlICgoZWxlbWVudCA9
IGVsZW1lbnQucGFyZW50Tm9kZSkgJiYgZWxlbWVudCAhPSBkb2N1bWVudC5ib2R5
KQogICAgICBpZiAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24n
KSAhPSAnc3RhdGljJykKICAgICAgICByZXR1cm4gZWxlbWVudDsKCiAgICByZXR1
cm4gZG9jdW1lbnQuYm9keTsKICB9LAoKICAvLyBjYWNoZXMgeC95IGNvb3JkaW5h
dGUgcGFpciB0byB1c2Ugd2l0aCBvdmVybGFwCiAgd2l0aGluOiBmdW5jdGlvbihl
bGVtZW50LCB4LCB5KSB7CiAgICBpZiAodGhpcy5pbmNsdWRlU2Nyb2xsT2Zmc2V0
cykKICAgICAgcmV0dXJuIHRoaXMud2l0aGluSW5jbHVkaW5nU2Nyb2xsb2Zmc2V0
cyhlbGVtZW50LCB4LCB5KTsKICAgIHRoaXMueGNvbXAgPSB4OwogICAgdGhpcy55
Y29tcCA9IHk7CiAgICB0aGlzLm9mZnNldCA9IHRoaXMuY3VtdWxhdGl2ZU9mZnNl
dChlbGVtZW50KTsKCiAgICByZXR1cm4gKHkgPj0gdGhpcy5vZmZzZXRbMV0gJiYK
ICAgICAgICAgICAgeSA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0
SGVpZ2h0ICYmCiAgICAgICAgICAgIHggPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAg
ICAgICAgICAgeCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lk
dGgpOwogIH0sCgogIHdpdGhpbkluY2x1ZGluZ1Njcm9sbG9mZnNldHM6IGZ1bmN0
aW9uKGVsZW1lbnQsIHgsIHkpIHsKICAgIHZhciBvZmZzZXRjYWNoZSA9IHRoaXMu
cmVhbE9mZnNldChlbGVtZW50KTsKCiAgICB0aGlzLnhjb21wID0geCArIG9mZnNl
dGNhY2hlWzBdIC0gdGhpcy5kZWx0YVg7CiAgICB0aGlzLnljb21wID0geSArIG9m
ZnNldGNhY2hlWzFdIC0gdGhpcy5kZWx0YVk7CiAgICB0aGlzLm9mZnNldCA9IHRo
aXMuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHRoaXMu
eWNvbXAgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgdGhpcy55Y29t
cCA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAg
ICAgICAgICAgIHRoaXMueGNvbXAgPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAg
ICAgICAgdGhpcy54Y29tcCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zm
c2V0V2lkdGgpOwogIH0sCgogIC8vIHdpdGhpbiBtdXN0IGJlIGNhbGxlZCBkaXJl
Y3RseSBiZWZvcmUKICBvdmVybGFwOiBmdW5jdGlvbihtb2RlLCBlbGVtZW50KSB7
CiAgICBpZiAoIW1vZGUpIHJldHVybiAwOwogICAgaWYgKG1vZGUgPT0gJ3ZlcnRp
Y2FsJykKICAgICAgcmV0dXJuICgodGhpcy5vZmZzZXRbMV0gKyBlbGVtZW50Lm9m
ZnNldEhlaWdodCkgLSB0aGlzLnljb21wKSAvCiAgICAgICAgZWxlbWVudC5vZmZz
ZXRIZWlnaHQ7CiAgICBpZiAobW9kZSA9PSAnaG9yaXpvbnRhbCcpCiAgICAgIHJl
dHVybiAoKHRoaXMub2Zmc2V0WzBdICsgZWxlbWVudC5vZmZzZXRXaWR0aCkgLSB0
aGlzLnhjb21wKSAvCiAgICAgICAgZWxlbWVudC5vZmZzZXRXaWR0aDsKICB9LAoK
ICBwYWdlOiBmdW5jdGlvbihmb3JFbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0g
MCwgdmFsdWVMID0gMDsKCiAgICB2YXIgZWxlbWVudCA9IGZvckVsZW1lbnQ7CiAg
ICBkbyB7CiAgICAgIHZhbHVlVCArPSBlbGVtZW50Lm9mZnNldFRvcCAgfHwgMDsK
ICAgICAgdmFsdWVMICs9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwOwoKICAgICAg
Ly8gU2FmYXJpIGZpeAogICAgICBpZiAoZWxlbWVudC5vZmZzZXRQYXJlbnQ9PWRv
Y3VtZW50LmJvZHkpCiAgICAgICAgaWYgKEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVu
dCwncG9zaXRpb24nKT09J2Fic29sdXRlJykgYnJlYWs7CgogICAgfSB3aGlsZSAo
ZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KTsKCiAgICBlbGVtZW50ID0g
Zm9yRWxlbWVudDsKICAgIGRvIHsKICAgICAgaWYgKCF3aW5kb3cub3BlcmEgfHwg
ZWxlbWVudC50YWdOYW1lPT0nQk9EWScpIHsKICAgICAgICB2YWx1ZVQgLT0gZWxl
bWVudC5zY3JvbGxUb3AgIHx8IDA7CiAgICAgICAgdmFsdWVMIC09IGVsZW1lbnQu
c2Nyb2xsTGVmdCB8fCAwOwogICAgICB9CiAgICB9IHdoaWxlIChlbGVtZW50ID0g
ZWxlbWVudC5wYXJlbnROb2RlKTsKCiAgICByZXR1cm4gW3ZhbHVlTCwgdmFsdWVU
XTsKICB9LAoKICBjbG9uZTogZnVuY3Rpb24oc291cmNlLCB0YXJnZXQpIHsKICAg
IHZhciBvcHRpb25zID0gT2JqZWN0LmV4dGVuZCh7CiAgICAgIHNldExlZnQ6ICAg
IHRydWUsCiAgICAgIHNldFRvcDogICAgIHRydWUsCiAgICAgIHNldFdpZHRoOiAg
IHRydWUsCiAgICAgIHNldEhlaWdodDogIHRydWUsCiAgICAgIG9mZnNldFRvcDog
IDAsCiAgICAgIG9mZnNldExlZnQ6IDAKICAgIH0sIGFyZ3VtZW50c1syXSB8fCB7
fSkKCiAgICAvLyBmaW5kIHBhZ2UgcG9zaXRpb24gb2Ygc291cmNlCiAgICBzb3Vy
Y2UgPSAkKHNvdXJjZSk7CiAgICB2YXIgcCA9IFBvc2l0aW9uLnBhZ2Uoc291cmNl
KTsKCiAgICAvLyBmaW5kIGNvb3JkaW5hdGUgc3lzdGVtIHRvIHVzZQogICAgdGFy
Z2V0ID0gJCh0YXJnZXQpOwogICAgdmFyIGRlbHRhID0gWzAsIDBdOwogICAgdmFy
IHBhcmVudCA9IG51bGw7CiAgICAvLyBkZWx0YSBbMCwwXSB3aWxsIGRvIGZpbmUg
d2l0aCBwb3NpdGlvbjogZml4ZWQgZWxlbWVudHMsCiAgICAvLyBwb3NpdGlvbjph
YnNvbHV0ZSBuZWVkcyBvZmZzZXRQYXJlbnQgZGVsdGFzCiAgICBpZiAoRWxlbWVu
dC5nZXRTdHlsZSh0YXJnZXQsJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgewog
ICAgICBwYXJlbnQgPSBQb3NpdGlvbi5vZmZzZXRQYXJlbnQodGFyZ2V0KTsKICAg
ICAgZGVsdGEgPSBQb3NpdGlvbi5wYWdlKHBhcmVudCk7CiAgICB9CgogICAgLy8g
Y29ycmVjdCBieSBib2R5IG9mZnNldHMgKGZpeGVzIFNhZmFyaSkKICAgIGlmIChw
YXJlbnQgPT0gZG9jdW1lbnQuYm9keSkgewogICAgICBkZWx0YVswXSAtPSBkb2N1
bWVudC5ib2R5Lm9mZnNldExlZnQ7CiAgICAgIGRlbHRhWzFdIC09IGRvY3VtZW50
LmJvZHkub2Zmc2V0VG9wOwogICAgfQoKICAgIC8vIHNldCBwb3NpdGlvbgogICAg
aWYob3B0aW9ucy5zZXRMZWZ0KSAgIHRhcmdldC5zdHlsZS5sZWZ0ICA9IChwWzBd
IC0gZGVsdGFbMF0gKyBvcHRpb25zLm9mZnNldExlZnQpICsgJ3B4JzsKICAgIGlm
KG9wdGlvbnMuc2V0VG9wKSAgICB0YXJnZXQuc3R5bGUudG9wICAgPSAocFsxXSAt
IGRlbHRhWzFdICsgb3B0aW9ucy5vZmZzZXRUb3ApICsgJ3B4JzsKICAgIGlmKG9w
dGlvbnMuc2V0V2lkdGgpICB0YXJnZXQuc3R5bGUud2lkdGggPSBzb3VyY2Uub2Zm
c2V0V2lkdGggKyAncHgnOwogICAgaWYob3B0aW9ucy5zZXRIZWlnaHQpIHRhcmdl
dC5zdHlsZS5oZWlnaHQgPSBzb3VyY2Uub2Zmc2V0SGVpZ2h0ICsgJ3B4JzsKICB9
LAoKICBhYnNvbHV0aXplOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50
ID0gJChlbGVtZW50KTsKICAgIGlmIChlbGVtZW50LnN0eWxlLnBvc2l0aW9uID09
ICdhYnNvbHV0ZScpIHJldHVybjsKICAgIFBvc2l0aW9uLnByZXBhcmUoKTsKCiAg
ICB2YXIgb2Zmc2V0cyA9IFBvc2l0aW9uLnBvc2l0aW9uZWRPZmZzZXQoZWxlbWVu
dCk7CiAgICB2YXIgdG9wICAgICA9IG9mZnNldHNbMV07CiAgICB2YXIgbGVmdCAg
ICA9IG9mZnNldHNbMF07CiAgICB2YXIgd2lkdGggICA9IGVsZW1lbnQuY2xpZW50
V2lkdGg7CiAgICB2YXIgaGVpZ2h0ICA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0OwoK
ICAgIGVsZW1lbnQuX29yaWdpbmFsTGVmdCAgID0gbGVmdCAtIHBhcnNlRmxvYXQo
ZWxlbWVudC5zdHlsZS5sZWZ0ICB8fCAwKTsKICAgIGVsZW1lbnQuX29yaWdpbmFs
VG9wICAgID0gdG9wICAtIHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS50b3AgfHwg
MCk7CiAgICBlbGVtZW50Ll9vcmlnaW5hbFdpZHRoICA9IGVsZW1lbnQuc3R5bGUu
d2lkdGg7CiAgICBlbGVtZW50Ll9vcmlnaW5hbEhlaWdodCA9IGVsZW1lbnQuc3R5
bGUuaGVpZ2h0OwoKICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1
dGUnOwogICAgZWxlbWVudC5zdHlsZS50b3AgICAgPSB0b3AgKyAncHgnOzsKICAg
IGVsZW1lbnQuc3R5bGUubGVmdCAgID0gbGVmdCArICdweCc7OwogICAgZWxlbWVu
dC5zdHlsZS53aWR0aCAgPSB3aWR0aCArICdweCc7OwogICAgZWxlbWVudC5zdHls
ZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnOzsKICB9LAoKICByZWxhdGl2aXplOiBm
dW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAg
IGlmIChlbGVtZW50LnN0eWxlLnBvc2l0aW9uID09ICdyZWxhdGl2ZScpIHJldHVy
bjsKICAgIFBvc2l0aW9uLnByZXBhcmUoKTsKCiAgICBlbGVtZW50LnN0eWxlLnBv
c2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgIHZhciB0b3AgID0gcGFyc2VGbG9hdChl
bGVtZW50LnN0eWxlLnRvcCAgfHwgMCkgLSAoZWxlbWVudC5fb3JpZ2luYWxUb3Ag
fHwgMCk7CiAgICB2YXIgbGVmdCA9IHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS5s
ZWZ0IHx8IDApIC0gKGVsZW1lbnQuX29yaWdpbmFsTGVmdCB8fCAwKTsKCiAgICBl
bGVtZW50LnN0eWxlLnRvcCAgICA9IHRvcCArICdweCc7CiAgICBlbGVtZW50LnN0
eWxlLmxlZnQgICA9IGxlZnQgKyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5oZWln
aHQgPSBlbGVtZW50Ll9vcmlnaW5hbEhlaWdodDsKICAgIGVsZW1lbnQuc3R5bGUu
d2lkdGggID0gZWxlbWVudC5fb3JpZ2luYWxXaWR0aDsKICB9Cn0KCi8vIFNhZmFy
aSByZXR1cm5zIG1hcmdpbnMgb24gYm9keSB3aGljaCBpcyBpbmNvcnJlY3QgaWYg
dGhlIGNoaWxkIGlzIGFic29sdXRlbHkKLy8gcG9zaXRpb25lZC4gIEZvciBwZXJm
b3JtYW5jZSByZWFzb25zLCByZWRlZmluZSBQb3NpdGlvbi5jdW11bGF0aXZlT2Zm
c2V0IGZvcgovLyBLSFRNTC9XZWJLaXQgb25seS4KaWYgKC9Lb25xdWVyb3J8U2Fm
YXJpfEtIVE1MLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgUG9zaXRp
b24uY3VtdWxhdGl2ZU9mZnNldCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZh
ciB2YWx1ZVQgPSAwLCB2YWx1ZUwgPSAwOwogICAgZG8gewogICAgICB2YWx1ZVQg
Kz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVt
ZW50Lm9mZnNldExlZnQgfHwgMDsKICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFy
ZW50ID09IGRvY3VtZW50LmJvZHkpCiAgICAgICAgaWYgKEVsZW1lbnQuZ2V0U3R5
bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgYnJlYWs7Cgog
ICAgICBlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7CiAgICB9IHdoaWxl
IChlbGVtZW50KTsKCiAgICByZXR1cm4gW3ZhbHVlTCwgdmFsdWVUXTsKICB9Cn0K
CkVsZW1lbnQuYWRkTWV0aG9kcygpOw==

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=prototype-extensions.js
Content-Type: application/x-javascript; charset=ISO-8859-1; name=prototype-extensions.js
Content-Location: http://www.garagegames.com/js/1501/prototype-extensions.js
Content-Transfer-Encoding: Base64

LyoKRXh0ZW5kZWRQZXJpb2RpY2FsRXhlY3V0ZXIKRGVzY3JpcHRpb246IE1vZGVs
ZWQgYWZ0ZXIgUHJvdG90eXBlJ3MgUGVyaW9kaWNhbEV4ZWN1dGVyCkxpY2Vuc2Vz
OgooYykgQ3JlYXRpdmUgQ29tbW9ucyAyMDA2Cmh0dHA6Ly9jcmVhdGl2ZWNvbW1v
bnMub3JnL2xpY2Vuc2VzL2J5LXNhLzIuNS8KCkZyZWUgdG8gdXNlIHdpdGggbXkg
cHJpb3IgcGVybWlzc2lvbgpBdXRob3I6IEtldmluIEhvYW5nIExlIHwgaHR0cDov
L3ByYWdtYXRpY29iamVjdHMub3JnCkRhdGU6IDIwMDYtMDktMTgKVmVyc2lvbiAw
LjAxIDogSW5pdGlhbCBwdWJsaWMgcmVsZWFzZQoqLwoKdmFyIFBlcmlvZGljYWxF
eGVjdXRlciA9IENsYXNzLmNyZWF0ZSgpOwoJUGVyaW9kaWNhbEV4ZWN1dGVyLnBy
b3RvdHlwZSA9IHsKCWlkOiAiIiwKCWludGVydmFsSUQ6IDAsCgoJLy9jb25zdHJ1
Y3RvcgoJaW5pdGlhbGl6ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGZyZXF1ZW5jeV9t
cywgaWQpIHsKCQl0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7CgkJdGhpcy5mcmVx
dWVuY3kgPSBmcmVxdWVuY3lfbXM7CgkJdGhpcy5pZCA9IGlkOwoJCXRoaXMuY3Vy
cmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CgkJdGhpcy5zdGFydCgpOwoJfSwKCgkv
L3ByaXZhdGUKCW9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CgkJaWYgKCF0aGlz
LmN1cnJlbnRseUV4ZWN1dGluZykgewoJCQl0cnkgewoJCQl0aGlzLmN1cnJlbnRs
eUV4ZWN1dGluZyA9IHRydWU7CgkJCXRoaXMuY2FsbGJhY2soKTsKCQkJfSBmaW5h
bGx5IHsKCQkJdGhpcy5jdXJyZW50bHlFeGVjdXRpbmcgPSBmYWxzZTsKCQkJfQoJ
CX0KCX0sCgoJLy9wdWJsaWMgbWV0aG9kcwoJc3RhcnQ6IGZ1bmN0aW9uKCkgewoJ
CXRoaXMuaW50ZXJ2YWxJRCA9IHNldEludGVydmFsKHRoaXMub25UaW1lckV2ZW50
LmJpbmQodGhpcyksIHRoaXMuZnJlcXVlbmN5KTsKCX0sCglzdG9wOiBmdW5jdGlv
bigpIHsKCQljbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJRCk7Cgl9LAoJcGF1
c2U6IGZ1bmN0aW9uKCkgewoJCXRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gdHJ1
ZTsKCX0sCglyZXN1bWU6IGZ1bmN0aW9uKCkgewoJCXRoaXMuY3VycmVudGx5RXhl
Y3V0aW5nID0gZmFsc2U7Cgl9LAoJY2hhbmdlRnJlcXVlbmN5OiBmdW5jdGlvbihm
cmVxdWVuY3lfbXMpIHsKCQl0aGlzLnN0b3AoKTsKCQl0aGlzLmZyZXF1ZW5jeSA9
IGZyZXF1ZW5jeV9tczsKCQl0aGlzLnN0YXJ0KCk7Cgl9Cn0KCgpmdW5jdGlvbiAk
TihuYW1lKSB7CglyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUobmFt
ZSlbMF07Cn0K

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=site7.js
Content-Type: application/x-javascript; charset=ISO-8859-1; name=site7.js
Content-Location: http://www.garagegames.com/js/site7.js
Content-Transfer-Encoding: Base64

ZnVuY3Rpb24gYWRkRXZlbnQob2JqLCBldlR5cGUsIGZuKSB7CmlmIChvYmouYWRk
RXZlbnRMaXN0ZW5lcikgewpvYmouYWRkRXZlbnRMaXN0ZW5lcihldlR5cGUsIGZu
LCB0cnVlKTtyZXR1cm4gdHJ1ZTt9IGVsc2UgaWYgKG9iai5hdHRhY2hFdmVudCkg
ewp2YXIgciA9IG9iai5hdHRhY2hFdmVudCgib24iK2V2VHlwZSwgZm4pO3JldHVy
biByO30gZWxzZSB7CnJldHVybiBmYWxzZTt9Cn0KZnVuY3Rpb24gZ2V0X2Nvb2tp
ZShOYW1lKQp7CnZhciBzZWFyY2ggPSBOYW1lICsgIj0iCnZhciByZXR1cm52YWx1
ZSA9ICIiO2lmIChkb2N1bWVudC5jb29raWUubGVuZ3RoID4gMCkKewpvZmZzZXQg
PSBkb2N1bWVudC5jb29raWUuaW5kZXhPZihzZWFyY2gpCmlmIChvZmZzZXQgIT0g
LTEpCnsKb2Zmc2V0ICs9IHNlYXJjaC5sZW5ndGgKZW5kID0gZG9jdW1lbnQuY29v
a2llLmluZGV4T2YoIjsiLCBvZmZzZXQpO2lmIChlbmQgPT0gLTEpIGVuZCA9IGRv
Y3VtZW50LmNvb2tpZS5sZW5ndGg7cmV0dXJudmFsdWU9dW5lc2NhcGUoZG9jdW1l
bnQuY29va2llLnN1YnN0cmluZyhvZmZzZXQsIGVuZCkpCn0KfQpyZXR1cm4gcmV0
dXJudmFsdWU7fQpmdW5jdGlvbiBHZXRFbGVtZW50c1dpdGhDbGFzc05hbWUoZWxl
bWVudE5hbWUsY2xhc3NOYW1lKQp7CnZhciBhbGxFbGVtZW50cyA9IGRvY3VtZW50
LmdldEVsZW1lbnRzQnlUYWdOYW1lKGVsZW1lbnROYW1lKTt2YXIgZWxlbUNvbGwg
PSBuZXcgQXJyYXkoKTtmb3IgKGkgPSAwO2k8IGFsbEVsZW1lbnRzLmxlbmd0aDtp
KyspIHsKaWYgKGlzQ2xhc3MoYWxsRWxlbWVudHNbaV0sIGNsYXNzTmFtZSkpIHsK
ZWxlbUNvbGxbZWxlbUNvbGwubGVuZ3RoXSA9IGFsbEVsZW1lbnRzW2ldO30KfQpy
ZXR1cm4gZWxlbUNvbGw7fQpmdW5jdGlvbiBpc0NsYXNzKG9iamVjdCwgY2xhc3NO
YW1lKQp7CnJldHVybiAob2JqZWN0LmNsYXNzTmFtZS5zZWFyY2goJyhefFxccykn
ICsgY2xhc3NOYW1lICsgJyhcXHN8JCknKSAhPSAtMSk7fQpmdW5jdGlvbiBHZXRF
bGVtZW50c1dpdGhDbGFzc05hbWUoZWxlbWVudE5hbWUsY2xhc3NOYW1lKQp7CnZh
ciBhbGxFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKGVs
ZW1lbnROYW1lKTt2YXIgZWxlbUNvbGwgPSBuZXcgQXJyYXkoKTtmb3IgKGkgPSAw
O2k8IGFsbEVsZW1lbnRzLmxlbmd0aDtpKyspIHsKaWYgKGlzQ2xhc3MoYWxsRWxl
bWVudHNbaV0sIGNsYXNzTmFtZSkpIHsKZWxlbUNvbGxbZWxlbUNvbGwubGVuZ3Ro
XSA9IGFsbEVsZW1lbnRzW2ldO30KfQpyZXR1cm4gZWxlbUNvbGw7fQpmdW5jdGlv
biBzZkhvdmVyKCkgewp2YXIgc2ZFbHMgPSAkJCgnI25hdiBsaScpO2ZvciAodmFy
IGk9MDtpPHNmRWxzLmxlbmd0aDtpKyspIHsKc2ZFbHNbaV0ub25tb3VzZW92ZXIg
PSBmdW5jdGlvbigpIHsKdGhpcy5jbGFzc05hbWUrPSIgc2Zob3ZlciI7fTtzZkVs
c1tpXS5vbm1vdXNlb3V0ID0gZnVuY3Rpb24oKSB7CnRoaXMuY2xhc3NOYW1lPXRo
aXMuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgiICpzZmhvdmVyIiksICIi
KTt9O30KfQpFdmVudC5vYnNlcnZlKHdpbmRvdywgJ2xvYWQnLCBzZkhvdmVyLCBm
YWxzZSk7ZnVuY3Rpb24gb3BlbklSQyh3LCBoKSB7CmlyY193ID0gdy04MDtpcmNf
aCA9IGgtMTQwO3RoaXMub3BlbigiL2hlbHAvaGVscC5waHA/cGFnZT1pcmNDaGF0
Jnc9IitpcmNfdysiJmg9IitpcmNfaCwgIklyY1dpbmRvdyIsICJ0b29sYmFyPW5v
LG1lbnViYXI9bm8sbG9jYXRpb249bm8sc2Nyb2xsYmFycz15ZXMscmVzaXphYmxl
PXllcyx3aWR0aD0iK3crIixoZWlnaHQ9IitoKTt9CmZ1bmN0aW9uIG9wZW5TbGlk
ZVNob3codXJsLCB3LCBoKSB7CnRoaXMub3Blbih1cmwsICJwaWNXaW5kb3ciLCAi
ZGVwZW5kZW50PXllcyx0b29sYmFyPXllcyxsb2NhdGlvbj15ZXMsc2Nyb2xsYmFy
cz15ZXMscmVzaXphYmxlPXllcyx3aWR0aD0iK3crIixoZWlnaHQ9IitoKTt9Ckhl
bHBXaW4gPSAtMTtmdW5jdGlvbiBvcGVuSGVscCh1cmwsIHcsIGgpIHsKSGVscFdp
biA9IHRoaXMub3Blbih1cmwsICJBbHRXaW5kb3ciLCAidG9vbGJhcj1ubyxtZW51
YmFyPW5vLGxvY2F0aW9uPW5vLHNjcm9sbGJhcnM9eWVzLHJlc2l6YWJsZT15ZXMs
d2lkdGg9Iit3KyIsaGVpZ2h0PSIraCk7aWYgKCFIZWxwV2luLm9wZW5lcikgSGVs
cFdpbi5vcGVuZXIgPSBzZWxmO30KZnVuY3Rpb24gY2xvc2VIZWxwKCkgewppZiAo
SGVscFdpbiAhPSAtMSAmJiBIZWxwV2luLm9wZW4pIEhlbHBXaW4uY2xvc2UoKTt9
ZnVuY3Rpb24gYWN0aXZhdGVMaW5rVGFiKG9iaikKewp2YXIgZ3JvdXAgPSAkJCgi
ZGl2LnRhYmdyb3VwIilbb2JqLmdldEF0dHJpYnV0ZSgnZ3JvdXAnKV07dmFyIHRh
YnMgPSBvYmoucGFyZW50Tm9kZS5maXJzdENoaWxkO3doaWxlICh0YWJzKQp7CnRh
YnMuY2xhc3NOYW1lID0gJ29mZic7dGFicyA9IHRhYnMubmV4dFNpYmxpbmc7fQpv
YmouY2xhc3NOYW1lID0gJ29uJztncm91cC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVk
Jywgb2JqLmdldEF0dHJpYnV0ZSgndGFiJykpO30KZnVuY3Rpb24gYWN0aXZhdGVP
dmVybGF5VGFiKG9iaikKewp2YXIgZ3JvdXAgPSAkJCgiZGl2LnRhYmdyb3VwIilb
b2JqLmdldEF0dHJpYnV0ZSgnZ3JvdXAnKV07dmFyIHRhYiA9IGdyb3VwLmdldEVs
ZW1lbnRzQnlUYWdOYW1lKCJESVYiKVtvYmouZ2V0QXR0cmlidXRlKCd0YWInKV07
dmFyIGRpdnMgPSBncm91cC5maXJzdENoaWxkO3doaWxlIChkaXZzKQp7CmlmIChk
aXZzLm5vZGVOYW1lID09ICJESVYiKQpkaXZzLnN0eWxlLmRpc3BsYXkgPSAnbm9u
ZSc7ZGl2cyA9IGRpdnMubmV4dFNpYmxpbmc7fQp0YWIuc3R5bGUuZGlzcGxheSA9
ICdibG9jayc7dmFyIHRhYnMgPSBvYmoucGFyZW50Tm9kZS5maXJzdENoaWxkO3do
aWxlICh0YWJzKQp7CnRhYnMuY2xhc3NOYW1lID0gJ29mZic7dGFicyA9IHRhYnMu
bmV4dFNpYmxpbmc7fQpvYmouY2xhc3NOYW1lID0gJ29uJztncm91cC5zZXRBdHRy
aWJ1dGUoJ3NlbGVjdGVkJywgb2JqLmdldEF0dHJpYnV0ZSgndGFiJykpO30KZnVu
Y3Rpb24gcHJvY2Vzc1RhYkdyb3VwcygpCnsKcmVzdG9yZVRhYlN0YXRlKCk7dmFy
IGdyb3VwID0gJCQoImRpdi50YWJncm91cCIpO2Zvcih2YXIgaT0wO2kgPCBncm91
cC5sZW5ndGg7aSsrKQp7CnZhciB1bCA9IGdyb3VwW2ldLmZpcnN0Q2hpbGQ7d2hp
bGUgKHVsICYmIHVsLm5vZGVOYW1lICE9ICJVTCIpCnVsID0gdWwubmV4dFNpYmxp
bmc7aWYgKHVsKQp7CnZhciBzZWxlY3RlZCA9IGdyb3VwW2ldLmdldEF0dHJpYnV0
ZSgnc2VsZWN0ZWQnKSA/IGdyb3VwW2ldLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQn
KSA6IDA7dmFyIHR5cGUgICAgID0gZ3JvdXBbaV0uZ2V0QXR0cmlidXRlKCd0eXBl
JykgPyBncm91cFtpXS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA6ICdvdmVybGF5Jzt2
YXIgdGFiID0gMDtmb3IodmFyIGo9MDtqIDwgdWwuY2hpbGROb2Rlcy5sZW5ndGg7
aisrKQp7CmlmICh1bC5jaGlsZE5vZGVzW2pdLm5vZGVOYW1lID09ICJMSSIpCnsK
dWwuY2hpbGROb2Rlc1tqXS5zZXRBdHRyaWJ1dGUoJ2dyb3VwJywgaSk7dWwuY2hp
bGROb2Rlc1tqXS5zZXRBdHRyaWJ1dGUoJ3RhYicsIHRhYik7aWYgKHR5cGUgPT0g
Im92ZXJsYXkiKQp1bC5jaGlsZE5vZGVzW2pdLm9uY2xpY2sgPSBmdW5jdGlvbigp
IHsgYWN0aXZhdGVPdmVybGF5VGFiKHRoaXMpIH07ZWxzZQp1bC5jaGlsZE5vZGVz
W2pdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsgYWN0aXZhdGVMaW5rVGFiKHRoaXMp
IH07dWwuY2hpbGROb2Rlc1tqXS5vbm1vdXNlb3ZlciA9IGZ1bmN0aW9uKCkgewp0
aGlzLmNsYXNzTmFtZSs9IiBvdmVyIjt9O3VsLmNoaWxkTm9kZXNbal0ub25tb3Vz
ZW91dCA9IGZ1bmN0aW9uKCkgewp0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFt
ZS5yZXBsYWNlKG5ldyBSZWdFeHAoIiAqb3ZlciIpLCAiIik7fTtpZiAodGFiID09
IHNlbGVjdGVkKQp7CmlmICh0eXBlID09ICJvdmVybGF5IikKYWN0aXZhdGVPdmVy
bGF5VGFiKHVsLmNoaWxkTm9kZXNbal0pO2Vsc2UKYWN0aXZhdGVMaW5rVGFiKHVs
LmNoaWxkTm9kZXNbal0pO30KdGFiKys7fQp9Cn0KfQp9CmZ1bmN0aW9uIHNhdmVU
YWJTdGF0ZSgpCnsKdmFyIGRhdGEgPSBuZXcgQXJyYXk7dmFyIGdyb3VwID0gJCQo
ImRpdi50YWJncm91cCIpO3ZhciBzYXZlID0gZmFsc2U7Zm9yKHZhciBpPTA7aSA8
IGdyb3VwLmxlbmd0aDtpKyspCnsKc2F2ZSB8PSAoZ3JvdXBbaV0uZ2V0QXR0cmli
dXRlKCd0eXBlJykgPT0gJ292ZXJsYXknKTtkYXRhW2ldID0gZ3JvdXBbaV0uZ2V0
QXR0cmlidXRlKCdzZWxlY3RlZCcpO30KaWYgKHNhdmUpCnsKdmFyIGNvb2tpZW5h
bWU9d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO2RvY3VtZW50LmNvb2tpZT1jb29r
aWVuYW1lKyI9IitkYXRhLmpvaW4oKTt9Cn0KZnVuY3Rpb24gcmVzdG9yZVRhYlN0
YXRlKCkKewp2YXIgbG9jID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIr
d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lK3dpbmRvdy5sb2NhdGlvbi5wYXRobmFt
ZTt2YXIgc3RhdGUgPSBnZXRfY29va2llKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFt
ZSk7c3RhdGUgPSBzdGF0ZS5zcGxpdCgiLCIpO3ZhciBncm91cCA9ICQkKCJkaXYu
dGFiZ3JvdXAiKTtmb3IodmFyIGk9MDtpIDwgZ3JvdXAubGVuZ3RoO2krKykKewpp
ZiAoZ3JvdXBbaV0uZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ292ZXJsYXknKQp7
CmlmIChzdGF0ZVtpXSkKZ3JvdXBbaV0uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcs
IHN0YXRlW2ldKTtlbHNlCmdyb3VwW2ldLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQn
LCAwKTt9CmVsc2UKewp2YXIgdWwgPSBncm91cFtpXS5nZXRFbGVtZW50c0J5VGFn
TmFtZSgiVUwiKVswXTt2YXIgbGkgPSB1bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgi
TEkiKTtncm91cFtpXS5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgMCk7Zm9yKHZh
ciBqPTA7aiA8IGxpLmxlbmd0aDtqKyspCnsKdmFyIGEgPSBsaVtqXS5nZXRFbGVt
ZW50c0J5VGFnTmFtZSgiQSIpWzBdO3ZhciBwYXRobmFtZSA9IChhLnBhdGhuYW1l
LmNoYXJBdCgwKSAhPSAiLyIpID8gJy8nK2EucGF0aG5hbWUgOiBhLnBhdGhuYW1l
O2lmIChwYXRobmFtZSA9PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpCnsKZ3Jv
dXBbaV0uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsIGopO30KfQp9Cn0KfQpFdmVu
dC5vYnNlcnZlKHdpbmRvdywgImxvYWQiLCBwcm9jZXNzVGFiR3JvdXBzLCB0cnVl
KTtFdmVudC5vYnNlcnZlKHdpbmRvdywgInVubG9hZCIsIHNhdmVUYWJTdGF0ZSwg
dHJ1ZSk7

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=urchin.js
Content-Type: text/javascript; name=urchin.js
Content-Location: http://www.google-analytics.com/urchin.js
Content-Transfer-Encoding: 8bit

//-- Google Analytics Urchin Module
//-- Copyright 2007 Google, All Rights Reserved.

//-- Urchin On Demand Settings ONLY
var _uacct="";			// set up the Urchin Account
var _userv=1;			// service mode (0=local,1=remote,2=both)

//-- UTM User Settings
var _ufsc=1;			// set client info flag (1=on|0=off)
var _udn="auto";		// (auto|none|domain) set the domain name for cookies
var _uhash="on";		// (on|off) unique domain hash for cookies
var _utimeout="1800";   	// set the inactive session timeout in seconds
var _ugifpath="/__utm.gif";	// set the web path to the __utm.gif file
var _utsp="|";			// transaction field separator
var _uflash=1;			// set flash version detect option (1=on|0=off)
var _utitle=1;			// set the document title detect option (1=on|0=off)
var _ulink=0;			// enable linker functionality (1=on|0=off)
var _uanchor=0;			// enable use of anchors for campaign (1=on|0=off)
var _utcp="/";			// the cookie path for tracking
var _usample=100;		// The sampling % of visitors to track (1-100).

//-- UTM Campaign Tracking Settings
var _uctm=1;			// set campaign tracking module (1=on|0=off)
var _ucto="15768000";		// set timeout in seconds (6 month default)
var _uccn="utm_campaign";	// name
var _ucmd="utm_medium";		// medium (cpc|cpm|link|email|organic)
var _ucsr="utm_source";		// source
var _uctr="utm_term";		// term/keyword
var _ucct="utm_content";	// content
var _ucid="utm_id";		// id number
var _ucno="utm_nooverride";	// don't override

//-- Auto/Organic Sources and Keywords
var _uOsr=new Array();
var _uOkw=new Array();
_uOsr[0]="google";	_uOkw[0]="q";
_uOsr[1]="yahoo";	_uOkw[1]="p";
_uOsr[2]="msn";		_uOkw[2]="q";
_uOsr[3]="aol";		_uOkw[3]="query";
_uOsr[4]="aol";		_uOkw[4]="encquery";
_uOsr[5]="lycos";	_uOkw[5]="query";
_uOsr[6]="ask";		_uOkw[6]="q";
_uOsr[7]="altavista";	_uOkw[7]="q";
_uOsr[8]="netscape";	_uOkw[8]="query";
_uOsr[9]="cnn";	_uOkw[9]="query";
_uOsr[10]="looksmart";	_uOkw[10]="qt";
_uOsr[11]="about";	_uOkw[11]="terms";
_uOsr[12]="mamma";	_uOkw[12]="query";
_uOsr[13]="alltheweb";	_uOkw[13]="q";
_uOsr[14]="gigablast";	_uOkw[14]="q";
_uOsr[15]="voila";	_uOkw[15]="rdata";
_uOsr[16]="virgilio";	_uOkw[16]="qs";
_uOsr[17]="live";	_uOkw[17]="q";
_uOsr[18]="baidu";	_uOkw[18]="wd";
_uOsr[19]="alice";	_uOkw[19]="qs";
_uOsr[20]="yandex";	_uOkw[20]="text";
_uOsr[21]="najdi";	_uOkw[21]="q";
_uOsr[22]="aol";	_uOkw[22]="q";
_uOsr[23]="club-internet"; _uOkw[23]="query";
_uOsr[24]="mama";	_uOkw[24]="query";
_uOsr[25]="seznam";	_uOkw[25]="q";
_uOsr[26]="search";	_uOkw[26]="q";
_uOsr[27]="wp";	_uOkw[27]="szukaj";
_uOsr[28]="onet";	_uOkw[28]="qt";
_uOsr[29]="netsprint";	_uOkw[29]="q";
_uOsr[30]="google.interia";	_uOkw[30]="q";
_uOsr[31]="szukacz";	_uOkw[31]="q";
_uOsr[32]="yam";	_uOkw[32]="k";
_uOsr[33]="pchome";	_uOkw[33]="q";
_uOsr[34]="kvasir";	_uOkw[34]="searchExpr";
_uOsr[35]="sesam";	_uOkw[35]="q";
_uOsr[36]="ozu"; _uOkw[36]="q";
_uOsr[37]="terra"; _uOkw[37]="query";
_uOsr[38]="nostrum"; _uOkw[38]="query";
_uOsr[39]="mynet"; _uOkw[39]="q";
_uOsr[40]="ekolay"; _uOkw[40]="q";
_uOsr[41]="search.ilse"; _uOkw[41]="search_for";

//-- Auto/Organic Keywords to Ignore
var _uOno=new Array();
//_uOno[0]="urchin";
//_uOno[1]="urchin.com";
//_uOno[2]="www.urchin.com";

//-- Referral domains to Ignore
var _uRno=new Array();
//_uRno[0]=".urchin.com";

//-- **** Don't modify below this point ***
var _uff,_udh,_udt,_ubl=0,_udo="",_uu,_ufns=0,_uns=0,_ur="-",_ufno=0,_ust=0,_ubd=document,_udl=_ubd.location,_udlh="",_uwv="1.3";
var _ugifpath2="http://www.google-analytics.com/__utm.gif";
if (_udl.hash) _udlh=_udl.href.substring(_udl.href.indexOf('#'));
if (_udl.protocol=="https:") _ugifpath2="https://ssl.google-analytics.com/__utm.gif";
if (!_utcp || _utcp=="") _utcp="/";
function urchinTracker(page) {
 if (_udl.protocol=="file:") return;
 if (_uff && (!page || page=="")) return;
 var a,b,c,xx,v,z,k,x="",s="",f=0,nv=0;
 var nx=" expires="+_uNx()+";";
 var dc=_ubd.cookie;
 _udh=_uDomain();
 if (!_uVG()) return;
 _uu=Math.round(Math.random()*2147483647);
 _udt=new Date();
 _ust=Math.round(_udt.getTime()/1000);
 a=dc.indexOf("__utma="+_udh+".");
 b=dc.indexOf("__utmb="+_udh);
 c=dc.indexOf("__utmc="+_udh);
 if (_udn && _udn!="") { _udo=" domain="+_udn+";"; }
 if (_utimeout && _utimeout!="") {
  x=new Date(_udt.getTime()+(_utimeout*1000));
  x=" expires="+x.toGMTString()+";";
 }
 if (_ulink) {
  if (_uanchor && _udlh && _udlh!="") s=_udlh+"&";
  s+=_udl.search;
  if(s && s!="" && s.indexOf("__utma=")>=0) {
   if (!(_uIN(a=_uGC(s,"__utma=","&")))) a="-";
   if (!(_uIN(b=_uGC(s,"__utmb=","&")))) b="-";
   if (!(_uIN(c=_uGC(s,"__utmc=","&")))) c="-";
   v=_uGC(s,"__utmv=","&");
   z=_uGC(s,"__utmz=","&");
   k=_uGC(s,"__utmk=","&");
   xx=_uGC(s,"__utmx=","&");
   if ((k*1) != ((_uHash(a+b+c+xx+z+v)*1)+(_udh*1))) {_ubl=1;a="-";b="-";c="-";xx="-";z="-";v="-";}
   if (a!="-" && b!="-" && c!="-") f=1;
   else if(a!="-") f=2;
  }
 }
 if(f==1) {
  _ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;
  _ubd.cookie="__utmb="+b+"; path="+_utcp+";"+x+_udo;
  _ubd.cookie="__utmc="+c+"; path="+_utcp+";"+_udo;
 } else if (f==2) {
  a=_uFixA(s,"&",_ust);
  _ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;
  _ubd.cookie="__utmb="+_udh+"; path="+_utcp+";"+x+_udo;
  _ubd.cookie="__utmc="+_udh+"; path="+_utcp+";"+_udo;
  _ufns=1;
 } else if (a>=0 && b>=0 && c>=0) {
   b = _uGC(dc,"__utmb="+_udh,";");
   b = ("-" == b) ? _udh : b;  
  _ubd.cookie="__utmb="+b+"; path="+_utcp+";"+x+_udo;
 } else {
  if (a>=0) a=_uFixA(_ubd.cookie,";",_ust);
  else {
   a=_udh+"."+_uu+"."+_ust+"."+_ust+"."+_ust+".1";
   nv=1;
  }
  _ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;
  _ubd.cookie="__utmb="+_udh+"; path="+_utcp+";"+x+_udo;
  _ubd.cookie="__utmc="+_udh+"; path="+_utcp+";"+_udo;
  _ufns=1;
 }
 if (_ulink && xx && xx!="" && xx!="-") {
   xx=_uUES(xx);
   if (xx.indexOf(";")==-1) _ubd.cookie="__utmx="+xx+"; path="+_utcp+";"+nx+_udo;
 }
 if (_ulink && v && v!="" && v!="-") {
  v=_uUES(v);
  if (v.indexOf(";")==-1) _ubd.cookie="__utmv="+v+"; path="+_utcp+";"+nx+_udo;
 }
 var wc=window;
 var c=_ubd.cookie;
 if(wc && wc.gaGlobal && wc.gaGlobal.dh==_udh){
  var g=wc.gaGlobal;
  var ua=c.split("__utma="+_udh+".")[1].split(";")[0].split(".");
  if(g.sid)ua[3]=g.sid;
  if(nv>0){
   ua[2]=ua[3];
   if(g.vid){
    var v=g.vid.split(".");
    ua[0]=v[0];
    ua[1]=v[1];
   }
  }
  _ubd.cookie="__utma="+_udh+"."+ua.join(".")+"; path="+_utcp+";"+nx+_udo;
 }
 _uInfo(page);
 _ufns=0;
 _ufno=0;
 if (!page || page=="") _uff=1;
}
function _uGH() {
 var hid;
 var wc=window;
 if (wc && wc.gaGlobal && wc.gaGlobal.hid) {
  hid=wc.gaGlobal.hid;
 } else {
  hid=Math.round(Math.random()*0x7fffffff);
  if (!wc.gaGlobal) wc.gaGlobal={};
  wc.gaGlobal.hid=hid;
 }
 return hid;
}
function _uInfo(page) {
 var p,s="",dm="",pg=_udl.pathname+_udl.search;
 if (page && page!="") pg=_uES(page,1);
 _ur=_ubd.referrer;
 if (!_ur || _ur=="") { _ur="-"; }
 else {
  dm=_ubd.domain;
  if(_utcp && _utcp!="/") dm+=_utcp;
  p=_ur.indexOf(dm);
  if ((p>=0) && (p<=8)) { _ur="0"; }
  if (_ur.indexOf("[")==0 && _ur.lastIndexOf("]")==(_ur.length-1)) { _ur="-"; }
 }
 s+="&utmn="+_uu;
 if (_ufsc) s+=_uBInfo();
 if (_uctm) s+=_uCInfo();
 if (_utitle && _ubd.title && _ubd.title!="") s+="&utmdt="+_uES(_ubd.title);
 if (_udl.hostname && _udl.hostname!="") s+="&utmhn="+_uES(_udl.hostname);
 if (_usample && _usample != 100) s+="&utmsp="+_uES(_usample);
 s+="&utmhid="+_uGH();
 s+="&utmr="+_ur;
 s+="&utmp="+pg;
 if ((_userv==0 || _userv==2) && _uSP()) {
  var i=new Image(1,1);
  i.src=_ugifpath+"?"+"utmwv="+_uwv+s;
  i.onload=function() { _uVoid(); }
 }
 if ((_userv==1 || _userv==2) && _uSP()) {
  var i2=new Image(1,1);
  i2.src=_ugifpath2+"?"+"utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+_uGCS();
  i2.onload=function() { _uVoid(); }
 }
 return;
}
function _uVoid() { return; }
function _uCInfo() {
 if (!_ucto || _ucto=="") { _ucto="15768000"; }
 if (!_uVG()) return;
 var c="",t="-",t2="-",t3="-",o=0,cs=0,cn=0,i=0,z="-",s="";
 if (_uanchor && _udlh && _udlh!="") s=_udlh+"&";
 s+=_udl.search;
 var x=new Date(_udt.getTime()+(_ucto*1000));
 var dc=_ubd.cookie;
 x=" expires="+x.toGMTString()+";";
 if (_ulink && !_ubl) {
  z=_uUES(_uGC(s,"__utmz=","&"));
  if (z!="-" && z.indexOf(";")==-1) { _ubd.cookie="__utmz="+z+"; path="+_utcp+";"+x+_udo; return ""; }
 }
 z=dc.indexOf("__utmz="+_udh+".");
 if (z>-1) { z=_uGC(dc,"__utmz="+_udh+".",";"); }
 else { z="-"; }
 t=_uGC(s,_ucid+"=","&");
 t2=_uGC(s,_ucsr+"=","&");
 t3=_uGC(s,"gclid=","&");
 if ((t!="-" && t!="") || (t2!="-" && t2!="") || (t3!="-" && t3!="")) {
  if (t!="-" && t!="") c+="utmcid="+_uEC(t);
  if (t2!="-" && t2!="") { if (c != "") c+="|"; c+="utmcsr="+_uEC(t2); }
  if (t3!="-" && t3!="") { if (c != "") c+="|"; c+="utmgclid="+_uEC(t3); }
  t=_uGC(s,_uccn+"=","&");
  if (t!="-" && t!="") c+="|utmccn="+_uEC(t);
  else c+="|utmccn=(not+set)";
  t=_uGC(s,_ucmd+"=","&");
  if (t!="-" && t!="") c+="|utmcmd="+_uEC(t);
  else  c+="|utmcmd=(not+set)";
  t=_uGC(s,_uctr+"=","&");
  if (t!="-" && t!="") c+="|utmctr="+_uEC(t);
  else { t=_uOrg(1); if (t!="-" && t!="") c+="|utmctr="+_uEC(t); }
  t=_uGC(s,_ucct+"=","&");
  if (t!="-" && t!="") c+="|utmcct="+_uEC(t);
  t=_uGC(s,_ucno+"=","&");
  if (t=="1") o=1;
  if (z!="-" && o==1) return "";
 }
 if (c=="-" || c=="") { c=_uOrg(); if (z!="-" && _ufno==1)  return ""; }
 if (c=="-" || c=="") { if (_ufns==1)  c=_uRef(); if (z!="-" && _ufno==1)  return ""; }
 if (c=="-" || c=="") {
  if (z=="-" && _ufns==1) { c="utmccn=(direct)|utmcsr=(direct)|utmcmd=(none)"; }
  if (c=="-" || c=="") return "";
 }
 if (z!="-") {
  i=z.indexOf(".");
  if (i>-1) i=z.indexOf(".",i+1);
  if (i>-1) i=z.indexOf(".",i+1);
  if (i>-1) i=z.indexOf(".",i+1);
  t=z.substring(i+1,z.length);
  if (t.toLowerCase()==c.toLowerCase()) cs=1;
  t=z.substring(0,i);
  if ((i=t.lastIndexOf(".")) > -1) {
   t=t.substring(i+1,t.length);
   cn=(t*1);
  }
 }
 if (cs==0 || _ufns==1) {
  t=_uGC(dc,"__utma="+_udh+".",";");
  if ((i=t.lastIndexOf(".")) > 9) {
   _uns=t.substring(i+1,t.length);
   _uns=(_uns*1);
  }
  cn++;
  if (_uns==0) _uns=1;
  _ubd.cookie="__utmz="+_udh+"."+_ust+"."+_uns+"."+cn+"."+c+"; path="+_utcp+"; "+x+_udo;
 }
 if (cs==0 || _ufns==1) return "&utmcn=1";
 else return "&utmcr=1";
}
function _uRef() {
 if (_ur=="0" || _ur=="" || _ur=="-") return "";
 var i=0,h,k,n;
 if ((i=_ur.indexOf("://"))<0 || _uGCse()) return "";
 h=_ur.substring(i+3,_ur.length);
 if (h.indexOf("/") > -1) {
  k=h.substring(h.indexOf("/"),h.length);
  if (k.indexOf("?") > -1) k=k.substring(0,k.indexOf("?"));
  h=h.substring(0,h.indexOf("/"));
 }
 h=h.toLowerCase();
 n=h;
 if ((i=n.indexOf(":")) > -1) n=n.substring(0,i);
 for (var ii=0;ii<_uRno.length;ii++) {
  if ((i=n.indexOf(_uRno[ii].toLowerCase())) > -1 && n.length==(i+_uRno[ii].length)) { _ufno=1; break; }
 }
 if (h.indexOf("www.")==0) h=h.substring(4,h.length);
 return "utmccn=(referral)|utmcsr="+_uEC(h)+"|"+"utmcct="+_uEC(k)+"|utmcmd=referral";
}
function _uOrg(t) {
 if (_ur=="0" || _ur=="" || _ur=="-") return "";
 var i=0,h,k;
 if ((i=_ur.indexOf("://"))<0 || _uGCse()) return "";
 h=_ur.substring(i+3,_ur.length);
 if (h.indexOf("/") > -1) {
  h=h.substring(0,h.indexOf("/"));
 }
 for (var ii=0;ii<_uOsr.length;ii++) {
  if (h.toLowerCase().indexOf(_uOsr[ii].toLowerCase()) > -1) {
   if ((i=_ur.indexOf("?"+_uOkw[ii]+"=")) > -1 || (i=_ur.indexOf("&"+_uOkw[ii]+"=")) > -1) {
    k=_ur.substring(i+_uOkw[ii].length+2,_ur.length);
    if ((i=k.indexOf("&")) > -1) k=k.substring(0,i);
    for (var yy=0;yy<_uOno.length;yy++) {
     if (_uOno[yy].toLowerCase()==k.toLowerCase()) { _ufno=1; break; }
    }
    if (t) return _uEC(k);
    else return "utmccn=(organic)|utmcsr="+_uEC(_uOsr[ii])+"|"+"utmctr="+_uEC(k)+"|utmcmd=organic";
   }
  }
 }
 return "";
}
function _uGCse() {
 var h,p;
 h=p=_ur.split("://")[1];
 if(h.indexOf("/")>-1) {
  h=h.split("/")[0];
  p=p.substring(p.indexOf("/")+1,p.length);
 }
 if(p.indexOf("?")>-1) {
  p=p.split("?")[0];
 }
 if(h.toLowerCase().indexOf("google")>-1) {
  if(_ur.indexOf("?q=")>-1 || _ur.indexOf("&q=")>-1) {
   if (p.toLowerCase().indexOf("cse")>-1) {
    return true;
   }
  }
 }
}
function _uBInfo() {
 var sr="-",sc="-",ul="-",fl="-",cs="-",je=1;
 var n=navigator;
 if (self.screen) {
  sr=screen.width+"x"+screen.height;
  sc=screen.colorDepth+"-bit";
 } else if (self.java) {
  var j=java.awt.Toolkit.getDefaultToolkit();
  var s=j.getScreenSize();
  sr=s.width+"x"+s.height;
 }
 if (n.language) { ul=n.language.toLowerCase(); }
 else if (n.browserLanguage) { ul=n.browserLanguage.toLowerCase(); }
 je=n.javaEnabled()?1:0;
 if (_uflash) fl=_uFlash();
 if (_ubd.characterSet) cs=_uES(_ubd.characterSet);
 else if (_ubd.charset) cs=_uES(_ubd.charset);
 return "&utmcs="+cs+"&utmsr="+sr+"&utmsc="+sc+"&utmul="+ul+"&utmje="+je+"&utmfl="+fl;
}
function __utmSetTrans() {
 var e;
 if (_ubd.getElementById) e=_ubd.getElementById("utmtrans");
 else if (_ubd.utmform && _ubd.utmform.utmtrans) e=_ubd.utmform.utmtrans;
 if (!e) return;
 var l=e.value.split("UTM:");
 var i,i2,c;
 if (_userv==0 || _userv==2) i=new Array();
 if (_userv==1 || _userv==2) { i2=new Array(); c=_uGCS(); }

 for (var ii=0;ii<l.length;ii++) {
  l[ii]=_uTrim(l[ii]);
  if (l[ii].charAt(0)!='T' && l[ii].charAt(0)!='I') continue;
  var r=Math.round(Math.random()*2147483647);
  if (!_utsp || _utsp=="") _utsp="|";
  var f=l[ii].split(_utsp),s="";
  if (f[0].charAt(0)=='T') {
   s="&utmt=tran"+"&utmn="+r;
   f[1]=_uTrim(f[1]); if(f[1]&&f[1]!="") s+="&utmtid="+_uES(f[1]);
   f[2]=_uTrim(f[2]); if(f[2]&&f[2]!="") s+="&utmtst="+_uES(f[2]);
   f[3]=_uTrim(f[3]); if(f[3]&&f[3]!="") s+="&utmtto="+_uES(f[3]);
   f[4]=_uTrim(f[4]); if(f[4]&&f[4]!="") s+="&utmttx="+_uES(f[4]);
   f[5]=_uTrim(f[5]); if(f[5]&&f[5]!="") s+="&utmtsp="+_uES(f[5]);
   f[6]=_uTrim(f[6]); if(f[6]&&f[6]!="") s+="&utmtci="+_uES(f[6]);
   f[7]=_uTrim(f[7]); if(f[7]&&f[7]!="") s+="&utmtrg="+_uES(f[7]);
   f[8]=_uTrim(f[8]); if(f[8]&&f[8]!="") s+="&utmtco="+_uES(f[8]);
  } else {
   s="&utmt=item"+"&utmn="+r;
   f[1]=_uTrim(f[1]); if(f[1]&&f[1]!="") s+="&utmtid="+_uES(f[1]);
   f[2]=_uTrim(f[2]); if(f[2]&&f[2]!="") s+="&utmipc="+_uES(f[2]);
   f[3]=_uTrim(f[3]); if(f[3]&&f[3]!="") s+="&utmipn="+_uES(f[3]);
   f[4]=_uTrim(f[4]); if(f[4]&&f[4]!="") s+="&utmiva="+_uES(f[4]);
   f[5]=_uTrim(f[5]); if(f[5]&&f[5]!="") s+="&utmipr="+_uES(f[5]);
   f[6]=_uTrim(f[6]); if(f[6]&&f[6]!="") s+="&utmiqt="+_uES(f[6]);
  }
  if (_udl.hostname && _udl.hostname!="") s+="&utmhn="+_uES(_udl.hostname);
  if (_usample && _usample != 100) s+="&utmsp="+_uES(_usample);

  if ((_userv==0 || _userv==2) && _uSP()) {
   i[ii]=new Image(1,1);
   i[ii].src=_ugifpath+"?"+"utmwv="+_uwv+s;
   i[ii].onload=function() { _uVoid(); }
  }
  if ((_userv==1 || _userv==2) && _uSP()) {
   i2[ii]=new Image(1,1);
   i2[ii].src=_ugifpath2+"?"+"utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+c;
   i2[ii].onload=function() { _uVoid(); }
  }
 }
 return;
}
function _uFlash() {
 var f="-",n=navigator;
 if (n.plugins && n.plugins.length) {
  for (var ii=0;ii<n.plugins.length;ii++) {
   if (n.plugins[ii].name.indexOf('Shockwave Flash')!=-1) {
    f=n.plugins[ii].description.split('Shockwave Flash ')[1];
    break;
   }
  }
 } else {
  var fl;
  try {
   fl = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
   f = fl.GetVariable("$version");
  } catch(e) {}
  if (f == "-") {
   try {
    fl = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");
    f = "WIN 6,0,21,0";
    fl.AllowScriptAccess = "always";
    f = fl.GetVariable("$version");
   } catch(e) {}
  }
  if (f == "-") {
   try {
    fl = new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
    f = fl.GetVariable("$version");
   } catch(e) {}
  }
  if (f != "-") {
   f = f.split(" ")[1].split(",");
   f = f[0] + "." + f[1] + " r" + f[2];
  }
 }
 return f;
}
function __utmLinkerUrl(l,h) {
 var p,k,a="-",b="-",c="-",x="-",z="-",v="-";
 var dc=_ubd.cookie;
 var iq = l.indexOf("?");
 var ih = l.indexOf("#");
 var url=l;
 if (dc) {
  a=_uES(_uGC(dc,"__utma="+_udh+".",";"));
  b=_uES(_uGC(dc,"__utmb="+_udh,";"));
  c=_uES(_uGC(dc,"__utmc="+_udh,";"));
  x=_uES(_uGC(dc,"__utmx="+_udh,";"));
  z=_uES(_uGC(dc,"__utmz="+_udh+".",";"));
  v=_uES(_uGC(dc,"__utmv="+_udh+".",";"));
  k=(_uHash(a+b+c+x+z+v)*1)+(_udh*1);
  p="__utma="+a+"&__utmb="+b+"&__utmc="+c+"&__utmx="+x+"&__utmz="+z+"&__utmv="+v+"&__utmk="+k;
 }
 if (p) {
  if (h && ih>-1) return;
  if (h) { url=l+"#"+p; }
  else {
   if (iq==-1 && ih==-1) url=l+"?"+p;
   else if (ih==-1) url=l+"&"+p;
   else if (iq==-1) url=l.substring(0,ih-1)+"?"+p+l.substring(ih);
   else url=l.substring(0,ih-1)+"&"+p+l.substring(ih);
  }
 }
 return url;
}
function __utmLinker(l,h) {
 if (!_ulink || !l || l=="") return;
 _udl.href=__utmLinkerUrl(l,h);
}
function __utmLinkPost(f,h) {
 if (!_ulink || !f || !f.action) return;
 f.action=__utmLinkerUrl(f.action, h);
 return;
}
function __utmSetVar(v) {
 if (!v || v=="") return;
 if (!_udo || _udo == "") {
  _udh=_uDomain();
  if (_udn && _udn!="") { _udo=" domain="+_udn+";"; }
 }
 if (!_uVG()) return;
 var r=Math.round(Math.random() * 2147483647);
 _ubd.cookie="__utmv="+_udh+"."+_uES(v)+"; path="+_utcp+"; expires="+_uNx()+";"+_udo;
 var s="&utmt=var&utmn="+r;
 if (_usample && _usample != 100) s+="&utmsp="+_uES(_usample);
 if ((_userv==0 || _userv==2) && _uSP()) {
  var i=new Image(1,1);
  i.src=_ugifpath+"?"+"utmwv="+_uwv+s;
  i.onload=function() { _uVoid(); }
 }
 if ((_userv==1 || _userv==2) && _uSP()) {
  var i2=new Image(1,1);
  i2.src=_ugifpath2+"?"+"utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+_uGCS();
  i2.onload=function() { _uVoid(); }
 }
}
function _uGCS() {
 var t,c="",dc=_ubd.cookie;
 if ((t=_uGC(dc,"__utma="+_udh+".",";"))!="-") c+=_uES("__utma="+t+";+");
 if ((t=_uGC(dc,"__utmx="+_udh,";"))!="-") c+=_uES("__utmx="+t+";+");
 if ((t=_uGC(dc,"__utmz="+_udh+".",";"))!="-") c+=_uES("__utmz="+t+";+");
 if ((t=_uGC(dc,"__utmv="+_udh+".",";"))!="-") c+=_uES("__utmv="+t+";");
 if (c.charAt(c.length-1)=="+") c=c.substring(0,c.length-1);
 return c;
}
function _uGC(l,n,s) {
 if (!l || l=="" || !n || n=="" || !s || s=="") return "-";
 var i,i2,i3,c="-";
 i=l.indexOf(n);
 i3=n.indexOf("=")+1;
 if (i > -1) {
  i2=l.indexOf(s,i); if (i2 < 0) { i2=l.length; }
  c=l.substring((i+i3),i2);
 }
 return c;
}
function _uDomain() {
 if (!_udn || _udn=="" || _udn=="none") { _udn=""; return 1; }
 if (_udn=="auto") {
  var d=_ubd.domain;
  if (d.substring(0,4)=="www.") {
   d=d.substring(4,d.length);
  }
  _udn=d;
 }
 _udn = _udn.toLowerCase(); 
 if (_uhash=="off") return 1;
 return _uHash(_udn);
}
function _uHash(d) {
 if (!d || d=="") return 1;
 var h=0,g=0;
 for (var i=d.length-1;i>=0;i--) {
  var c=parseInt(d.charCodeAt(i));
  h=((h << 6) & 0xfffffff) + c + (c << 14);
  if ((g=h & 0xfe00000)!=0) h=(h ^ (g >> 21));
 }
 return h;
}
function _uFixA(c,s,t) {
 if (!c || c=="" || !s || s=="" || !t || t=="") return "-";
 var a=_uGC(c,"__utma="+_udh+".",s);
 var lt=0,i=0;
 if ((i=a.lastIndexOf(".")) > 9) {
  _uns=a.substring(i+1,a.length);
  _uns=(_uns*1)+1;
  a=a.substring(0,i);
  if ((i=a.lastIndexOf(".")) > 7) {
   lt=a.substring(i+1,a.length);
   a=a.substring(0,i);
  }
  if ((i=a.lastIndexOf(".")) > 5) {
   a=a.substring(0,i);
  }
  a+="."+lt+"."+t+"."+_uns;
 }
 return a;
}
function _uTrim(s) {
  if (!s || s=="") return "";
  while ((s.charAt(0)==' ') || (s.charAt(0)=='\n') || (s.charAt(0,1)=='\r')) s=s.substring(1,s.length);
  while ((s.charAt(s.length-1)==' ') || (s.charAt(s.length-1)=='\n') || (s.charAt(s.length-1)=='\r')) s=s.substring(0,s.length-1);
  return s;
}
function _uEC(s) {
  var n="";
  if (!s || s=="") return "";
  for (var i=0;i<s.length;i++) {if (s.charAt(i)==" ") n+="+"; else n+=s.charAt(i);}
  return n;
}
function __utmVisitorCode(f) {
 var r=0,t=0,i=0,i2=0,m=31;
 var a=_uGC(_ubd.cookie,"__utma="+_udh+".",";");
 if ((i=a.indexOf(".",0))<0) return;
 if ((i2=a.indexOf(".",i+1))>0) r=a.substring(i+1,i2); else return "";  
 if ((i=a.indexOf(".",i2+1))>0) t=a.substring(i2+1,i); else return "";  
 if (f) {
  return r;
 } else {
  var c=new Array('A','B','C','D','E','F','G','H','J','K','L','M','N','P','R','S','T','U','V','W','X','Y','Z','1','2','3','4','5','6','7','8','9');
  return c[r>>28&m]+c[r>>23&m]+c[r>>18&m]+c[r>>13&m]+"-"+c[r>>8&m]+c[r>>3&m]+c[((r&7)<<2)+(t>>30&3)]+c[t>>25&m]+c[t>>20&m]+"-"+c[t>>15&m]+c[t>>10&m]+c[t>>5&m]+c[t&m];
 }
}
function _uIN(n) {
 if (!n) return false;
 for (var i=0;i<n.length;i++) {
  var c=n.charAt(i);
  if ((c<"0" || c>"9") && (c!=".")) return false;
 }
 return true;
}
function _uES(s,u) {
 if (typeof(encodeURIComponent) == 'function') {
  if (u) return encodeURI(s);
  else return encodeURIComponent(s);
 } else {
  return escape(s);
 }
}
function _uUES(s) {
 if (typeof(decodeURIComponent) == 'function') {
  return decodeURIComponent(s);
 } else {
  return unescape(s);
 }
}
function _uVG() {
 if((_udn.indexOf("www.google.") == 0 || _udn.indexOf(".google.") == 0 || _udn.indexOf("google.") == 0) && _utcp=='/' && _udn.indexOf("google.org")==-1) {
  return false;
 }
 return true;
}
function _uSP() {
 var s=100;
 if (_usample) s=_usample;
 if(s>=100 || s<=0) return true;
 return ((__utmVisitorCode(1)%10000)<(s*100));
}
function urchinPathCopy(p){
 var d=document,nx,tx,sx,i,c,cs,t,h,o;
 cs=new Array("a","b","c","v","x","z");
 h=_uDomain(); if (_udn && _udn!="") o=" domain="+_udn+";";
 nx=_uNx()+";";
 tx=new Date(); tx.setTime(tx.getTime()+(_utimeout*1000));
 tx=tx.toGMTString()+";";
 sx=new Date(); sx.setTime(sx.getTime()+(_ucto*1000));
 sx=sx.toGMTString()+";";
 for (i=0;i<6;i++){
  t=" expires=";
  if (i==1) t+=tx; else if (i==2) t=""; else if (i==5) t+=sx; else t+=nx;
  c=_uGC(d.cookie,"__utm"+cs[i]+"="+h,";");
  if (c!="-") d.cookie="__utm"+cs[i]+"="+c+"; path="+p+";"+t+o;
 }
}
function _uCO() {
 if (!_utk || _utk=="" || _utk.length<10) return;
 var d='www.google.com';
 if (_utk.charAt(0)=='!') d='analytics.corp.google.com';
 _ubd.cookie="GASO="+_utk+"; path="+_utcp+";"+_udo;
 var sc=document.createElement('script');
 sc.type='text/javascript';
 sc.id="_gasojs";
 sc.src='https://'+d+'/analytics/reporting/overlay_js?gaso='+_utk+'&'+Math.random();
 document.getElementsByTagName('head')[0].appendChild(sc);  
}
function _uGT() {
 var h=location.hash, a;
 if (h && h!="" && h.indexOf("#gaso=")==0) {
  a=_uGC(h,"gaso=","&");
 } else {
  a=_uGC(_ubd.cookie,"GASO=",";");
 }
 return a;
}
var _utk=_uGT();
if (_utk && _utk!="" && _utk.length>10 && _utk.indexOf("=")==-1) {
 if (window.addEventListener) {
  window.addEventListener('load', _uCO, false); 
 } else if (window.attachEvent) { 
  window.attachEvent('onload', _uCO);
 }
}

function _uNx() {
  return (new Date((new Date()).getTime()+63072000000)).toGMTString();
}

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=go.gif
Content-Type: image/gif; name=go.gif
Content-Location: http://www.garagegames.com/images/go.gif
Content-Transfer-Encoding: Base64

R0lGODlhFAAUALMPAGtboZmRtv7+/62lxywgWFpUbId8q9nV5+bk7BMNKE47jzsm
gsnD3fHw9r211f///yH5BAEAAA8ALAAAAAAUABQAAAS28Ekp0GFuDHfa/JKFDUFg
nIYDPhUWAEocA3DgTUcGL3wvL4EJQtcr+haEwaPheBmfvYLFpOApaNUFtpfQOBeG
xuEgWAwaDIGBRyhQtWorQAAANqoEwjZwWFwBAQw9dEgJNDx8YGSBg3UJhllza3OU
dlUJBGs9YRZlZ2lrBAkFA0Z/fVo7C48DCAUEUE+iUg8DebE9oglBEgaYuLoGHw2+
mLBsugkGCCsBBY/Q0G4rQs66bQHMHxEAOw==

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=unapproved.gif
Content-Type: image/gif; name=unapproved.gif
Content-Location: http://www.garagegames.com/images/unapproved.gif
Content-Transfer-Encoding: Base64

R0lGODlhDwAPAPcAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgAQEBMSkROTcrPz8
/PTs1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAwP8AAAD/AP//
AAAA//8A/wD//////yH5BAEAAAAALAAAAAAPAA8AAAhIAAEIHEiwoMAECBMqTDAw
AYKHECMqYHAQgcGBEyteFJgRgMONADp+3CjSIkmKHk1eLAmS5UmNLz0qmEmzZkcA
DHLq3IkSpMGAACH/C0xWaWV3UHJvMjAwADs=

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=hm_left.gif
Content-Type: image/gif; name=hm_left.gif
Content-Location: http://www.garagegames.com/images/hm_left.gif
Content-Transfer-Encoding: Base64

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

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=hm_right.gif
Content-Type: image/gif; name=hm_right.gif
Content-Location: http://www.garagegames.com/images/hm_right.gif
Content-Transfer-Encoding: Base64

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
ihrb+MY4zrGOd8zjHvv4x0AOsicCAQA7

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=cart.gif
Content-Type: image/gif; name=cart.gif
Content-Location: http://www.garagegames.com/images/cart.gif
Content-Transfer-Encoding: Base64

R0lGODlhEAAOAJEDAKurrNXV1lhYWv///yH5BAEAAAMALAAAAAAQAA4AAAI1nI8W
G+kDhHwoShCk3lkAtW2A1RgXw1yVl1jtNVpCeXQhmwTxjj1k93loRiqfZFF8LBQ0
RAEAOw==

------------sTZWzhXyREZ8dmMbW5CF2d
Content-Disposition: inline; filename=sgo.gif
Content-Type: image/gif; name=sgo.gif
Content-Location: http://www.garagegames.com/images/sgo.gif
Content-Transfer-Encoding: Base64

R0lGODlhDgAPAMZAAO2sIvCuJe+uMPGvJ/WyHvO2IfG1Nfe5F/a4JPK7JPO3N/m6
GPW9GPS4Ofe+G/y9HvXDHvrBIP3DE/fEIfXARvfJFfTII/vIFvPESPnLGffKJ/zO
BPrSCfbHU/bQKvnSIPTPP/zUEPPQUPrYFPvVRf/YP/3cQfnYZvjYbfzZYPbbZ/zW
dP7XbvjdafzbcPvfZPbed/rfa/jfefrhev/jaPbkfP/djvjlffzhkPnmfvfnhf/i
i/zmjP/oiP388/7//P//////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
/////////////////yH5BAEKADoALAAAAAAOAA8AAAeEgDo6IBWFhhUaIII6HyOO
j5Aeg5CUjyIWIZkhNCaamhoTHKIcPT4lo6ITExusGzw/pq0bEw4ZthmvsCS3Dg4X
vxc7P8MpwAkOEskSOMMuyhIICBHTEcws1NMFBQ/cDzYr3d0EAwvl5uflAQ0E6OgE
FDoCAQME9fYDAAaLGA39/v0dBAUCADs=

------------sTZWzhXyREZ8dmMbW5CF2d--
