Content-Type: multipart/related; start=<op.mhtml.1216742713177.4c62df072a5dc9c3@192.168.3.109>; boundary=----------FSMAydQEeIS4Y418adY7ve
Content-Location: http://www.garagegames.com/index.php?sec=mg&mod=resource&page=view&qid=10986
Subject: =?utf-8?Q?Code=20:=20Simple=20Melee=20System=20:.=20GarageGames?=
MIME-Version: 1.0

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=index.htm
Content-Type: text/html; charset=ISO-8859-1; name=index.htm
Content-Id: <op.mhtml.1216742713177.4c62df072a5dc9c3@192.168.3.109>
Content-Location: http://www.garagegames.com/index.php?sec=mg&mod=resource&page=view&qid=10986
Content-Transfer-Encoding: Quoted-Printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://w=
ww.w3.org/TR/html4/loose.dtd" >
<html>
<head>
<title>Code : Simple Melee System :. GarageGames</title>
<META NAME=3D"Description" CONTENT=3D"GarageGames is a game development =
community changing the way games are made and played. Tips, Resources, F=
orums, Code and Art"><META NAME=3D'published' CONTENT=3D'2006-08-17'><me=
ta http-equiv=3D"content-type" content=3D"text/html;charset=3Dutf-8" >
<link REL=3D"SHORTCUT ICON" href=3D"http://www.garagegames.com/favicon.i=
co">
<link rel=3D"alternate" title=3D"GarageGames: News Headlines" href=3D"ht=
tp://feeds.garagegames.com/garagegames/rss/news" type=3D"application/rss=
+xml" />
<link rel=3D"alternate" title=3D"GarageGames: Employee Blogs" href=3D"ht=
tp://feeds.garagegames.com/garagegames/rss/blogs/garagegames" type=3D"ap=
plication/rss+xml" />
<LINK REL=3DSTYLESHEET TYPE=3D"text/css" HREF=3D"/css/site8.css"><SCRIPT=
 language=3D"JavaScript" type=3D"text/javascript" SRC=3D"http://ads.gara=
gegames.com/adx.js"></SCRIPT><SCRIPT language=3D"JavaScript" type=3D"tex=
t/javascript" SRC=3D"/js/1501/prototype.js"></SCRIPT><SCRIPT language=3D=
"JavaScript" type=3D"text/javascript" SRC=3D"/js/1501/prototype-extensio=
ns.js"></SCRIPT><SCRIPT language=3D"JavaScript" type=3D"text/javascript"=
 SRC=3D"/js/site7.js"></SCRIPT><SCRIPT language=3D"JavaScript" type=3D"t=
ext/javascript" SRC=3D"http://www.google-analytics.com/urchin.js"></SCRI=
PT><SCRIPT language=3D"JavaScript" type=3D"text/javascript">_uacct=3D"UA=
-30217-1";urchinTracker();;	function rateit(){
		var pars =3D Form.serialize('rate')
		new Ajax.Updater(
			'myrating',
			'/mg/resource/ajax.rate.resource.php',
			{ parameters: pars }
		);
	}
	function init()
	{
		if ($('ratesubmit'))
			Event.observe('ratesubmit', 'click', rateit, false);
	}
	Event.observe(window, 'load', init);
;
	function notifyit(type, id){
		var pars =3D 'id=3D' + id + '&type=3D' + type;
		new Ajax.Request(
			"/my/home/ajax.notify.php",
			{  parameters: pars,
				onSuccess: function(t) { $('notifyimg').src =3D '/images/'+t.respons=
eText+'.gif'; }
			});
		};	function doWelcome(){
		new Ajax.Request(
			"/ajax.welcome.php",
			{  onSuccess: function(resp) {
				if (!resp.responseText) return;
				$('welcome').innerHTML=3Dresp.responseText + '- <a href=3D"/myAccoun=
t/">My Account</a> / <a href=3D"/shopping/cart.php">Cart <img src=3D"/im=
ages/cart.gif"></a> / <a href=3D"/main/login/logout.php">Logout</a>';
			}});
		}
	Event.observe(window, 'load', doWelcome, false);;function query(txt, ur=
l){if(confirm(txt))location.href=3Durl;;}</SCRIPT></head>
<body>
<div id=3D"container" >
	<div id=3D"content" >
		<table border=3D0 width=3D'100%'>
   <tr>
      <td width=3D'100%' valign=3Dtop>
      <span class=3D'headlineLarge'>Simple Melee System</span><br>      =
</td>
      <td valign=3Dcenter class=3DformBody align=3Dcenter>
         <span class=3Dtiny>Avg.&nbsp;Rating
            (of 12)         </span>
      </td>
      <td class=3DratingLarge>
         4.6      </td>
   </tr>
</table>
<table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'block=
Border'>
   <tr align=3D'left'><td>
      <span class=3D'blockTitle'>Basic Information</span><br>
      <b>Author: </b>Abydos<br><b>Submitted: </b><a href=3D/my/home/view=
.profile.php?qid=3D49233>James Thompson</a> <span class=3Dtiny>(Aug&nbsp=
;17,&nbsp;2006)</span><br><b>Categories: </b><a href=3D'/index.php?sec=3D=
mg&amp;mod=3Dresource&amp;page=3Dcategory&amp;qid=3D33'>Physics</a>, <a =
href=3D'/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Dcategory&amp;q=
id=3D127'>Example Code</a><br>   </td></tr>
</table>
<br>

<!-- Synopsis -->
<table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'block=
Border'>
   <tr align=3D'left'><td>
      <span class=3D'blockTitle'>Synopsis:</span><br>
      I know there are many resources on this, but none of them worked w=
ith the head or they were hard to integrate so I have packaged up a simp=
le melee system.   </td></tr>
</table>
<br>

   <table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'bl=
ockBorder'>
      <tr align=3D'left'><td>
         <span class=3D'blockTitle'>Keywords:</span><br>
         melee system sword fighting      </td></tr>
   </table>
   <br>
   <table width=3D'100%' cellspacing=3D'0' cellpadding=3D'2' class=3D'bl=
ockBorder'>
   <tr align=3D'left'><td>
      <span class=3D'blockTitle'>Article:</span><br>
      I know there are many resources on this, but none of them worked w=
ith the head or they were hard to integrate so I have packaged up a simp=
le melee system.<br><br>This resource includes:<br>-&gt; All necessary e=
ngine code, integrated into stock TGE 1.5.2<br>-&gt; All necessary scrip=
t, integrated into stock TGE 1.5.2<br>-&gt; All player animations<br>-&g=
t; A sword<br><br>Most of this code is from realmwars and other resource=
s, I have just integrated it into stock TGE and packaged it up.<br><br>Y=
ou need winrar or any .rar extractor to extract. I recommend you use Win=
Merge to make sure you get all the code copied.<br><br>That said, good l=
uck integrating this and good luck with your game :)<br><br>Due to files=
ize limit you can download the file from <a href=3D'http://www.niodesign=
.com/ggresources/meleesystem.rar' target=3D_blank>here</a><br><br><b>Not=
es</b><br>   -&gt; If you are using a custom slash animation, you will t=
o have an animation sequence name &quot;look&quot;.<br>   -&gt; Each mel=
ee weapon needs a &quot;damageStart&quot; node and a &quot;damageEnd&quo=
t; node embedded in the model.<br>   -&gt; Thanks to Ryan Edmar for spot=
ting my stupid error<br><br><b>Updates</b><br>   -&gt; Updated for integ=
ration with TGE 1.5.2 (thanks to James McGhee)<br>   -&gt; 10/08/07 - on=
e or two very minor updates (no reason to re-download)   </td></tr>
</table>
<br>

<a href=3D'/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Doverview'>
<img src=3D'/images/go.gif' border=3D0 hspace=3D4 alt=3D'Submit Resource=
'>Submit your own resources!</a><br>
<br>
   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62102'>Raasta</a><span cla=
ss=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;28,&nbsp;2006&nbsp;at&nbsp;19:20=
)</span>   </td></tr>
   </table>
   Looks like you are missing some resources in this - I just did a clea=
n build from the HEAD release and got the following errors..<br><br><br>=
<div class=3D'codeblock'><pre>------ Build started: Project: Torque Demo=
, Configuration: Release Win32 ------<br><br>wheeledVehicle.cc<br>..\eng=
ine\game\vehicles\wheeledVehicle.cc(408) : error C2065: 'mGenerateShadow=
' : undeclared identifier<br><br>vehicle.cc<br>..\engine\game\vehicles\v=
ehicle.cc(111) : error C2065: 'Vehicle_GenericShadowLevel' : undeclared =
identifier<br>..\engine\game\vehicles\vehicle.cc(112) : error C2065: 'Ve=
hicle_NoShadowLevel' : undeclared identifier<br><br>flyingVehicle.cc<br>=
..\engine\game\vehicles\flyingVehicle.cc(255) : error C2065: 'mGenerateS=
hadow' : undeclared identifier<br><br>tsStatic.cc<br>..\engine\game\tsSt=
atic.cc(330) : error C2065: 'StaticShape_NoShadowLevel' : undeclared ide=
ntifier<br>..\engine\game\tsStatic.cc(337) : error C2065: 'StaticShape_G=
enericShadowLevel' : undeclared identifier<br><br>staticShape.cc<br>..\e=
ngine\game\staticShape.cc(34) : error C2065: 'StaticShape_GenericShadowL=
evel' : undeclared identifier<br>..\engine\game\staticShape.cc(35) : err=
or C2065: 'StaticShape_NoShadowLevel' : undeclared identifier<br>..\engi=
ne\game\staticShape.cc(140) : error C2065: 'mShadow' : undeclared identi=
fier<br>..\engine\game\staticShape.cc(142) : error C2227: left of '-&gt;=
setMoving' must point to class/struct/union/generic type<br>        type=
 is ''unknown-type''<br>..\engine\game\staticShape.cc(145) : error C2227=
: left of '-&gt;setAnimating' must point to class/struct/union/generic t=
ype<br>        type is ''unknown-type''<br><br>shapeBase.cc<br>..\engine=
\game\shapeBase.cc(45) : fatal error C1083: Cannot open include file: 's=
ynapseGaming/contentPacks/lightingPack/sgLighting.h': No such file or di=
rectory<br><br>player.cc<br>..\engine\game\player.cc(97) : error C2065: =
'TurretObjectType' : undeclared identifier<br>..\engine\game\player.cc(2=
59) : error C2065: 'Player_GenericShadowLevel' : undeclared identifier<b=
r>..\engine\game\player.cc(260) : error C2065: 'Player_NoShadowLevel' : =
undeclared identifier<br>..\engine\game\player.cc(844) : error C2065: 'm=
GenerateShadow' : undeclared identifier<br>..\engine\game\player.cc(4260=
) : error C2065: 'mRenderShadow' : undeclared identifier<br><br>item.cc<=
br>..\engine\game\item.cc(60) : error C2065: 'Item_GenericShadowLevel' :=
 undeclared identifier<br>..\engine\game\item.cc(61) : error C2065: 'Ite=
m_NoShadowLevel' : undeclared identifier<br>..\engine\game\item.cc(1074)=
 : error C2065: 'mShadow' : undeclared identifier<br>..\engine\game\item=
.cc(1076) : error C2227: left of '-&gt;setMoving' must point to class/st=
ruct/union/generic type<br>        type is ''unknown-type''<br>..\engine=
\game\item.cc(1077) : error C2227: left of '-&gt;setAnimating' must poin=
t to class/struct/union/generic type<br>        type is ''unknown-type''=
<br><br>Torque Demo - 22 error(s), 0 warning(s)<br>=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D Build: 6 succeeded, 1 failed, 0 up-to-date, 0 skipped =3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D</pre></div><br><br>** Edit - Looking through the e=
rrors it looks like you are making 1 call to the TLK resource - sgLighti=
ng.h<br><span class=3D'forumSmallBlack'><i>Edited on Jul&nbsp;28,&nbsp;2=
006 19:23</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;28,&nbsp;2006&nbsp;at&nb=
sp;21:11)</span>   </td></tr>
   </table>
   Oh BIG woops, put the wrong files in the archive :0<br><span class=3D=
'forumSmallBlack'><i>Edited on Jul&nbsp;28,&nbsp;2006 21:12</i></span><b=
r><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D54747'>Plague</a><span cla=
ss=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;28,&nbsp;2006&nbsp;at&nbsp;21:22=
)</span>   </td></tr>
   </table>
   Is it fixed? This looks like a nice resource to implement.<br><br>   =
<table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62102'>Raasta</a><span cla=
ss=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;29,&nbsp;2006&nbsp;at&nbsp;00:34=
)</span>   </td></tr>
   </table>
   Compiles ok now, thanks.<br><br>On mission load and startup I got the=
 following error.<br><br><div class=3D'codeblock'><pre>Compiling starter=
.fps/server/scripts/game.cs...<br>starter.fps/server/scripts/game.cs Lin=
e: 311 - Syntax error.</pre></div><br>The problem wasn't line 311 though=
 it was line 308 which is this:<br><br><div class=3D'codeblock'><pre>%pl=
ayer.setInventory(CrossbowAmmo,999);}s</pre></div><br>Replace with:<br><=
br><div class=3D'codeblock'><pre>%player.setInventory(CrossbowAmmo,999);=
</pre></div><br>Now it loads ok. <br><br>Next question.. when hitting Ko=
rg with the sword I am not doing any damage.<br><br>*** EDIT ***<br><br>=
I found the following errors in the log from playing with this for awhil=
e:<br><br><div class=3D'codeblock'><pre>starter.fps/data/shapes/sword.dt=
s - Collision mesh names should start with Col or LOSCol, encountered 'd=
amageStart' in detail level 3<br>starter.fps/data/shapes/sword.dts - Col=
lision mesh names should start with Col or LOSCol, encountered 'damageEn=
d' in detail level 3</pre></div><br><span class=3D'forumSmallBlack'><i>E=
dited on Jul&nbsp;29,&nbsp;2006 14:56</i></span><br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;29,&nbsp;2006&nbsp;at&nb=
sp;07:58)</span>   </td></tr>
   </table>
   @Raasta - Thanks, See this is why I needed testers - I make so many m=
istakes<br>Those collision mesh errors dont cause the no damage thing bt=
w<br><br><br><b>Updated Archive</b><br><span class=3D'forumSmallBlack'><=
i>Edited on Jul&nbsp;29,&nbsp;2006 08:08</i></span><br><br>   <table wid=
th=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;29,&nbsp;2006&nbsp;at&nb=
sp;08:08)</span>   </td></tr>
   </table>
   @ Plague - Yes its fixed<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D33095'>Andrew Hull</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;29,&nbsp;2006&nbsp;at&nbsp;=
10:21)</span>   </td></tr>
   </table>
   @James - <br>What are your &quot;improvements&quot; to this resource?=
 I've already implemented melee into my code, just wondering if there is=
 anything you've added that I might benefit from.<br><br>   <table width=
=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;29,&nbsp;2006&nbsp;at&nb=
sp;10:58)</span>   </td></tr>
   </table>
   @ Andrew - If you have a working system, dont bother with this one. T=
his is just so people struggeling with getting melee working can have a =
working system<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62102'>Raasta</a><span cla=
ss=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;29,&nbsp;2006&nbsp;at&nbsp;17:24=
)</span>   </td></tr>
   </table>
   Ok it all seems to work now, I found 1 more issue.  The player wasn't=
 swinging the sword properly.  I checked the file player.cc against the =
original server side melee tutorial and noticed that the following code =
block needs to be commented out or removed:<br><br><div class=3D'codeblo=
ck'><pre>if (mArmAnimation.thread) {<br>      // Adjust arm position to =
avoid collision.<br>      F32 tp =3D mControlObject? 0.5:<br>         (m=
Head.x - mArmRange.min) / mArmRange.delta;<br>      mShapeInstance-&gt;s=
etPos(mArmAnimation.thread,mClampF(tp,0,1));<br>   }</pre></div><br>Now =
it seems to be working and swings correctly.<br><br>   <table width=3D'1=
00%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;30,&nbsp;2006&nbsp;at&nb=
sp;14:54)</span>   </td></tr>
   </table>
   Commenting that makes this a random melee system, if thats what you w=
ant great :)<br>Did you notice that exact same code is wrapped in a new =
'if' that checks to see if we are doing melee?<br><span class=3D'forumSm=
allBlack'><i>Edited on Jul&nbsp;30,&nbsp;2006 14:56</i></span><br><br>  =
 <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D37217'>Jesse (Midhir) Lile=
s</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;31,&nbsp;2006&nbsp=
;at&nbsp;20:48)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Ra=
ting: 4</span>   </td></tr>
   </table>
   Thank you very much, I've needed to implement melee for a long time.<=
br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65174'>Aun Arinyasak</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Aug&nbsp;21,&nbsp;2006&nbsp;at&nbs=
p;13:16)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5=
</span>   </td></tr>
   </table>
   Alittle fix. in weapon.cs<br><br>change :<br>     <br><div class=3D'c=
odeblock'><pre>%vplayer.setArmThreadTransitionOnce(&quot;h1stun&quot;);<=
/pre></div><br><br>To:<br>      <br><div class=3D'codeblock'><pre>%vplay=
er.setArmTransitionOnce(&quot;h1stun&quot;);</pre></div><br><br><br><br>=
It is almost working for me . Except the idle animation while holding th=
e sword is still not correct .<br><br>Any clues ?<br><br><br><br>Great r=
esource .Thx <br>Aun<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Aug&nbsp;24,&nbsp;2006&nbsp;at&nb=
sp;14:19)</span>   </td></tr>
   </table>
   Thanks for the fix Aun, erm no idea sorry maybe changing your model/i=
dle anim?<br><span class=3D'forumSmallBlack'><i>Edited on Sep&nbsp;19,&n=
bsp;2006 16:59</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65174'>Aun Arinyasak</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;14,&nbsp;2006&nbsp;at&nbs=
p;07:59)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5=
</span>   </td></tr>
   </table>
   Alittle question .<br><br>I created my own model and animation. What =
do I have to do in order to make my animation work with this resource ? =
<br><br>It seems to be crashing because<br><br><div class=3D'codeblock'>=
<pre>mArmAnimation.action =3D null</pre></div><br>in Player::setArmThrea=
d<br><br>How can i prevent this from happening ?<br><br>Thanks .<br>Aun<=
br><br>*Edit : Ok got it working  have to set the custom look animation =
=3D &quot;look&quot;<br><span class=3D'forumSmallBlack'><i>Edited on Sep=
&nbsp;14,&nbsp;2006 08:12</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D67783'>Amr Bekhit</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;16,&nbsp;2006&nbsp;at&nbsp;1=
3:44)</span>   </td></tr>
   </table>
   OK I downloaded the code files, recompiled Torque, copied the script =
files in place and when I run the game and try to slash the sword, all I=
 get is <b>ERROR in setArmThreadPlayOnce()</b>.<br><br>I haven't touched=
 any of the code, simply extracted the files into my Torque directory. A=
ny info?<br><br>--Amr<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65174'>Aun Arinyasak</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;16,&nbsp;2006&nbsp;at&nbs=
p;17:47)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5=
</span>   </td></tr>
   </table>
   @ Amr Bekhit <br><br>It seems that if you are using a custom slash an=
imation ,you will to have an animation sequence name &quot;look&quot;.<b=
r><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D71171'>Jeremy Eubanks</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;25,&nbsp;2006&nbsp;at&nb=
sp;02:32)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: =
5</span>   </td></tr>
   </table>
   Thank you for the resource , Greatly anticipating a working melee sys=
tem. I used the default files above with a fresh unziped 1.4 and with a =
new cvs build. each time the sword will not swing and i also get this in=
 the console - <br><br>starter.fps/server/scripts/weapon.cs (165): Unkno=
wn command setArmThreadPlayOnce.<br>object (2157) Player -&gt; ShapeBase=
 -&gt; GameBase -&gt; SceneObject -&gt; NetObject -&gt; SimObject<br>ERR=
OR in setArmThreadPlayOnce()<br><br>Is the Look animation needed for the=
 included files or just custom characters?<br><br>Where is the key mappi=
ng for the sword swings? I've searched in this file and the rw files.<br=
> I'm Must have went Blind  - any help could restore some sight to an ol=
d blind man who is not ready to accept the darkness. <br>Being such a ne=
wbie any info would be educational - Thanks again.<br><br>   <table widt=
h=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;25,&nbsp;2006&nbsp;at&nb=
sp;16:06)</span>   </td></tr>
   </table>
   Lets see...<br><br>Unknown command setArmThreadPlayOnce<br>Seems a fe=
w people are having this issue, ill look into it<br><br>Is the Look anim=
ation needed for the included files or just custom characters?<br>You ne=
ed the extra animations included in this resource for any character who =
will be able to melee<br><br>Where is the key mapping for the sword swin=
gs?<br>The system uses the fire button (default left mouse) there are no=
 special binds<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;25,&nbsp;2006&nbsp;at&nb=
sp;16:27)</span>   </td></tr>
   </table>
   Updated archive to fix a few problems and get it in 1.4.2<br><span cl=
ass=3D'forumSmallBlack'><i>Edited on Sep&nbsp;25,&nbsp;2006 16:28</i></s=
pan><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D71171'>Jeremy Eubanks</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;25,&nbsp;2006&nbsp;at&nb=
sp;20:07)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: =
5</span>   </td></tr>
   </table>
   Thanks for the information makes perfect sence. I'll rebuild and reim=
plement after the day job is done.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D66306'>Bruno Campolo</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;26,&nbsp;2006&nbsp;at&nbs=
p;19:47)</span>   </td></tr>
   </table>
   Is there anything special about creating a melee weapon that I need t=
o know in order for it to work correctly besides a mount point?  Are the=
re any other special nodes that are necessary?<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;26,&nbsp;2006&nbsp;at&nb=
sp;19:56)</span>   </td></tr>
   </table>
   Not for the weapon, just the mount point<br><br>   <table width=3D'10=
0%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D66306'>Bruno Campolo</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;27,&nbsp;2006&nbsp;at&nbs=
p;11:47)</span>   </td></tr>
   </table>
   I tried to create my own weapon dts and named it the same as what you=
 had, but for some reason the collision no longer works.  The sword dts =
works but mine doesn't.  I'm using MilkShape and exported a collision me=
sh as a bounding box, but I haven't found any settings that seem to work=
.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;27,&nbsp;2006&nbsp;at&nb=
sp;16:10)</span>   </td></tr>
   </table>
   Sorry im not a moddeler, what about it didnt work?<br><br>   <table w=
idth=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D66306'>Bruno Campolo</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;27,&nbsp;2006&nbsp;at&nbs=
p;18:22)</span>   </td></tr>
   </table>
   It doesn't collide and cause damage like the sword model did even tho=
ugh I didn't change any of the code at all, just substituted a different=
 model and as far as I can tell it exported a bounding box.  Does anyone=
 know how the sword was created that might be different from what I am d=
oing?<br><br>Edit:<br>I just noticed in the code damageStart and damageE=
nd nodes being referenced so I'll try to add those to my model and I'll =
report back my results.<br><span class=3D'forumSmallBlack'><i>Edited on =
Sep&nbsp;27,&nbsp;2006 21:42</i></span><br><br>   <table width=3D'100%'>=

   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D66306'>Bruno Campolo</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;28,&nbsp;2006&nbsp;at&nbs=
p;12:57)</span>   </td></tr>
   </table>
   I just confirmed that each melee weapon needs a &quot;damageStart&quo=
t; node and a &quot;damageEnd&quot; node embedded in the model.  damageS=
tart I put just above the mountPoint and damageEnd I put at the tip of t=
he weapon.  As part of this resource a rayCast is done from damageStart =
to damageEnd and anything that intersects is notified of a collision.<br=
><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D71171'>Jeremy Eubanks</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;28,&nbsp;2006&nbsp;at&nb=
sp;23:03)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: =
5</span>   </td></tr>
   </table>
   Thanks for posting the solution. i'll be implementing maya made weapo=
ns soon and would surely have ran into that error. ----------   works pe=
rfect, great resource , thanks again<br><span class=3D'forumSmallBlack'>=
<i>Edited on Oct&nbsp;07,&nbsp;2006 06:42</i></span><br><br>   <table wi=
dth=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D60987'>Mark Buxton</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Oct&nbsp;06,&nbsp;2006&nbsp;at&nbsp;=
09:54)</span>   </td></tr>
   </table>
   Thanks for the resource<br><span class=3D'forumSmallBlack'><i>Edited =
on Oct&nbsp;15,&nbsp;2006 04:41</i></span><br><br>   <table width=3D'100=
%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D55740'>Ben Geisler</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Oct&nbsp;15,&nbsp;2006&nbsp;at&nbsp;=
02:58)</span>   </td></tr>
   </table>
   I'm receiving the &quot;ERROR in setArmThreadPlayOnce().&quot; as wel=
l.  any suggestions?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Oct&nbsp;15,&nbsp;2006&nbsp;at&nb=
sp;14:50)</span>   </td></tr>
   </table>
   <blockquote><font size=3D1>Quote:<br><hr height=3D1 noshade><br>It se=
ems that if you are using a custom slash animation ,you will to have an =
animation sequence name &quot;look&quot;.<br><hr height=3D1 noshade></fo=
nt></blockquote><br><br>Also:<br>I should soon be updating this resource=
, sorry its taken so long<br><span class=3D'forumSmallBlack'><i>Edited o=
n Oct&nbsp;15,&nbsp;2006 14:53</i></span><br><br>   <table width=3D'100%=
'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;05,&nbsp;2006&nbsp;at&nb=
sp;15:56)</span>   </td></tr>
   </table>
   Updated with script shields<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D57318'>Anthony Abrams</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;05,&nbsp;2006&nbsp;at&nb=
sp;12:17)</span>   </td></tr>
   </table>
   Sweeeeet!!<br><br>This is just what I was looking for.  Thanks.<br><b=
r>I'll be adding it tonight when I get home from work.<br><br>   <table =
width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D57109'>Daelen Kelly</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;19,&nbsp;2006&nbsp;at&nbsp=
;08:14)</span>   </td></tr>
   </table>
   Hey all, recently I tried to add this resource to my fresh 1.4.2 buil=
d of torque and compiled using Eclipse, When I jump into the FPS I canno=
t swing my sword (although it shows up fine on the model) and get an err=
or in the console: starter.fps/server/scripts/weapon.cs (165): Unknown c=
ommand setArmThreadPlayOnce.<br>object (2157) Player -&gt; ShapeBase -&g=
t; GameBase -&gt; SceneObject -&gt; NetObject -&gt; SimObject<br><br>I l=
ocated it down in the weapon.cs file but thats where I am stuck, I know =
that its for whatever reason not accepting this as a command in this par=
t of the script:<br><br>    if (!%obj.setArmThreadPlayOnce(%attack.seqNa=
me))<br>       echo(&quot;ERROR in setArmThreadPlayOnce()&quot;);<br>   =
 return;<br><br>But I do not know enough about it to change it, please a=
ny help would be appriciated!<br><br>-Daelen<br><br>   <table width=3D'1=
00%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64240'>Alberto Botero</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;22,&nbsp;2006&nbsp;at&nb=
sp;01:06)</span>   </td></tr>
   </table>
   @ Daelen Kelly -<br><br>I'm having the same issue (TGE 1.5) and I can=
't seem to track down the problem either - I would also like to say that=
 I'm NOT using a custom slash animation... just dropped the code in.<br>=
<span class=3D'forumSmallBlack'><i>Edited on Dec&nbsp;22,&nbsp;2006 01:0=
7</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D71171'>Jeremy Eubanks</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;22,&nbsp;2006&nbsp;at&nb=
sp;01:23)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: =
5</span>   </td></tr>
   </table>
   I'll try to doublecheck the detail when time allows<br>overall i used=
 win merge and opened every file one by one <br>and only added the info =
 marked for the melee system <br>worked well<br><br>   <table width=3D'1=
00%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64240'>Alberto Botero</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;22,&nbsp;2006&nbsp;at&nb=
sp;02:44)</span>   </td></tr>
   </table>
   Well, I went back through all the files and figured out that I hadn't=
 updated all my different player.cs files, had left out the <br><br>   s=
equence30 =3D &quot;./player_h1root.dsq h1root&quot;;<br>   sequence31 =3D=
 &quot;./player_h1thrust.dsq h1thrust&quot;;<br>   sequence32 =3D &quot;=
./player_h1slice.dsq h1slice&quot;;<br>   sequence33 =3D &quot;./player_=
h1swing.dsq h1swing&quot;;<br>   sequence34 =3D &quot;./player_h1jumpatt=
ack.dsq h1jumpattack&quot;;<br>   sequence35 =3D &quot;./player_h1stunde=
.dsq h1stun&quot;;<br><br>Now that it's added, I get to loading databloc=
ks on the mission, and Torque crashes and says <br><br>Fatal: engine/cor=
e/bitstream.cc @ 194<br>Out of range write<br><br>Any ideas?<br><br>   <=
table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65174'>Aun Arinyasak</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;22,&nbsp;2006&nbsp;at&nbs=
p;03:46)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5=
</span>   </td></tr>
   </table>
   @ Alberto <br><br>The full path names of you sequence will be sent cr=
oss the network. The error you are getting will happen when the sequence=
 names are too long .To Fix this open gameConnectionEvents.cc<br><br>At =
around line 163 locate  <br><br><br><div class=3D'codeblock'><pre>      =
   U8 buf[1500];<br>         BitStream stream(buf, 1500);</pre></div><br=
><br>and change it to<br><br><br><div class=3D'codeblock'><pre>         =
U8 buf[2000];<br>         BitStream stream(buf, 2000);</pre></div><br><b=
r>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64240'>Alberto Botero</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;22,&nbsp;2006&nbsp;at&nb=
sp;21:13)</span>   </td></tr>
   </table>
   @Aun - That fixed it :D<br><br>@ James - Works GREAT, thanks.<br><spa=
n class=3D'forumSmallBlack'><i>Edited on Dec&nbsp;22,&nbsp;2006 21:14</i=
></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D69464'>Timothy Olson</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;24,&nbsp;2006&nbsp;at&nbs=
p;19:48)</span>   </td></tr>
   </table>
   I downloaded this the other day but it hasn't been working...<br><br>=
The only thing that is different is that I start the game weilding the s=
word, but it is so low that I can't see it unless I look down intentiona=
lly.<br><br>I have however, located the problem to be located in either =
the player.cs file, the sword.dts file, or the ammo.dts file. My bet is =
that the main problem is in the player.cs file, it says it's at line 678=
, but it shows up at line 679, if that makes any sense...<br><br>If some=
one could post the error I would be very happy! Thank you!<br><br>   <ta=
ble width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65174'>Aun Arinyasak</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;25,&nbsp;2006&nbsp;at&nbs=
p;03:44)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5=
</span>   </td></tr>
   </table>
   @ Timothy the describtion you gave is extreamly hard to tell what's y=
our problem. Maybe post some code for us or the console error report ?<b=
r><br>Aun<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62452'>Musashi</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;28,&nbsp;2006&nbsp;at&nbsp;18:3=
1)</span>   </td></tr>
   </table>
   I've read through this and I haven't found any solutions to my curren=
t problem, using the current resource in the fps starter kit, my charact=
er still won't swing his sword, I've brought in the .c and .h files in t=
he engine, made two changes that were mentioned, the bitstream one and t=
he commenting out the armthreadanimation one. Yet my Orc still won't swi=
ng the sword. I've built it in VC++ 2005 express.<br><br>I get:<br><br>E=
RROR in setArmThreadPlayOnce()<br><br>starter.fps/data/shapes/sword.dts =
- Collision Mesh names should start with col or LOScol, encountered 'dam=
agestart' in detail level 3<br><br>starter.fps/data/shapes/sword.dts - C=
ollision Mesh names should start with col or LOScol, encountered 'damage=
end' in detail level 3<br><br>Similar sort of errors same when I tried t=
he server side melee tutorial. I hope knows the answer for this one.<br>=
<br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D57318'>Anthony Abrams</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;07,&nbsp;2007&nbsp;at&nb=
sp;00:03)</span>   </td></tr>
   </table>
   hmm im getting the &quot;ERROR in setarmthreadplayonce&quot; as well.=
<br><br>I'll keep messing with it and if I figure it out I'll post it he=
re.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D57318'>Anthony Abrams</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;07,&nbsp;2007&nbsp;at&nb=
sp;02:23)</span>   </td></tr>
   </table>
   Been looking at it for a while now and comparing it to server side me=
lee system, which its identical to.<br><br>I have the server side melee =
system working, but this one I cannot get working. <br><br>I just keep g=
etting the &quot;ERRROR in setArtThreadPlayOnce&quot; when I try to &quo=
t;fire&quot; a weapon (sword, axe, etc).<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65174'>Aun Arinyasak</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;07,&nbsp;2007&nbsp;at&nbs=
p;04:53)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5=
</span>   </td></tr>
   </table>
   @ Musashi , Anthony  <br><br>All the fixes to this resource have been=
 posted in the previous posts.<br><br>for <br><br><div class=3D'codebloc=
k'><pre>ERROR in setArmThreadPlayOnce()</pre></div><br><br>look here<br>=
<br><blockquote><font size=3D1>Quote:<br><hr height=3D1 noshade><br>It s=
eems that if you are using a custom slash animation ,you will to have an=
 animation sequence name &quot;look&quot;.<br><hr height=3D1 noshade></f=
ont></blockquote><br><br>and for this error <br><br><br><div class=3D'co=
deblock'><pre>starter.fps/data/shapes/sword.dts - Collision Mesh names s=
hould start with col or LOScol, encountered 'damagestart' in detail leve=
l 3</pre></div><br><br>you could just ignore it .<br><br>Aun<br><span cl=
ass=3D'forumSmallBlack'><i>Edited on Jan&nbsp;07,&nbsp;2007 04:53</i></s=
pan><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D78915'>UCF_Student (#0070)=
</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;14,&nbsp;2007&nbsp;=
at&nbsp;20:16)</span>   </td></tr>
   </table>
   There appears to still be a problem in newer versions of Torque with =
this line:<br><br>weapon.cs line 165 for me:<br><br>if (!%obj.setArmThre=
adPlayOnce(%attack.seqName))<br>       echo(&quot;ERROR in setArmThreadP=
layOnce()&quot;);<br><br>if you trace the %obj in the console (from with=
in the game) it says that it has a &quot;setArmThread&quot; method but n=
o &quot;setArmThreadPlayOnce&quot; method... so I changed it to the prev=
ious.<br><br>Now the sword swings strangely with the mouse look and clic=
king seems to change the attack style (overhead, side-arm) but the sword=
 does no damage... I think the problem is still in getting the %obj to r=
ecognize that it has a setArmThreadPlayOnce method.<br><br>   <table wid=
th=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D78915'>UCF_Student (#0070)=
</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;14,&nbsp;2007&nbsp;=
at&nbsp;22:08)</span>   </td></tr>
   </table>
   Aha,<br><br>The reason setArmThreadPlayOnce was not getting recognize=
d as a player function was due to the declaration of the function in the=
 engine.<br><br>Change:<br>bool setArmThreadPlayOnce(const *...)<br><br>=
to<br>virtual bool setArmThreadPlayOnce(const* ...) in Player.h part of =
the torque engine and it will be recognized, and work correctly in game.=
<br><br>Good Luck<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85133'>Greg M.</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;06,&nbsp;2007&nbsp;at&nbsp;04:0=
1)</span>   </td></tr>
   </table>
   I have a problem with the sword itself not hitting from the blade. it=
s seems to only hit from the nount point not from the damageStart damage=
End nodes. so I have ot be close enough to punch him cause the blade has=
 no effect. anyone run into this or have an idea of where to look.<br><b=
r>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70890'>Okashira</a><span c=
lass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;23,&nbsp;2007&nbsp;at&nbsp;21:=
59)</span>   </td></tr>
   </table>
   Just so everyone knows - don't just copy and paste the code into TGE =
1.5, it screws up alot of stuff regarding shadows and causes alot of err=
ors(because of the built in TLK).<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D46845'>Tom Perry</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;05,&nbsp;2007&nbsp;at&nbsp;17=
:33)</span>   </td></tr>
   </table>
   404 error.<br><br>Anyone got the files to upload?<br><br>   <table wi=
dth=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;05,&nbsp;2007&nbsp;at&nb=
sp;18:09)</span>   </td></tr>
   </table>
   Yea sorry, re-doing my site ill put it back up temp<br><br>   <table =
width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D46845'>Tom Perry</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;05,&nbsp;2007&nbsp;at&nbsp;18=
:10)</span>   </td></tr>
   </table>
   Cheers, looks like a great resource :)<br><br>   <table width=3D'100%=
'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;05,&nbsp;2007&nbsp;at&nb=
sp;18:54)</span>   </td></tr>
   </table>
   Thanks :) hope its usefull for you<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64397'>Michael Branin</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;09,&nbsp;2007&nbsp;at&nb=
sp;18:50)</span>   </td></tr>
   </table>
   Just tried to download the file and it is an incomplete Rar. Anyone h=
ave a working rar of the files?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D56854'>bank</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;09,&nbsp;2007&nbsp;at&nbsp;18:56)<=
/span>   </td></tr>
   </table>
   This file works fine for me, opens in WinRar 3.40<br>Be sure it downl=
oaded full, file size is 931448 Bytes (909.6 KB)<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64397'>Michael Branin</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;09,&nbsp;2007&nbsp;at&nb=
sp;19:04)</span>   </td></tr>
   </table>
   Ok I disconnected my wireless connection and plugged in a normal netw=
ork cable and the file downloaded fine.  Go Figure.<br><span class=3D'fo=
rumSmallBlack'><i>Edited on Mar&nbsp;09,&nbsp;2007 19:09</i></span><br><=
br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D65704'>Irman Nawawi</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;20,&nbsp;2007&nbsp;at&nbsp=
;07:51)</span>   </td></tr>
   </table>
   Okay, this is sort of trivial and dumb but i find that the 'ERROR in =
setArmThreadPlayOnce()'  happens because i did not delete the player.cs.=
dso after i used this resource :P.<br><br>The shadow is a bit choppy in =
my case. But great resource. Thx.<br><br>Ezham<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D67654'>Rojalee</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;01,&nbsp;2007&nbsp;at&nbsp;01:0=
3)</span>   </td></tr>
   </table>
   Ok...<br>Here goes, I have read this entire post several times.<br><b=
r>here is what I did:<br>download files, inserted them in proper places.=
<br>recompiled using VC2k5<br>noticed errors, came back to this thread<b=
r>commented out the mArmThread in the &quot;If&quot; statements.<br>chan=
ged weapon.cs to mArmThread instead of mArmThreadPlayOnce<br><br>now whe=
n I attack the sword stops and follows the mouse button.<br>it looks lik=
e what is happening is the animation will only complete when I move my m=
ouse.<br>There are no error messages.<br><br>Edit: ok still have the sam=
e problem, it looks like the animation is tied to mouse look somehow. it=
 is definitely only going through the animation while my mouse is moving=
 otherwise it holds in one fram of the animation.<br><span class=3D'foru=
mSmallBlack'><i>Edited on Apr&nbsp;01,&nbsp;2007 01:10</i></span><br><br=
>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;01,&nbsp;2007&nbsp;at&nb=
sp;18:52)</span>   </td></tr>
   </table>
   <blockquote><font size=3D1>Quote:<br><hr height=3D1 noshade><br>Ok it=
 all seems to work now, I found 1 more issue. The player wasn't swinging=
 the sword properly. I checked the file player.cc against the original s=
erver side melee tutorial and noticed that the following code block need=
s to be commented out or removed:<br><br><div class=3D'codeblock'><pre>i=
f (mArmAnimation.thread) {     <br> // Adjust arm position to avoid coll=
ision.      <br>F32 tp =3D mControlObject? 0.5:         (mHead.x - mArmR=
ange.min) / mArmRange.delta;      <br>mShapeInstance-&gt;setPos(mArmAnim=
ation.thread,mClampF(tp,0,1));   <br>}</pre></div><br>Now it seems to be=
 working and swings correctly.<br><hr height=3D1 noshade></font></blockq=
uote><br><br>Read the posts &gt;:(<br><span class=3D'forumSmallBlack'><i=
>Edited on Apr&nbsp;01,&nbsp;2007 18:53</i></span><br><br>   <table widt=
h=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D67654'>Rojalee</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;02,&nbsp;2007&nbsp;at&nbsp;01:1=
8)</span>   </td></tr>
   </table>
   just to make sure, is that code block from here:<br><br><br><div clas=
s=3D'codeblock'><pre>void Player::updateLookAnimation()<br>{<br>   // Ad=
just look pos.  This assumes that the animations match<br>   // the min =
and max look angles provided in the datablock.<br>   //if (mArmAnimation=
.thread) {<br>     // TG: Adjust arm position to avoid collision.<br>   =
//   F32 tp =3D mControlObject? 0.5:<br>   //      (mHead.x - mArmRange.=
min) / mArmRange.delta;<br>   //   mShapeInstance-&gt;setPos(mArmAnimati=
on.thread,mClampF(tp,0,1));<br>   // }<br>   if (mHeadVThread) {<br>    =
  F32 tp =3D (mHead.x - mHeadVRange.min) / mHeadVRange.delta;<br>      m=
ShapeInstance-&gt;setPos(mHeadVThread,mClampF(tp,0,1));<br>   }<br>   if=
 (mHeadHThread) {<br>      F32 dt =3D 2 * mDataBlock-&gt;maxLookAngle;<b=
r>      F32 tp =3D (mHead.z + mDataBlock-&gt;maxLookAngle) / dt;<br>    =
  mShapeInstance-&gt;setPos(mHeadHThread,mClampF(tp,0,1));</pre></div><b=
r><br>and this is from player.h:<br><br><br><div class=3D'codeblock'><pr=
e>   virtual bool setArmThread(U32 action);<br>   virtual void setAction=
Thread(U32 action,bool forward,bool hold =3D false,bool wait =3D false,b=
ool fsp =3D false, bool forceSet =3D false);<br>   virtual void updateAc=
tionThread();<br>   virtual void pickActionAnimation();<br>   void onUnm=
ount(ShapeBase* obj,S32 node);</pre></div><br><br>And this is from weapo=
n.cs:<br><br><br><div class=3D'codeblock'><pre>   if (%vplayer.hthDamage=
SeqPlaying)<br>   {<br>      // make sure they wont do damage....<br>   =
   %vplayer.hthDamageSeqPlaying =3D false;<br><br>      // blend into th=
e stun animation<br>      //error(&quot;STUN: victim: &quot; @ %vplayer =
@ &quot; DOING transition once...&quot;);<br>      %vplayer.setArmTransi=
tionOnce(&quot;h1stun&quot;);<br>   }<br>   else<br>   {<br>      // jus=
t start the stun animation<br>      //error(&quot;STUN: victim: &quot; @=
 %vplayer @ &quot; only doing a playonce...&quot;);<br>      if(%vplayer=
.shielded)// not while stuned!<br>         %vplayer.setImageTrigger(1,fa=
lse);<br>      %vplayer.setArmThreadPlayOnce(&quot;h1stun&quot;);</pre><=
/div><br><br>I believe that is everything this post suggested changing, =
and yet I still have the same animation problem.<br><span class=3D'forum=
SmallBlack'><i>Edited on Apr&nbsp;02,&nbsp;2007 01:23</i></span><br><br>=
   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D75458'>Stephen Lujan</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;02,&nbsp;2007&nbsp;at&nbs=
p;04:37)</span>   </td></tr>
   </table>
   Yeah my player is also using the root animation with a sword for some=
 reason instead of the h1root. Then upon attacking the arm jumps into a =
different position before swinging. Its really ugly. I'm trying to debug=
 it.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D75458'>Stephen Lujan</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;02,&nbsp;2007&nbsp;at&nbs=
p;05:07)</span>   </td></tr>
   </table>
   okay i added the bolded bit of code<br><br><div class=3D'codeblock'><=
pre>function WeaponImage::onMount(%this,%obj,%slot)<br>{<br>   // Images=
 assume a false ammo state on load.  We need to<br>   // set the state a=
ccording to the current inventory.<br>   if (%obj.getInvItem(%this.ammo.=
getName(),&quot;amount&quot;) &gt; 0) {<br>      %obj.setImageAmmo(%slot=
,true);<br>   }<br><br>   if (%this.customLookAnim !$=3D &quot;&quot;)<b=
r>   {<br>      %obj.setArmThread(%this.customLookAnim);<b><br>	  echo(&=
quot;DEBUG: &quot;, %obj,&quot; should use custom &quot;, %this.customLo=
okAnim,&quot; animation now!&quot;);</b><br>   }<br>   else<br>   {<br> =
     %obj.setArmThread(&quot;look&quot;);<br>   }<br>}</pre></div><br>an=
d it told me &quot;DEBUG: 1608 should use custom looknw animation now!&q=
uot;<br><br>Now i'm stumped again because the only reference i have to l=
ooknw in my entire game is<br>sequence29 =3D &quot;./player_looknw.dsq l=
ooknw&quot;;<br>in my player.cs file.<br><br>Further more, this is decla=
red in datablock ShapeBaseImageData(SwordImage)<br>   customLookAnim =3D=
 &quot;h1root&quot;;  // as a test<br><br>Am I missing something?<br><sp=
an class=3D'forumSmallBlack'><i>Edited on Apr&nbsp;02,&nbsp;2007 05:11</=
i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D75458'>Stephen Lujan</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;02,&nbsp;2007&nbsp;at&nbs=
p;06:15)</span>   </td></tr>
   </table>
   NEVERMIND! <br><br>I'm sorry I realized I was looking at the wrong sw=
ord datablock. Apparently I had an extra one hanging around for a sword =
I'm not using. I corrected the customLookAnim for my sword and everythin=
g is working fine now.<br><span class=3D'forumSmallBlack'><i>Edited on A=
pr&nbsp;02,&nbsp;2007 06:17</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D67654'>Rojalee</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;02,&nbsp;2007&nbsp;at&nbsp;23:3=
7)</span>   </td></tr>
   </table>
   @ Stephen:  mind going into a bit more detail about how you fixed tha=
t?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D75458'>Stephen Lujan</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;03,&nbsp;2007&nbsp;at&nbs=
p;11:43)</span>   </td></tr>
   </table>
   I'm not sure I've been having the same animation problem but I'll sho=
w you exactly what i did to fix it. In my sword.cs file in the server di=
rectory I had a small error. My sword was giving the wrong custom animat=
ion to the player. At first I accidentally looked at the wrong script fi=
le for a different sword that didn't have the same mistake in its script=
 I guess. Anyways the line is bolded below. Again this passage is from s=
word.cs. I'm not sure if this helps your problem.<br><br><div class=3D'c=
odeblock'><pre>/<br>// phdana hth -&gt;<br>datablock ShapeBaseImageData(=
SwordImage)<br>{<br>   // Basic Item properties<br>   shapeFile =3D &quo=
t;~/data/shapes/sword/rune_blade01.dts&quot;;<br>   emap =3D true;<br><b=
r>   // Specify mount point &amp; offset for 3rd person, and eye offset<=
br>   // for first person rendering.<br>   mountPoint =3D 0;<br><br><br>=
   // When firing from a point offset from the eye, muzzle correction<br=
>   // will adjust the muzzle vector to point to the eye LOS point.<br> =
  // Since this weapon doesn't actually fire from the muzzle point,<br> =
  // we need to turn this off.  <br>   correctMuzzleVector =3D false;<br=
><br><br>   // Add the WeaponImage namespace as a parent, WeaponImage na=
mespace<br>   // provides some hooks into the inventory system.<br>   cl=
assName =3D &quot;WeaponImage&quot;;<br><br>   // Projectile &amp;&amp; =
Ammo.<br>   item =3D Sword;<br>   ammo =3D CrossbowAmmo;<b><br>   custom=
LookAnim =3D &quot;h1root&quot;;</b><br><br>   // Here are the Attacks w=
e support<br>   hthNumAttacks =3D 3;<br>   hthAttack[0]                 =
    =3D OneHandedAttackSwing;<br>   hthAttack[1]                     =3D=
 OneHandedAttackSlice;<br>   hthAttack[2]                     =3D OneHan=
dedAttackThrust;</pre></div><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D38534'>J Sears</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;13,&nbsp;2007&nbsp;at&nbsp;00:1=
4)</span>   </td></tr>
   </table>
   Does anyone know if the dsq files work with the orc in the latest bui=
ld? I was trying to just get the swing animations in so I copied the pla=
yer_h1swing.dsq in and added it to the .cs files after the last sequence=
 number and I can't get the animation to play, I know the command is wri=
tten in correct because if I put wave in it's place he waves so am I doi=
ng something else wrong or are those dsq files not compatible with the c=
urrent orc?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D78514'>Thomas Huehn</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;13,&nbsp;2007&nbsp;at&nbsp=
;10:55)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   i got it work with engine 1.5 \o/ i used the melee tut (http://www.ga=
ragegames.com/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Dview&amp;=
qid=3D5377) and this meleesystem to merge it into the 1.5 base source.<b=
r><span class=3D'forumSmallBlack'><i>Edited on May&nbsp;02,&nbsp;2007 08=
:40</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D88322'>Rafael Marques</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;15,&nbsp;2007&nbsp;at&nb=
sp;13:30)</span>   </td></tr>
   </table>
   Hello,<br><br>@Thomas, i've downloaded your upload, recompile alter f=
iles, delete DSO's and run, Kork get the sword, but don't swim..<br><br>=
Should be because i'm using torque 1.5.1??<br><br>Thanks!<br><br>   <tab=
le width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D88322'>Rafael Marques</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;15,&nbsp;2007&nbsp;at&nb=
sp;14:11)</span>   </td></tr>
   </table>
   Well, i've uninstall 1.5.1 and installed 1.5 (http://www.thunderous.d=
e/files/meleesystem_1.5.zip) compile but the same problem.<br><br>... <b=
r>weapon.cs (165): unknown command setArmThreadPlayOnce <br>...<br><br>W=
hen i try to swim<br><br>Can somebody give me some light?<br><br>   <tab=
le width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D78514'>Thomas Huehn</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;15,&nbsp;2007&nbsp;at&nbsp=
;17:09)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   @rafael <br><br>well, maybe i missed something but i didnt know the a=
ctor is able to swim by default<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D88322'>Rafael Marques</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;15,&nbsp;2007&nbsp;at&nb=
sp;17:58)</span>   </td></tr>
   </table>
   @thomas, fogive my bad english i'm brazilian, i wanna say &quot;slice=
, slash or hit&quot; left mouse button. =3DP<br><br>the problem is here,=
 i think, but i can't find it (setArmThreadPlayOnce)<br><br>Thanks!<br><=
br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D78514'>Thomas Huehn</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;15,&nbsp;2007&nbsp;at&nbsp=
;21:19)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   @rafael<br><br>i got the same error, while testing only with the scri=
pts. It seams that the melee stuff is not compiled in the binary you are=
 using.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D88322'>Rafael Marques</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;17,&nbsp;2007&nbsp;at&nb=
sp;01:24)</span>   </td></tr>
   </table>
   I have compiled with vc++ 2003 (or 7), should be the problem? i've un=
installed, recompiled and the same..<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;22,&nbsp;2007&nbsp;at&nbsp;0=
8:29)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   If anybody is still having problems with the error about &quot;setArm=
ThreadPlayOnce&quot; I have found the solution.<br><br>After looking at =
the code and script for a few hours it suddenly hit me.  The Console Fun=
ction for setArmThreadPlayOnce was being declared wrong.  It was using t=
he same callback for the engine call and the script call.  Once I notice=
d that, fixing it was easy.<br><br>** all testing done with a fresh buil=
d of TGE 1.4.2 **<br><br>in player.cc on line 3825<br><br>change this--<=
br><br>ConsoleMethod(Player, <b>setArmThreadPlayOnce</b>, bool , 3, 3, &=
quot;(string sequenceName)&quot;)<br>{<br>   return object-&gt;setArmThr=
eadPlayOnce(argv[2]);<br>}<br><br>to this--<br><br>ConsoleMethod(Player,=
 <b>armThreadPlayOnce</b>, bool , 3, 3, &quot;(string sequenceName)&quot=
;)<br>{<br>   return object-&gt;setArmThreadPlayOnce(argv[2]);<br>}<br><=
br>after changes save and rebuild.<br><br>You will then have to change t=
he call in the script.<br><br>in weapon.cs on line  165<br><br>Change th=
is--<br><br>if (!%obj.<b>setArmThreadPlayOnce</b>(%attack.seqName))<br> =
      echo(&quot;ERROR in setArmThreadPlayOnce()&quot;);<br>    return;<=
br><br>to this--<br><br>if (!%obj.<b>armThreadPlayOnce</b>(%attack.seqNa=
me))<br>       echo(&quot;ERROR in setArmThreadPlayOnce()&quot;);<br>   =
 return;<br><br>Once I finished with the changes the player swung the sw=
ord like he should.<br><span class=3D'forumSmallBlack'><i>Edited on May&=
nbsp;22,&nbsp;2007 08:32</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;22,&nbsp;2007&nbsp;at&nb=
sp;21:28)</span>   </td></tr>
   </table>
   <b>Updated</b> - Many bug fixes<br><br>This is an untested release th=
ough, feedback welcome :D<br><span class=3D'forumSmallBlack'><i>Edited o=
n May&nbsp;23,&nbsp;2007 08:51</i></span><br><br>   <table width=3D'100%=
'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;25,&nbsp;2007&nbsp;at&nbsp;0=
7:38)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   Checked the updated code.  Upon further testing I discovered another =
call to setArmThreadPlayOnce that also needs to be changed.  It is in th=
e stun function in weapon.cs, (<b>**%vplayer.setArmThreadPlayOnce(&quot;=
h1stun&quot;);**</b>) found on line 346.  One other thing I tested was t=
hat there was CrossbowAmmo set for the sword, it doesn't need to be ther=
e for the script to work properly.  Thats all I've got, excellent resour=
ce James.  Keep the good work.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D63759'>James McGhee</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;26,&nbsp;2007&nbsp;at&nbsp=
;07:35)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   I managed to get the melee system into 1.5.2 with a few modifacations=
 mostly in relation to &quot;lightingSystem/sgLightManager.h&quot;. Ever=
y thing is working well though I had some issues with shadows for a bit =
but managed to find my way around that. <br><br>Excellent resource by th=
e way.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D59346'>Dustin Sims</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;29,&nbsp;2007&nbsp;at&nbsp;=
02:42)</span>   </td></tr>
   </table>
   @James McGhee<br><br>I also just got the melee working with 1.5.2<br>=
It started out compiling with about 22 errors (Like you said, mostly hav=
ing to do with &quot;lightingSystem/sgLightManager.h&quot;. <br><br>The =
only thing I could do was hack at it and comment out most of the offendi=
ng code.I had never used resource before and just wanted to see it in ac=
tion. <br><br>So, the question is, can you tell me how to &quot;correctl=
y&quot; get the code working or did you do something similiar.<br><br>@J=
ames Thompson<br>Is there any plans on making more updates to fix issues=
 with 1.5.2... <br>I do appreciate the resource, it's definately getting=
 me headed in the right direction.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;29,&nbsp;2007&nbsp;at&nb=
sp;08:27)</span>   </td></tr>
   </table>
   I didnt know there were issues, ill look into it<br><br>   <table wid=
th=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D57073'>Dan Keller</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;04,&nbsp;2007&nbsp;at&nbsp;0=
4:25)</span>   </td></tr>
   </table>
   <br><div class=3D'codeblock'><pre>   // Here are the Attacks we suppo=
rt<br>   hthNumAttacks =3D 3;<br>   hthAttack[0]                     =3D=
 OneHandedAttackSwing;<br>   hthAttack[1]                     =3D OneHan=
dedAttackSlice;<br>   hthAttack[2]                     =3D OneHandedAtta=
ckThrust;</pre></div><br><br>What exactly are these &quot;attacks&quot;,=
 and how does it figure out which animations to use for which attacks?<b=
r><br>Edit: Whoops, nevermind, I get it.<br><span class=3D'forumSmallBla=
ck'><i>Edited on Jun&nbsp;05,&nbsp;2007 23:03</i></span><br><br>   <tabl=
e width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D75246'>Chris Harpan</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;09,&nbsp;2007&nbsp;at&nbsp=
;05:39)</span>   </td></tr>
   </table>
   @James McGhee: Could you list those changes you needed to do to the &=
quot;lightingSystem/sgLightManager.h&quot; to get this working in 1.5.2?=
<br><br>Thanks in advance.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D63759'>James McGhee</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;09,&nbsp;2007&nbsp;at&nbsp=
;23:22)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   Its not changes to lightingSystem/sgLightManager.h it is changes in r=
elation to i.e. this reasource does not support TLK it seams, so you nee=
d to change all refrences to shadow or lighting to reflect TLK.<br><br>I=
t would be much easier to send you my versions of the reasource which Il=
l do after this post, but here are the changes I recall.<br><br>Note I'm=
 a young programmer so watch for my messy code. This is also my first at=
tempt at sharing code in a message board &lt;bow&gt; I wish you luck in =
read in scrible.<br><br><br>In player.cc add <br><br><br><div class=3D'c=
odeblock'><pre> shadowEnable =3D true;<br> shadowCanMove =3D true;<br> s=
hadowCanAnimate =3D true;</pre></div><br><br>at the top of PlayerData::P=
layerData()<br><br>Then in shapebase.cc in void ShapeBaseData::initPersi=
stFields() <br>you should add the following to the top<br><br><br><div c=
lass=3D'codeblock'><pre>addGroup(&quot;Shadows&quot;);<br>   addField(&q=
uot;shadowEnable&quot;, TypeBool, Offset(shadowEnable, ShapeBaseData));<=
br>   addField(&quot;shadowCanMove&quot;, TypeBool, Offset(shadowCanMove=
, ShapeBaseData));<br>   addField(&quot;shadowCanAnimate&quot;, TypeBool=
, Offset(shadowCanAnimate, ShapeBaseData));<br>   endGroup(&quot;Shadows=
&quot;);</pre></div><br><br>Then also in shapebase.cc in the void ShapeB=
aseData::packData(BitStream* stream) function add<br><br><br><div class=3D=
'codeblock'><pre>stream-&gt;writeFlag(shadowEnable);<br>   stream-&gt;wr=
iteFlag(shadowCanMove);<br>   stream-&gt;writeFlag(shadowCanAnimate);</p=
re></div><br><br>add the above bit of code just under <br><br><div class=
=3D'codeblock'><pre>{<br>   Parent::packData(stream);<br><br>   if(strea=
m-&gt;writeFlag(computeCRC))<br>      stream-&gt;write(mCRC);</pre></div=
><br><br>and above<br><br><br><div class=3D'codeblock'><pre>stream-&gt;w=
riteString(shapeName);<br>   stream-&gt;writeString(cloakTexName);<br>  =
 if(stream-&gt;writeFlag(mass !=3D gShapeBaseDataProto.mass))<br>      s=
tream-&gt;write(mass);</pre></div><br><br>We also need to add similar ca=
lls in void ShapeBaseData::unpackData(BitStream* stream)<br>as follows<b=
r><br><br><div class=3D'codeblock'><pre>void ShapeBaseData::unpackData(B=
itStream* stream)<br>{<br>   Parent::unpackData(stream);<br>   computeCR=
C =3D stream-&gt;readFlag();<br>   if(computeCRC)<br>      stream-&gt;re=
ad(&amp;mCRC);<br><br>   //start add<br>   shadowEnable =3D stream-&gt;r=
eadFlag();<br>   shadowCanMove =3D stream-&gt;readFlag();<br>   shadowCa=
nAnimate =3D stream-&gt;readFlag();<br>   //end add<br><br>   shapeName =
=3D stream-&gt;readSTString();<br>   cloakTexName =3D stream-&gt;readSTS=
tring();<br><br>   if(stream-&gt;readFlag())<br>.....</pre></div><br><br=
>Next in bool ShapeBase::prepRenderImage(SceneState* state, const U32 st=
ateKey,<br>                                const U32 startZone, const bo=
ol modifyBaseState)<br>I made a change<br><br><br><div class=3D'codebloc=
k'><pre>if ((mCloakLevel !=3D 0.0f || mFadeVal !=3D 1.0f || mShapeInstan=
ce-&gt;hasTranslucency()) ||<br>                (mMount.object =3D=3D NU=
LL)) //&amp;&amp; mGenerateShadow =3D=3D true)) // DSG remove/change</pr=
e></div><br><br>you will find this about midways into a for loop<br><br>=
<br><div class=3D'codeblock'><pre>for (U32 i =3D 0; i &lt; MaxMountedIma=
ges; i++)</pre></div> <br><br>Also after TSShapeInstance::smScreenError =
=3D saveError; you will find <br><br><br><div class=3D'codeblock'><pre>i=
f ((mCloakLevel !=3D 0.0f || mFadeVal !=3D 1.0f || mShapeInstance-&gt;ha=
sTranslucency()) ||<br>          (mMount.object =3D=3D NULL &amp;&amp; m=
GenerateShadow =3D=3D true)) </pre></div><br><br>comment out &quot;&amp;=
&amp; mGenerateShadow =3D=3D true))&quot;<br><br><br><div class=3D'codeb=
lock'><pre>if ((mCloakLevel !=3D 0.0f || mFadeVal !=3D 1.0f || mShapeIns=
tance-&gt;hasTranslucency()) ||<br>          (mMount.object =3D=3D NULL)=
) //&amp;&amp; mGenerateShadow =3D=3D true)) // DSG in line remove/chang=
e </pre></div> <br><br>Next a big change to void ShapeBase::renderShadow=
(F32 dist, F32 fogAmount)<br><br>I just commented it all out and added b=
elow the commented out code<br><br><br><div class=3D'codeblock'><pre>if(=
!mDataBlock-&gt;shadowEnable)<br>		return;<br><br>	shadows.sgRender(this=
, mShapeInstance, dist, fogAmount,<br>		mDataBlock-&gt;genericShadowLeve=
l, mDataBlock-&gt;noShadowLevel,<br>		mDataBlock-&gt;shadowNode, mDataBl=
ock-&gt;shadowCanMove,<br>		mDataBlock-&gt;shadowCanAnimate);</pre></div=
><br><br>In shapebase.h I also made a few changes<br><br>first remove th=
is<br><br><br><div class=3D'codeblock'><pre>#ifndef _LIGHTMANAGER_H_	<br=
>#include &quot;sceneGraph/lightManager.h&quot; <br>#endif	</pre></div><=
br><br>then at the bottom of the includes add in<br><br><br><div class=3D=
'codeblock'><pre>#include &quot;lightingSystem/sgLightManager.h&quot;<br=
>#include &quot;lightingSystem/sgObjectShadows.h&quot;</pre></div><br><b=
r>we also need to add this in<br><br><br><div class=3D'codeblock'><pre>b=
ool shadowEnable;<br>   bool shadowCanMove;<br>   bool shadowCanAnimate;=
</pre></div><br><br>which I added right below<br><br><br><div class=3D'c=
odeblock'><pre>struct ShapeBaseData : public GameBaseData {<br>  private=
:<br>   typedef GameBaseData Parent;<br><br>public:<br>   /// Various co=
nstants relating to the ShapeBaseData<br>   enum Constants {<br>      Nu=
mMountPoints =3D 32,<br>      NumMountPointBits =3D 5,<br>      MaxColli=
sionShapes =3D 8,<br>      AIRepairNode =3D 31<br>   };</pre></div><br><=
br>Also think I needed to add in<br><br><br><div class=3D'codeblock'><pr=
e>protected:<br>	sgObjectShadows shadows;</pre></div><br><br>just above<=
br><br><br><div class=3D'codeblock'><pre>struct MountedImage {<br>      =
ShapeBaseImageData* dataBlock;<br>      ShapeBaseImageData::StateData *s=
tate;<br>      ShapeBaseImageData* nextImage;<br>      StringHandle skin=
NameHandle;<br>      StringHandle nextSkinNameHandle;</pre></div><br><br=
>That should do it for shapebase.cc and .h<br><br>In shapeImage.cc<br><b=
r>I added<br><br><br><div class=3D'codeblock'><pre>lightManager-&gt;sgRe=
gisterGlobalLight(&amp;mLight);</pre></div><br><br>to the bottom of void=
 ShapeBase::MountedImage::registerImageLights function<br><br>I think th=
at should cover it how ever I may have over looked one of the changes, I=
 dont have the means to upload at the moment though will e-mail my versi=
on of the melee .cc and .h files to Chris<br><br>   <table width=3D'100%=
'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D88322'>Rafael Marques</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;10,&nbsp;2007&nbsp;at&nb=
sp;14:23)</span>   </td></tr>
   </table>
   Can you please share with me too?<br><br>Thanks!<br><br>   <table wid=
th=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D63759'>James McGhee</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;10,&nbsp;2007&nbsp;at&nbsp=
;15:27)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   @ Rafael Marques,<br>I didn't see an e-mail address in your profile b=
ut you can download the zip from<br><br>(Link removed)<br><br>The main r=
esource link has been updated by James Thompson.<br><span class=3D'forum=
SmallBlack'><i>Edited on Jun&nbsp;11,&nbsp;2007 13:28</i></span><br><br>=
   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;10,&nbsp;2007&nbsp;at&nb=
sp;15:48)</span>   </td></tr>
   </table>
   Thanks James,<br><br>Updated resource with 1.5.2 integration<br><br> =
  <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D75246'>Chris Harpan</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;10,&nbsp;2007&nbsp;at&nbsp=
;22:43)</span>   </td></tr>
   </table>
   Thank you very much James McGhee, we appreciate it :)<br><br>   <tabl=
e width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D63759'>James McGhee</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;11,&nbsp;2007&nbsp;at&nbsp=
;13:22)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   Something I have noticed but haven't had much of a chance to look int=
o is when I switch over to crossbow the avatar is aiming strait up in th=
e air though shoots level. Would this be a problem with the animations o=
r might this be in code some where.<br><br>There is also that when the c=
rossbow is mounted and the player looks up and down there is no animatio=
n of the weapon though is of the head, of course we still shoot at what =
we are looking at but this is something I would like to fix as I need bo=
th ranged weapons and melee for what I want to do.<br><br>I am assuming =
that if this is in the code and not with the animation files then it wou=
ld be in shapeimage.c, I get the feeling there is something more we shou=
ld be doing in code or in script as there is no aiming the crossbow with=
 the resource in place. I have only seen the resource in 1.5.1 and 1.5.2=
, was this also a problem in 1.4?<br><br><br>(PS)<br>As James Thompson h=
as the resource updated at the main link I'll be bringing down the link =
I posted above later today (6-11-07), just a heads up.<br><span class=3D=
'forumSmallBlack'><i>Edited on Jun&nbsp;11,&nbsp;2007 13:28</i></span><b=
r><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D90318'>Sanford Brown Colle=
ge (#0033)</a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;12,&nbsp;=
2007&nbsp;at&nbsp;03:27)</span>   </td></tr>
   </table>
   @ James McGhee<br><br>You may have already caught this, but to fix th=
e look animation for the crossbow go in player.cc<br><br>find:<br><br><d=
iv class=3D'codeblock'><pre>   // SphyxGames -&gt; Melee<br>	//if (mArmA=
nimation.thread) {<br>		// TG: Adjust arm position to avoid collision.<b=
r>	//	F32 tp =3D mControlObject? 0.5:<br>	//	 (mHead.x - mArmRange.min) =
/ mArmRange.delta;<br>	//	mShapeInstance-&gt;setPos(mArmAnimation.thread=
,mClampF(tp,0,1));<br>	//}<br>   // SphyxGames &lt;- Melee</pre></div><b=
r><br><br>replace with:<br><br><div class=3D'codeblock'><pre>    //Sphyx=
Games -&gt; Melee<br>	if (!mArmThreadPlayOnce) {<br>		if (mArmAnimation.=
thread) {<br>		//	 TG: Adjust arm position to avoid collision.<br>			F32=
 tp =3D mControlObject? 0.5:<br>			(mHead.x - mArmRange.min) / mArmRange=
.delta;<br>			mShapeInstance-&gt;setPos(mArmAnimation.thread,mClampF(tp,=
0,1));<br>		}<br>	}<br>    //SphyxGames &lt;- Melee</pre></div><br><br>I=
'm not sure why that was commented out before, so if I just broke someth=
ing there let me know :)<br><br>Seemed to work for me though.<br><span c=
lass=3D'forumSmallBlack'><i>Edited on Jun&nbsp;13,&nbsp;2007 02:31</i></=
span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D63759'>James McGhee</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;12,&nbsp;2007&nbsp;at&nbsp=
;12:46)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   Thanks<br><br>I dont recall commenting that out actually, when I get =
back (at the day job atm) Ill take a look and see if I can figure out wh=
y it was removed in the first place.<br><br>... Em odd error when trying=
 to post to the board.<br><span class=3D'forumSmallBlack'><i>Edited on J=
un&nbsp;12,&nbsp;2007 12:50</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2007&nbsp;at&nbsp;0=
8:09)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   I'm getting an odd error when I try to use a different melee weapon o=
ther than the sword supplied.  I have some other melee weapons that I'm =
trying to convert to be used with this code but when I mount and trigger=
 them I get this weird debug error.  It says &quot;xLeftDir&quot; is bei=
ng called without being defined.  Any thoughts?  It only does it with we=
apons I add, the supplied sword works fine.  Is there anything special I=
 have to do to my weapons before I export them.  I added the new damage =
nodes and I thought that was all that was needed.  Please, I need some i=
nput.<br><span class=3D'forumSmallBlack'><i>Edited on Jun&nbsp;13,&nbsp;=
2007 08:10</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70778'>Ronaldo Fleming</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;26,&nbsp;2007&nbsp;at&n=
bsp;03:14)</span>   </td></tr>
   </table>
   Hello, trying this resource on TGEA, but when i load a mission it cra=
shes in the middle of the loading phase, the last lines on my log are:<b=
r><br>*** Phase 2: Download Ghost Objects<br>Mapping string: MissionStar=
tPhase2Ack to index: 1<br><br>Aparently some error while ghosting, anyon=
e have any idea what might be happening?<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D63759'>James McGhee</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;29,&nbsp;2007&nbsp;at&nbsp=
;02:51)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   I have yet to start playing with TGEA but am interested in the issue,=
 did you simply drop this source in or did you add it to existing files?=
<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;29,&nbsp;2007&nbsp;at&nb=
sp;09:15)</span>   </td></tr>
   </table>
   I have no  trouble with this and TGEA, make sure you integrated it pr=
operly<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70778'>Ronaldo Fleming</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;03,&nbsp;2007&nbsp;at&n=
bsp;00:08)</span>   </td></tr>
   </table>
   Yes, excuse my stupidity but i did have a error on my integration, me=
lee working on TGEA now, but i haver another issue, when the attack anim=
ations are running my left/right mouselook gets slower, soon as animatio=
n ends it's back to normal mouselook speed, what can be done for that st=
op hapenning ?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70778'>Ronaldo Fleming</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;03,&nbsp;2007&nbsp;at&n=
bsp;20:41)</span>   </td></tr>
   </table>
   And another thing, when i try it on multiplayer, i create a server, i=
t goes ok, and when i try to join with the other machine, it stops in th=
e midle of the datablocks loading and says that it's missing a sequence =
file, does anyone know why that happens?<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D63759'>James McGhee</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;03,&nbsp;2007&nbsp;at&nbsp=
;21:20)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   With you above question, are you asking why turning left/right gets s=
tiff while attacking?<br><br>Its something I recently noticed as well . =
. . I dont have an answer for you off the top though, has any one else n=
oticed it?<br><br>As to multi-player thats something I havent tested at =
all, aside from checking the obvious (make sure all clients have all nee=
ded files) you could post the error as it shows in console or log and Il=
l be happy to try and help figure it out.<br><br>Also if you have made a=
ny other changes so I can try to reproduce the error.<br><span class=3D'=
forumSmallBlack'><i>Edited on Jul&nbsp;03,&nbsp;2007 21:20</i></span><br=
><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70778'>Ronaldo Fleming</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;03,&nbsp;2007&nbsp;at&n=
bsp;22:39)</span>   </td></tr>
   </table>
   Answering to my own question, for whoever might want to use it on mul=
tiplayer, i debugged it and found out that it couldn't read the new anim=
ations from the stream, from sequence 32 on it would read messed informa=
tion instead of the sequence paths, so i used the fix already posted her=
e by Aun Arinyasak, increasing the stream size so it would fit the new s=
equence paths.<br><br>Go to gameConnectionEvents.cpp and change:<br><br>=
U8 buf[1500];<br>BitStream stream(buf, 1500);<br><br>to:<br><br>U8 buf[2=
000];<br>BitStream stream(buf, 2000);<br><br>And about the other questio=
n, yes, it's about getting stiff to turn left/right while attacking.<br>=
<br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D70778'>Ronaldo Fleming</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;20,&nbsp;2007&nbsp;at&n=
bsp;22:25)</span>   </td></tr>
   </table>
   Well, answering to my own question again, it seems that the stiffness=
 while attacking is a feature of this resourse, if you want to turn it o=
ff, go to player.cpp and substitute this:<br><br>F32 y;<br>      if (mAr=
mThreadPlayOnce)<br>      {<br>         //The divisor will increase or d=
ecrease the turning rate...<br>         y =3D move-&gt;yaw/6.28f;<br>   =
      if (y &gt; M_PI) y -=3D M_2PI;<br>      }<br>      else<br>      {=
<br>         y =3D move-&gt;yaw;<br>         if (y &gt; M_PI) y -=3D M_2=
PI;<br>      }<br><br>with this:<br><br>F32 y =3D move-&gt;yaw;<br>if (y=
 &gt; M_PI) y -=3D M_2PI;<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D88310'>Kenneth Johnston</a=
><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;25,&nbsp;2007&nbsp;at&=
nbsp;05:35)</span>   </td></tr>
   </table>
   I still get the ERROR in SetArmThreadPlayOnce when trying to fire the=
 sword animations off. ive been through this post and the other melee po=
st several times trying to find the error with no success. I am using TG=
E 1.5.2 i merged the code with winmerge and tried all the solutions to t=
his i can find with no luck, if anyone has the solution to this i would =
be very gratefull. ive spent many hours trying to get this working....<b=
r><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;26,&nbsp;2007&nbsp;at&nbsp;0=
7:49)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Kenneth<br><br>What is the exact error given in the console?  It to=
ok me some time to figure out this problem in the first place.  I would =
be glad to help, although I'm still only working in 1.4.2.  Most of the =
melee code is the same for either version.  Recheck all your code and ma=
ke sure you have changed all calls to SetArmThreadPlayOnce.  There was a=
 small error with that call originally but it should be fixed in the lat=
est download.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D48826'>Treyd</a><span clas=
s=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jul&nbsp;27,&nbsp;2007&nbsp;at&nbsp;14:40)=
</span>   </td></tr>
   </table>
   Can anyone tell me how to convert this to a simple keypress melee sys=
tem ie.  not using the mouse look to control the swords movement?<br><br=
>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Aug&nbsp;02,&nbsp;2007&nbsp;at&nb=
sp;08:21)</span>   </td></tr>
   </table>
   <b>Version 1.1</b> Is in the works, if anyone would like to request a=
ny features or fixes please list them.<br>p.s. I will go through all the=
 comments and fix any bugs that you guys have found already<br><br>Edit:=
 2.0 sounded too big so i changed it to 1.1 ^^<br><span class=3D'forumSm=
allBlack'><i>Edited on Aug&nbsp;10,&nbsp;2007 16:37</i></span><br><br>  =
 <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Aug&nbsp;10,&nbsp;2007&nbsp;at&nbsp;1=
5:31)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   Hi James.<br><br>It's nice to see your still working hard on this.  I=
 do have one little suggestion for the next version.  In the onImageInte=
rsect() method you originally had directly called applyDamage().  For be=
tter flow I changed this to call the ShapeBase::onDamage() method.  This=
 allowed me to change the effect of the damage before it was applied.  S=
uch as, applying character strength or defense.  It also allowed me to a=
pply the victim's modifier stats and change the final damage given.  It =
also leaves the door open for any other changes you might think of, plus=
 you only have to have one code block to do all this.  The change is qui=
te simple to make, I will post it.  I should note that in my project I r=
emoved all calls to stunPlayer and pushBack as I didn't need them active=
 at that point.  There should be no problem using these methods after th=
e change but I have yet to test it.<br><br>Here is the code you need for=
 the change:<br><br><br><div class=3D'codeblock'><pre>%damage =3D %attac=
k.damageAmount;<br>%damageType =3D &quot;melee&quot;;<br><br>   %target.=
damage(%player,%pos,%damage,%damageType);</pre></div><br><br>You can jus=
t write the call like this:<br><br><br><div class=3D'codeblock'><pre>%ta=
rget.damage(%player,%pos,%attack.damageAmount,&quot;melee&quot;);</pre><=
/div><br><br>Other than that, I think everything is great.<br><span clas=
s=3D'forumSmallBlack'><i>Edited on Aug&nbsp;10,&nbsp;2007 15:38</i></spa=
n><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D87697'>Yelitza Garcia</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;06,&nbsp;2007&nbsp;at&nb=
sp;22:19)</span>   </td></tr>
   </table>
   Hello! Great resource.<br>I'm also trying to integrate this with TGEA=
 but with no luck. <br>My game is also crashing right before the ghost o=
bjects are received.<br>Ronaldo, how did you fix this problem? (it seems=
 to be the same problem)<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D55456'>Kevin Lee</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Sep&nbsp;14,&nbsp;2007&nbsp;at&nbsp;20=
:47)</span>   </td></tr>
   </table>
   I am trying to get this integrated into a new build of TGE1.5.2 with =
no luck. I can see the orc with the sword in hand but no animations are =
playing. Does anyone have this working with a new build of the TGE1.5.2 =
that can post what they did to make this work correctly and also make th=
e sword damage work when they hit the AIPlayer.<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Oct&nbsp;09,&nbsp;2007&nbsp;at&nbsp;0=
3:16)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Kevin<br><br>Double check you entered all the new code for the mele=
e system corectly.  All of the required code is there for the animations=
 and the sword damage effect.  I would suggest going over every step twi=
ce to make sure everything was changed accordingly.<br><br>   <table wid=
th=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62032'>Tijs</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;06,&nbsp;2007&nbsp;at&nbsp;18:27)<=
/span>   </td></tr>
   </table>
   after implementing this resource it says something about me having th=
e &quot;wrong version of the game or not the right art&quot; when i try =
to launch the game (when i connect to my own (listen)server). any idea w=
hy this happens?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;06,&nbsp;2007&nbsp;at&nb=
sp;19:26)</span>   </td></tr>
   </table>
   You probably havnt added the sword models or some animations or somet=
hing properly.<br><br>Check your data folder.<br><br>   <table width=3D'=
100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62032'>Tijs</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;06,&nbsp;2007&nbsp;at&nbsp;19:41)<=
/span>   </td></tr>
   </table>
   well the strange thing is: ive added a sword model as well as some an=
imations. now when i run the new executable, after loading the things it=
 starts whining about my related artwork. when i use the old executable,=
 with the same script &amp; data ofcourse, it wont do this, obviously th=
e swinging the sword thing doesnt work either ;)<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;07,&nbsp;2007&nbsp;at&nb=
sp;16:11)</span>   </td></tr>
   </table>
   well the new exe will check for the extra animations, are you sure yo=
u've added them to player.cs?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62032'>Tijs</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;07,&nbsp;2007&nbsp;at&nbsp;16:52)<=
/span>   </td></tr>
   </table>
   Yer, basically i just extracted what was in the zip. except for the s=
ource files in which is simply added every bit you marked with // -&gt; =
melee. <br><br>edit:<br>i got it working now using your source files, re=
storing the lighting stuff. now i just got to reimplement my old stuff. =
ne ways, its all looking good, good resource. though i think you must ha=
ve left out a comment somewhere since i couldnt get it running copy past=
ing the stuff you commented only.<br><span class=3D'forumSmallBlack'><i>=
Edited on Nov&nbsp;07,&nbsp;2007 20:46</i></span><br><br>   <table width=
=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;07,&nbsp;2007&nbsp;at&nb=
sp;21:55)</span>   </td></tr>
   </table>
   Ill look at it,<br><br>Glad you got it working!<br><br>   <table widt=
h=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D78514'>Thomas Huehn</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;10,&nbsp;2007&nbsp;at&nbsp=
;20:53)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5<=
/span>   </td></tr>
   </table>
   nvm we got it work today :)<br><br>Did anybody managed to make a cust=
om slash animation for a custom model ? After many attempts the result w=
as always: while standing it looks ok, but while running it looks crappy=
. I use fragmotion to make the animation and milkshape to export. I did =
read several threads about how to make a blended animation and i made a =
look animation. Before I waste more time with trying to get it work i'd =
like to know if its possible with this tools ;)<br><span class=3D'forumS=
mallBlack'><i>Edited on Nov&nbsp;23,&nbsp;2007 21:59</i></span><br><br> =
  <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;17,&nbsp;2007&nbsp;at&nb=
sp;13:40)</span>   </td></tr>
   </table>
   Removed megaupload link because... it sux<br><br>   <table width=3D'1=
00%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D88597'>Zach Broderick</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;18,&nbsp;2007&nbsp;at&nb=
sp;02:29)</span>   </td></tr>
   </table>
   I'm still having trouble with the whole setArmPlayOnce thing.<br><br>=
Downloaded the most recent RAR.<br>Placed the files in the corresponding=
 folders.<br>Rebuilt TGE 1.5.2 using MVS 2005 Professional (0 error(s), =
0 warning(s),  7 succeeded, 0 failed, 0 skipped)<br>Deleted all DSO's in=
 Torsion and compiled (224 scripts(s), 2 error(s) Lighteditor errors tha=
t is)<br><br>In game when I left click nothing happens. In Torsion it sa=
ys...<br>starter.fps/server/scripts/weapon.cs (165): Unknown command set=
ArmPlayOnce.<br><br>Ive tried fiddling with a few things as suggest by a=
 few posts here but with no success. :(<br>Anyone have any answers yet? =
I have a game due very soon for a college course and melee combat is req=
uired.<br><br>EDIT: I figured it out, I was compiling/building the engin=
e and I had it in debug mode, so it wasn't overwriting my torquedemo.exe=
 file, and instead making a whole new one. I of course was running the o=
ld .exe and not the newly compiled one<br><span class=3D'forumSmallBlack=
'><i>Edited on Nov&nbsp;21,&nbsp;2007 01:56</i></span><br><br>   <table =
width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;18,&nbsp;2007&nbsp;at&nb=
sp;12:54)</span>   </td></tr>
   </table>
   I think you need too change it too:<br>setArmThreadPlayOnce <br><br>T=
he answer is in the above comments...<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;28,&nbsp;2007&nbsp;at&nbsp;0=
9:59)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   Hey James<br><br>Still working hard I see.  How's version 1.1 coming =
along?<br><br>I have an interesting question I'm hoping you might shed s=
ome light on for me.  It is about the custom look animation.  I would li=
ke to know exactly what it does.  I've looked through the script and can=
't seem to find any calls for this.  So my question would be why is this=
 needed, what does it do, and is it possible to remove it.  The reason I=
 ask is I've been working on character models and if I need this custom =
Look animation what do I need to have to add to the model's animation li=
st for it to work with your add-on.<br><br>Thanks<br><br>   <table width=
=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62032'>Tijs</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;28,&nbsp;2007&nbsp;at&nbsp;19:08)<=
/span>   </td></tr>
   </table>
   The call for this is in WeaponImage::onMount. the use is, that when &=
quot;looking&quot; you can for example hold the sword down, but when usi=
ng a crossbow still keep it up as if you are aiming. i think in your mod=
el all you need is as many look animations as you will need (for differe=
nt types of weapons really) and then adding them to the WeaponImageData =
as done with the sword<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;28,&nbsp;2007&nbsp;at&nb=
sp;21:39)</span>   </td></tr>
   </table>
   Version 1.1 has suffered laziness<br>I need to integrate melee into m=
y new project soon though, so will do it then.<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;29,&nbsp;2007&nbsp;at&nbsp;0=
9:48)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @Tijs<br><br>Thanks for the info.  I must have missed that call in th=
e WeaponImage section, I'll have to look again.  Although, I don't think=
 mine is working properly.  When I move the mouse to look up and down th=
e sword also moves.  If you could post how the code sould look that woul=
d help.  I will go through and check my code again and see if there is a=
n error.  One question, does this apply to both first and third person o=
r only one?<br><br>Thanks again for the help.<br><br><br><br>@James<br><=
br>Laziness is expected.  After I've been working on a chuck of code for=
 a while I have to take a break for a day and let my brain cool off.  I'=
ve been doing some modifcations to the original scripts and if I come up=
 with anything interesting I'll let you know.  So far I've just been cha=
nging it to suit my needs and work well with my project.  But, if I crea=
te any good add-ons I'll give you a shout.  My C++ isn't that great so I=
've mainly been working in the scripts, but I'm learning more as I go.  =
Something I noticed is when the sword swings it is not straight.  It hit=
s almost on the flat side instead of on the blade.  Something more to wo=
rk on.<br><br>I hope you overcome your laziness and good luck.<br><br>  =
 <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D62032'>Tijs</a><span class=
=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;29,&nbsp;2007&nbsp;at&nbsp;17:50)<=
/span>   </td></tr>
   </table>
   I think this is the function as you download it here:<br><br><br><div=
 class=3D'codeblock'><pre>function WeaponImage::onMount(%this,%obj,%slot=
)<br>{<br>   // Images assume a false ammo state on load.  We need to<br=
>   // set the state according to the current inventory.<br>   if (%obj.=
getInventory(%this.ammo))<br>      %obj.setImageAmmo(%slot,true);<br><br=
>   if (%this.customLookAnim !$=3D &quot;&quot;)<br>   {<br>      %obj.s=
etArmThread(%this.customLookAnim);<br>   }<br>   else<br>   {<br>      %=
obj.setArmThread(&quot;look&quot;);<br>   }<br>}</pre></div><br><br>the =
statements about the ammostate are old, and worth changing imo. bit stra=
nge to be talking about ammo when using melee weapons, obviously.<br><br=
>the rest is new, and its use is obvious aswell. im not sure about your =
question about firstperson change, but i think it applies to that aswell=
.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Nov&nbsp;30,&nbsp;2007&nbsp;at&nbsp;0=
9:32)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   Thanks Tijs<br><br>This is how mine looks currently.<br><br><br><div =
class=3D'codeblock'><pre>function WeaponImage::onMount(%this,%obj,%slot)=
<br>{<br>   // if item is a melee weapon it has no ammo so do nothing<br=
>   if (%this.item.type !$=3D &quot;Melee&quot;)<br>   {<br>   // Images=
 assume a false ammo state on load.  We need to<br>   // set the state a=
ccording to the current inventory.<br>   if (%obj.getInventory(%this.amm=
o))<br>      %obj.setImageAmmo(%slot,true);<br>   }<br>}</pre></div><br>=
<br>That explains why my character is not moving correctly.  As you can =
see I changed the query about ammo if not using a projectile weapon.  I =
was having some trouble with that every time I &quot;Fired my Sword&quot=
;.  Although I don't know why I am missing the animation change part.  I=
 shall add that and see what happens.<br><br>Thank you for your help.<br=
><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D55456'>Kevin Lee</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;24,&nbsp;2007&nbsp;at&nbsp;20=
:37)</span>   </td></tr>
   </table>
   I have implemented the melee successfully, but I am having problems g=
etting my character to use the .dsq files. I created my character in 3DS=
 Max and I have some of my own .dsq animations and his .cs files, but wh=
en I add the .dsq files for the melee he doesn't play the animations. I =
have checked this with the Orc and he works fine with them. Can someone =
tell me if I might be missing something or if it might be because my bip=
ed isn't setup the exactly the same as the Orc (meaning that I don't hav=
e the same number of spine links and I have more fingers, and 2 ponytail=
s). When I exported my character I followed the tutorials from http://to=
rque.smdlabs.com/.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;28,&nbsp;2007&nbsp;at&nbsp;0=
9:45)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Kevin<br><br>In order to use the supplied animations your character=
 must have the same skeletal bone structure as Kork.  If you want to use=
 a custom bone structure you will have to create your own animations.  P=
erhaps if you posted how your character is setup I might be able to offe=
r some sollutions.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D55456'>Kevin Lee</a><span =
class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;28,&nbsp;2007&nbsp;at&nbsp;18=
:12)</span>   </td></tr>
   </table>
   Thanks for the info. I was afraid of that, but it seems that I&quot;l=
l just have to start creating all the animations for the melee system th=
at I need. The good news is that I do have access to a motion capture sy=
stem now so it should be pretty easy to finish.<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Dec&nbsp;31,&nbsp;2007&nbsp;at&nbsp;1=
0:04)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   Just a little help note for you Kevin.  Don't forget that if you crea=
te your own melee animations you still need a custom look animation.  I'=
m still working on that myself so unfortunately I can't help you very mu=
ch there yet.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D113527'>Rushh</a><span cla=
ss=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;09,&nbsp;2008&nbsp;at&nbsp;15:25=
)</span>   </td></tr>
   </table>
   I just don't get it. Is there any sword image intersecting with playe=
r in totally pure coding in .cs instead of implementing the .cc and .h f=
ile? My torque engine doesnt have the engine folder to store the .cc and=
 .h files. So i can't use the .cc or .h file...<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;11,&nbsp;2008&nbsp;at&nbsp;0=
8:44)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @rushh<br><br>Do you own a licensed copy of Torque?<br><br>   <table =
width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D113527'>Rushh</a><span cla=
ss=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;11,&nbsp;2008&nbsp;at&nbsp;09:51=
)</span>   </td></tr>
   </table>
   No...thats y i have problem using the .cc and .h file<br><br>   <tabl=
e width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;11,&nbsp;2008&nbsp;at&nbsp;1=
9:01)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   In that case I don't think it is possible.  The code uses node detect=
ion for the weapon to pick-up when it hits something and I don't think y=
ou can do that with just the scripting language.  Plus, the animations a=
re all controlled throught the engine so if you can't change anything th=
ere you can't add any animations.  If you are really serious about using=
 Torque you should buy a license.  Then you will be able to do so much m=
ore with it.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D113527'>Rushh</a><span cla=
ss=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;14,&nbsp;2008&nbsp;at&nbsp;18:28=
)</span>   </td></tr>
   </table>
   I got the license now..so do i have to configure anything first befor=
e i use the files i downloaded?  Mean when i start torque, the files in =
the engine folder will also be executed?<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85133'>Greg M.</a><span cl=
ass=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;14,&nbsp;2008&nbsp;at&nbsp;21:4=
5)</span>   </td></tr>
   </table>
   the core system file are used to compile changes to the core to get a=
 new .exe file. The TDN has tutorials on how to recompile your version s=
o you can do core mods.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;15,&nbsp;2008&nbsp;at&nbsp;0=
8:55)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ rushh<br><br>You have to do as Greg M says.  You can't just add the=
 files to the folder.  The files in the engine folder are only used to c=
ompile the engine file eg. torque.exe.  If you are not proficient in C++=
 then I suggest you start by learning a bit.<br><br>If you have knowledg=
e of C++ then you can skip the learning and dig into it.  Although it's =
not as simple as just copying the files into the folders.  Your better o=
ff opening the new files and the old files and just changing or adding t=
he new code.  After all changes are done you just need to recompile the =
engine.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64524'>Michael K.</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;26,&nbsp;2008&nbsp;at&nbsp;1=
7:21)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   Great resource! <br><br>I'm having a bit of trouble though... when i =
swing the sword my player stops in the middle of the swing animation and=
 starts to shiver... i can still move the character and he will run but =
he doesn't stop shivering with his sword. I have done all the the &quot;=
setArmThreadPlayOnce&quot; corrections in the posts above, but i still c=
an't seem to get it work. I don't even get an error in the console...<br=
><br>I'm using the model and the animations included in this resource. <=
br>I am also using AFX, but i don't think that AFX is causing this probl=
em...<br><br>Thanks for any help :-)<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;31,&nbsp;2008&nbsp;at&nbsp;0=
9:20)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Michael K.<br><br>It almost sounds like you have two conflicting an=
imations.  Quick question, after the player starts to shiver can you swi=
ng the sword again or is it just frozen that way?  I haven't gotten arou=
nd to purchasing AFX yet so I don't know what their code is like.  The f=
irst thing I usally do when testing new code is add little &quot;echo&qu=
ot;  lines so I know if the code is working or not.  Search out the func=
tions that trigger the animation and put something like echo&quot;melee =
is playing&quot;; for the melee actions and echo&quot;fx is playing&quot=
;; for the AFX actions.  That might help to see if the two codes are con=
flicting.  If you can't find anything we'll try something else.<br><br> =
  <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64524'>Michael K.</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jan&nbsp;31,&nbsp;2008&nbsp;at&nbsp;0=
9:27)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @Ryan<br><br>the players animation freezes. If i run then i get a fun=
ny looking animation blend between the player running and still swing sh=
ivering :-)<br><br>I'll try the echo suggestion, lets see what the conso=
le spits out.<br><br>Thanks, <br>Michael<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;08,&nbsp;2008&nbsp;at&n=
bsp;01:36)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   Can you put a list of functions changed in player.cc and player.h? I =
want to know what I am modifying...<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;08,&nbsp;2008&nbsp;at&nbsp;0=
9:48)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Tyler<br><br>To see what is changed just open the file in your scri=
pt editor and do a search for this<br><br>// SphyxGames -&gt; Melee<br><=
br>all changed or added code is marked this line.  If this is not what y=
ou meant please be more specific.<br><span class=3D'forumSmallBlack'><i>=
Edited on Feb&nbsp;08,&nbsp;2008 09:49</i></span><br><br>   <table width=
=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;10,&nbsp;2008&nbsp;at&n=
bsp;04:06)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   Ok, thx<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;10,&nbsp;2008&nbsp;at&n=
bsp;04:46)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   I seem to be getting these error messages:<br><br><div class=3D'codeb=
lock'><pre>Line Location Tool:0: &quot;__ZN9ShapeBase24UpdateImageRaycas=
tDamageEfj&quot;, referenced from:<br>      __ZTV8AIPlayer in aiPlayer.o=
<br>      __ZTV6Player in player.o<br>      symbol(s) not found<br><br>L=
ine Location Tool:0: &quot;ShapeBase::UpdateImageRaycastDamage(float, un=
signed int)&quot;, referenced from:<br>      vtable for AIPlayerin aiPla=
yer.o<br>      vtable for Playerin player.o<br>      symbol(s) not found=
<br>      collect2: ld returned 1 exit status</pre></div><br><br>I'm sor=
ry, I'm not a very good coder. I feel like these are obvious to me thoug=
h.<br><span class=3D'forumSmallBlack'><i>Edited on Feb&nbsp;10,&nbsp;200=
8 05:37</i></span><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;12,&nbsp;2008&nbsp;at&n=
bsp;21:18)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   Hmm? Weird, don't worry, no problem now. I have no idea why it kept f=
ailing when compiling. No worries know, it's all ok.<br><br>   <table wi=
dth=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D114899'>Ariel Decena</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;13,&nbsp;2008&nbsp;at&nbs=
p;07:06)</span>   </td></tr>
   </table>
   I am also using TGEA and also having this problem<br><br>*** Phase 2:=
 Download Ghost Objects<br>Mapping string: MissionStartPhase2Ack to inde=
x: 1<br><br>I already doubled checked the integration with all those (//=
 SphyxGames -&gt; Melee) changes.<br>however the problem persists.<br><b=
r>I wonder what could I be missing..<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D114899'>Ariel Decena</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;13,&nbsp;2008&nbsp;at&nbs=
p;09:48)</span>   </td></tr>
   </table>
   Darn I recode the whole changes again and it works now.. :)<br><br>ed=
it:<br> no errors no crash now but still having problem with the attack =
animation..<br> the animation seems like stuck but move very fast at one=
 point and cycle with that.<br> hmmm what is it this time<br><span class=
=3D'forumSmallBlack'><i>Edited on Feb&nbsp;13,&nbsp;2008 10:06</i></span=
><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D114899'>Ariel Decena</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;13,&nbsp;2008&nbsp;at&nbs=
p;10:13)</span>   </td></tr>
   </table>
   There it is on the updatelookanimation, I must comment out the first =
 if (mArmAnimatio.thread ...<br>then paste in the changes...<br>now happ=
y :)<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;14,&nbsp;2008&nbsp;at&n=
bsp;02:37)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   I seem to not be able to spawn a sword. I put everything where it sho=
uld be, and I compiled. No crash, no compile error, I don't think it is =
loading sword.cs, but I can't find out why.<br><br>   <table width=3D'10=
0%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;17,&nbsp;2008&nbsp;at&n=
bsp;23:29)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   hello? Anyone know why I can't spawn a sword?<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;18,&nbsp;2008&nbsp;at&nbsp;0=
1:30)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Tyler<br><br>Did you add the &quot;exec&quot; command in game.cs fi=
le for sword.cs file.  Also make sure the file locations in sword.cs are=
 correct with where you placed the file in your folders.  If that is all=
 correct then it should work.<br><br>edit:<br><br>did you try to add the=
 sword from the editor or just add the spawn command to the mission file=
 and then load the file?<br><span class=3D'forumSmallBlack'><i>Edited on=
 Feb&nbsp;18,&nbsp;2008 01:36</i></span><br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;18,&nbsp;2008&nbsp;at&n=
bsp;06:25)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   I added the sword.cs file. I also tried spawning the sword every way =
I know. Including those 2.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;18,&nbsp;2008&nbsp;at&nb=
sp;10:12)</span>   </td></tr>
   </table>
   Send me your console.log file: james AT niodesign DOT com<br><br>   <=
table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Feb&nbsp;23,&nbsp;2008&nbsp;at&nbsp;1=
4:32)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @Tyler<br><br>In the sword.cs file make sure this line (shapeFile =3D=
 &quot;~/data/shapes/sword/rune_blade01.dts&quot;;) points to the right =
directory where you put the sword object.  Even if there is no .cs file =
for a .dts object it should still apear in the mission editor under stat=
ic shapes or one of those catagories if it is in your folder hierarchy. =
 If the sword.cs file is loading properly then the object should be in t=
he weapon catagory but try looking in the other places and it should be =
there.<br><br>Question, have you tried giving the sword to your characte=
r yet? If that does not work don't forget you need to add (maxInv[Sword]=
 =3D 1;) to the player datablock to allow the player to inventory the sw=
ord.  If the player gets his sword after loading the game then all shoul=
d be fine.<br><br>Also something that might be happening is torque has a=
 limit on the length of the file location so if you create to many subfo=
lders it makes for a long string name and torque errors once it reaches =
the limit.  Thus the file is not loaded.  If this is not your problem it=
 is still good to know about.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D20289'>Pisal Setthawong</a=
><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;02,&nbsp;2008&nbsp;at&=
nbsp;10:48)</span>   </td></tr>
   </table>
   @Michael <br><br>With AFX1.0.2 for TGE1.52, I found that the simple m=
elee system would not work.  This has to do with the fact that the AFX s=
ystems seems to do alot of overiding of the arm animation which causes t=
he animation for the melee to be overriden during the update process cau=
sing the animation to shutter and repeat without completing.<br><br>I've=
 done a quick hack to fix it, but I haven't checked yet if it affects an=
y other part of AFX.  I am double checking it at this moment.<br><br>   =
<table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D114899'>Ariel Decena</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;03,&nbsp;2008&nbsp;at&nbs=
p;06:47)</span>   </td></tr>
   </table>
   Darn, I am using AFX 1.1 for TGEA and combining it with this,  the an=
imation stop in the middle ..<br>and it is stuck there for good.<br><br>=
@Pisal please post your findings..<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D20289'>Pisal Setthawong</a=
><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;04,&nbsp;2008&nbsp;at&=
nbsp;16:43)</span>   </td></tr>
   </table>
   @Ariel<br><br>My modification for the TGE and AFX was to modify the P=
layer::updateAnimation method so that the AFX doesn't override the arm a=
nimation.  <br><br>Regarding the fix I've used, I'm not sure if I could =
post AFX specific code here.  I'm not sure how to proceed, maybe start a=
 thread in the forum in the AFX section?<br><br>p.s. on a short note, I =
don't have AFX 1.1 for TGEA so I can't really say if my fix would work t=
here.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D114899'>Ariel Decena</a><s=
pan class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;05,&nbsp;2008&nbsp;at&nbs=
p;03:05)</span>   </td></tr>
   </table>
   Yes please post your code in AFX section..<br>thanks<br><br>   <table=
 width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D20289'>Pisal Setthawong</a=
><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;09,&nbsp;2008&nbsp;at&=
nbsp;18:21)</span>   </td></tr>
   </table>
   p.s.  Seems that Jeff Faust already posted the solution in the privat=
e forums.<br><br>I have to apologize for answering late, and I just figu=
red that I even posted the wrong method :-/  Too many late nights of hac=
king is to blame :P<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D106277'>Nathan Kent</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Mar&nbsp;29,&nbsp;2008&nbsp;at&nbsp=
;13:18)</span>   </td></tr>
   </table>
   I have a problem, whenever I try to swing the sword while moving, my =
player jerks towards (-infinity, 0 0)<br><span class=3D'forumSmallBlack'=
><i>Edited on Mar&nbsp;29,&nbsp;2008 13:37</i></span><br><br>   <table w=
idth=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;02,&nbsp;2008&nbsp;at&nbsp;1=
0:41)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Nathan<br><br>If you can, please be more specific.  What do you mea=
n by &quot;jerks&quot;?  Does you player swing the sword while not in mo=
tion?  Are there any errors in the console?  The first thing you should =
check is that you changed/added all the coding.  The more information yo=
u can provide, the easier it will be to solve the problem.<br><span clas=
s=3D'forumSmallBlack'><i>Edited on Apr&nbsp;02,&nbsp;2008 10:42</i></spa=
n><br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D80912'>Tyler Slabinski</a>=
<span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;03,&nbsp;2008&nbsp;at&n=
bsp;20:52)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating:=
 5</span>   </td></tr>
   </table>
   Would it be easier just to make a sword looking object that shoots an=
 invisible object out for about 0.25 seconds? It would seem like a melee=
 system...<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D64439'>Ryan Edmar</a><span=
 class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Apr&nbsp;05,&nbsp;2008&nbsp;at&nbsp;0=
8:25)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 5</s=
pan>   </td></tr>
   </table>
   @ Tyler<br><br>That is infact how this system works.  Although it use=
s nodes instead of an invisible object.<br><br>   <table width=3D'100%'>=

   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D50580'>Joshua Brown</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;30,&nbsp;2008&nbsp;at&nbsp=
;00:25)</span>   </td></tr>
   </table>
   James,<br><br>When the sword is swung and collides with the target, i=
t knocks the target back a few &quot;feet&quot;.  Not to mention, you ne=
ed some pretty good accuracy to actually hit your target.<br><br>Do you =
(or anyone else for that matter) know how the sword could simply pass th=
rough the target but still register as a hit. And also to broaden the &q=
uot;width&quot; of the attack path so you don't have to aim the cursor E=
XACTLY on the player? But instead if the sword swings through the object=
 at any point it causes damage?<br><br>-Josh<br><span class=3D'forumSmal=
lBlack'><i>Edited on May&nbsp;30,&nbsp;2008 00:26</i></span><br><br>   <=
table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;30,&nbsp;2008&nbsp;at&nb=
sp;07:17)</span>   </td></tr>
   </table>
   Well the current code is supposed to do a  raycast between 2 nodes on=
 the weapon object, if anything intercepts the ray it is deemed to have =
been 'hit'.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D50580'>Joshua Brown</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;30,&nbsp;2008&nbsp;at&nbsp=
;07:48)</span>   </td></tr>
   </table>
   Ok, well that does clarify things. Not that I don't like your code (i=
t gave me great hope when I got it implemented!) but do you know of an a=
vailable system that would work similar to how I described? Even if I ha=
d to &quot;select&quot; an enemy and keep within a certain radius/facing=
 the opponent that would be fine.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(May&nbsp;30,&nbsp;2008&nbsp;at&nb=
sp;13:09)</span>   </td></tr>
   </table>
   I dont know of one on GG but im sure if you tried you could do it :)<=
br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85989'>Ian Newland</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;07,&nbsp;2008&nbsp;at&nbsp;=
22:20)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 4</=
span>   </td></tr>
   </table>
   Anyone still working on this in TGEA 1.7? Ive got the code implemente=
d but messed something up similar to what Rojalee did back on 06 (see ab=
ove comments). There seems to be no response/solution to what he had men=
tioned though.<br><br>Basically im stuck at a point where... the melee s=
ystems work, damages players etc... however the animation does not &quot=
;play&quot; on the client side.  When you click the animation goes to fr=
ame one, and after the animation should have stopped, goes to the normal=
 root standing position.  The weird thing is, if i mouse look up and dow=
n during the animation time, I &quot;see&quot; the animation play.<br><b=
r>Sorry I am a bit of a newb to  torque, but an experience c++ programme=
r this is my first try at implementing anything.<br><br>Oh and i'm using=
 the stronghold demo app to play with.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D116820'>Willie L Stewart</=
a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;12,&nbsp;2008&nbsp;at=
&nbsp;02:12)</span>   </td></tr>
   </table>
   what keys am i suppose to use to make him swing the sword? the mouse =
button doesnt do anything for me.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D50580'>Joshua Brown</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;12,&nbsp;2008&nbsp;at&nbsp=
;02:21)</span>   </td></tr>
   </table>
   If you have everything set up correctly, and the sword is the weapon =
in hand, it should automatically swing for  you.<br><br>-Josh<br><br>   =
<table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D116820'>Willie L Stewart</=
a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;12,&nbsp;2008&nbsp;at=
&nbsp;02:23)</span>   </td></tr>
   </table>
   i extracted the files directly into the sdk is there something else i=
 should do?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85989'>Ian Newland</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;12,&nbsp;2008&nbsp;at&nbsp;=
03:15)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 4</=
span>   </td></tr>
   </table>
   Willie<br><br>It would be better to compare the adjusted files in you=
r sdk and the one you downloaded and make the appropriate updates that w=
ay... otherwise you could run yourself into a whole host of problems<br>=
<br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85989'>Ian Newland</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;12,&nbsp;2008&nbsp;at&nbsp;=
04:12)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 4</=
span>   </td></tr>
   </table>
   Ok still trying to figure this out with TGEA 1.7... ive gone through =
all the code changes a dozen or so times... even set break points and ra=
n the system from vs2k5 to check variables... im just not sure what I am=
 missing...<br><br>The melee works to a point, impulses are played on th=
e enemy, damage is applied etc... however on the client side im just not=
 seeing the animation play.<br><br>Whats wierd is that when in the &quot=
;firing sequence&quot; the animation is attached to the  mouselook when =
moving from up to down.  For example, third person view, looking directl=
y up vertically... click fire..  and evenly move the mouse so you transi=
tion to looking directly down.  You will see the animation fully play on=
 the orc from start to finish. (unless the timer runs out and then you g=
o back to the normal idle animation of holding the sword)  if you are lo=
oking straight forward, the animation will jump to the middle frame when=
 you click fire.<br><br>I really have no clue what I have done wrong, (n=
ot starting its own thread for animating the sequence???) or how its att=
ached to the mouselook animation.  ANY help you guys can suggest would b=
e much appreciated.<br><br>Thanks in advance... if you scroll up Rojalee=
 was having the same problem but no solution was posted that I could fin=
d...<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D116820'>Willie L Stewart</=
a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2008&nbsp;at=
&nbsp;03:24)</span>   </td></tr>
   </table>
   i figured it out. i just forgot to compile it. it worked fine when i =
compiled the debug mode and now im compiling the release. will this work=
 with tgea?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D50580'>Joshua Brown</a><sp=
an class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2008&nbsp;at&nbsp=
;07:02)</span>   </td></tr>
   </table>
   without Alot of changes, it will not. There are some  people working =
on it, but I don't know where you can find it.<br><br>   <table width=3D=
'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85989'>Ian Newland</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2008&nbsp;at&nbsp;=
09:44)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 4</=
span>   </td></tr>
   </table>
   Willie i have the entire system working except for the actual playing=
 of the animation in TGEA 1.7 once I figure out how to play animations c=
orrectly ill post all the changes/edits to get it working for ya<br><br>=
   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D116820'>Willie L Stewart</=
a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2008&nbsp;at=
&nbsp;21:54)</span>   </td></tr>
   </table>
   no its working now. i didnt have to change anything. he swings the sw=
ord and everything. unless im imagining things. it works on the release =
and the debug.<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85989'>Ian Newland</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2008&nbsp;at&nbsp;=
22:44)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 4</=
span>   </td></tr>
   </table>
   Are you telling me this is working in TGEA willie? 1.7.0 or 1.7.1? ca=
n you give me a diff of your changes from either of the sources so I can=
 figure out what im doing wrong?<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;13,&nbsp;2008&nbsp;at&nb=
sp;23:10)</span>   </td></tr>
   </table>
   ian - if you need it, ill port + post a tgea version tomorrow<br><br>=
   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D85989'>Ian Newland</a><spa=
n class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;14,&nbsp;2008&nbsp;at&nbsp;=
21:16)</span><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;Resource Rating: 4</=
span>   </td></tr>
   </table>
   James, thanks man, more than anything else im learning to play with t=
gea by using resources... I really want to know what i did wrong because=
 i cant find the issue and follow the logic of everythign thats going on=
 in this yet<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;15,&nbsp;2008&nbsp;at&nb=
sp;19:13)</span>   </td></tr>
   </table>
   <a href=3D'http://www.garagegames.com/mg/forums/result.thread.php?qt=3D=
76217'>try this</a><br>un-tested but it compiles.. for ports that usuall=
y means its ok.<br>please keep all tgea related comments on that thread.=
<br><br>   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D116820'>Willie L Stewart</=
a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;16,&nbsp;2008&nbsp;at=
&nbsp;06:28)</span>   </td></tr>
   </table>
   no sorry i mean tge im not using tgea<br><br>   <table width=3D'100%'=
>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D116820'>Willie L Stewart</=
a><span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;27,&nbsp;2008&nbsp;at=
&nbsp;13:29)</span>   </td></tr>
   </table>
   could you email me the tgea version at jr.since1990@yahoo.com<br><br>=
   <table width=3D'100%'>
   <tr><td class=3DsectionTitle>
   <a href=3D'/my/home/view.profile.php?qid=3D49233'>James Thompson</a><=
span class=3D'tiny'>&nbsp;&nbsp;&nbsp;(Jun&nbsp;27,&nbsp;2008&nbsp;at&nb=
sp;23:53)</span>   </td></tr>
   </table>
   The tgea version is in the tgea forums so there are no licensing issu=
es. You can download it here:<br><a href=3D'http://www.garagegames.com/m=
g/forums/result.thread.php?qt=3D76217'>www.garagegames.com/mg/forums/res=
ult.thread.php?qt=3D76217</a><br><br>      <br>
      <table border=3D'0' cellspacing=3D'0' cellpadding=3D'3' class=3Dfo=
rmBody width=3D'100%'>
         <tr>
            <td class=3DformTitle>Ratings</td>
         </tr>
         <tr>
            <td><span class=3DformDesc>
            Your rating will be added to the overall rating for this
            resource.  Though you can only rate a resource once, you
            can change your rating at any time.
            </span></td>
         </tr>
         <tr>
            <td>
            <form id=3D'rate' name=3D'rate' >
               <p>
               <input type=3D"hidden" name=3D"id" value=3D74950>
					<input type=3D"hidden" name=3D"idResource" value=3D10986>
               <select name=3D'rating'>
                  <option value=3D"1" >1 - Not Useful</option><option va=
lue=3D"2" >2 - Sort of Useful</option><option value=3D"3" selected>3 - U=
seful</option><option value=3D"4" >4 - Very Useful</option><option value=
=3D"5" >5 - Extremely Useful</option>               </select>
               <input id=3D'ratesubmit' type=3D"Button" value=3D"Submit"=
>&nbsp;&nbsp;<span id=3D"myrating"></span>
               </p>
            </form>
            </td>
         </tr>
      </table>
            <br>
      <table border=3D'0' cellspacing=3D'0' cellpadding=3D'3' class=3Dfo=
rmBody width=3D'100%'>
         <tr>
            <td class=3DformTitle>Post Comment</td>
         </tr>
         <tr>
            <td><span class=3DformDesc>
            Comments are appended to the end of the resource.
            </span></td>
         </tr>
         <tr>
            <td>
            <form method=3D"post" action=3D"/mg/resource/comment.resourc=
e.redirect.php">
               <input type=3D'hidden' name=3D'FormId' value=3D232309626 =
>
               <textarea name=3D"comment" rows=3D12 cols=3D47></textarea=
>
               <p>
               <input type=3D"hidden" name=3D"id" value=3D10986>
               <input type=3D"submit" name=3D'submit' value=3D"Post Comm=
ent">
               </p>
            </form>
            </td>
         </tr>
      </table>
      <br><table><tr><td>&nbsp;<a href=3D"javascript:notifyit('Resource'=
, '10986');"><img id=3D'notifyimg' src=3D'/images/unapproved.gif' border=
=3D0></a><div id=3D'debug'></div></td><td valign=3Dtop><b>Notify when ne=
w comments are posted</b></td></tr></table>	</div>
	<div id=3D"footer" >
		<span style=3D"font-size:9px"><a href=3D"/">Home</a>&nbsp;|&nbsp;<a hr=
ef=3D"/products/browse/">Products</a>&nbsp;|&nbsp;<a href=3D"/solutions/=
games/commercial/">Solutions</a>&nbsp;|&nbsp;<a href=3D"/demos/browse/">=
Downloads</a>&nbsp;|&nbsp;<a href=3D"/support/email/">Support</a>&nbsp;|=
&nbsp;<a href=3D"/search/">Search</a>&nbsp;|&nbsp;<a href=3D"/company/">=
About Us</a></span><br>Copyright &copy; GarageGames.com 2000 - 2008 All =
Rights Reserved	</div>
	<div id=3D"header" >
			<a href=3D"/"><img class=3D"left" src=3D"/images/hm_left.gif" ALT=3D"=
GarageGames"></a>
			<img class=3D"right" src=3D"/images/hm_right.gif" ALT=3D"">
			<div id=3D"navcontainer"><ul id=3D"nav">
	<li><a href=3D"/">Home</a>
		<ul style=3D"width:10em">
			<li><a href=3D"/company/news/">Latest News</a></li>
		</ul>
	</li>
	<li><a href=3D"/products/browse/">Products</a>
		<ul style=3D"width:15em">
			<li><a href=3D"/demos/browse/game/">Games</a></li>
			<li><a href=3D"/makegames/">Developer Tools</a></li>
			<li><a href=3D"/developer/torque/contentpacks/">Content Packs</a></li=
>
			<li><a href=3D"/solutions/education/">Academic Resources</a></li>
			<li><hr></li>
			<li><a href=3D"/products/torque/tge/">Torque Game Engine</a></li>
			<li><a href=3D"/products/torque/tgb/">Torque Game Builder</a></li>
			<li><a href=3D"/products/torque/tgea/">Torque Engine Advanced</a></li=
>
			<li><a href=3D"/products/torque/x/">Torque X Engine</a></li>
			<li><a href=3D"/products/torque/twii/">Torque Wii</a></li>
			<li><a href=3D"/products/torque/t360/">Torque 360</a></li>
		</ul>
	</li>
	<li><a href=3D"/demos/browse/">Downloads</a>
		<ul>
			<li><a href=3D"/demos/browse/development/">Development Demos</a></li>=

			<li><a href=3D"/demos/browse/game/">Game Demos</a></li>
		</ul>
	</li>
	<li><a href=3D"/developer/torque/">Documentation</a>
		<ul style=3D"width:16em">
			<li><a href=3D"http://tdn.garagegames.com/" target=3D"_blank">Torque =
Developer Network</a></li>
			<li><a href=3D"/developer/torque/t2d/">Torque Game Builder</a></li>
			<li><a href=3D"/developer/torque/tge/">Torque Game Engine</a></li>
			<li><a href=3D"/developer/torque/tse/">Torque Engine Advanced</a></li=
>
			<li><a href=3D"/developer/torque/artist/">Artists</a></li>
		</ul>
	</li>
	<li><a href=3D"/mg/whatsnew/">Community</a>
		<ul>
			<li><a href=3D"/mg/whatsnew/">What's New</a></li>
			<li><a href=3D"/mg/forums/result.area.php?qs=3D1">Forums</a></li>
			<li><a href=3D"/index.php?sec=3Dmg&amp;mod=3Dresource&amp;page=3Dhome=
">Resources</a></li>
			<li><a href=3D"/index.php?sec=3Dmg&amp;mod=3Dmarketplace&amp;page=3Dh=
ome">Marketplace</a></li>
			<li><hr></li>
			<li><a href=3D"/mg/snapshot/gallery.php">Snapshot Gallery</a></li>
			<li><a href=3D"/mg/projects/tge/gallery.php">Artist Gallery</a></li>
		</ul>
	</li>
	<li><a href=3D"/products/training/">Support</a>
		<ul style=3D"width:17em">
			<li><a href=3D"/support/email/">Product Support</a></li>
			<li><a href=3D"/products/training/bootcamp/">Torque Boot Camp Seminar=
s</a></li>
		</ul>
	</li>
	<li><a href=3D"/company/">Company</a>
		<ul style=3D"width:11em">
			<li><a href=3D"/company/">About</a></li>
			<li><a href=3D"/company/management/">Management</a></li>
			<li><a href=3D"/company/employees/">Employees</a></li>
			<li><a href=3D"/company/associates/">Associates</a></li>
			<li><hr></li>
			<li><a href=3D"/company/contact/">Contact</a></li>
			<li><a href=3D"/company/press/">Press Releases</a></li>
			<li><a href=3D"/rss/info.php">RSS Feeds</a></li>
			<li><a href=3D"/company/jobs/">Jobs/Internships</a></li>
			<li><a href=3D"/company/logo/">Logo Kits</a></li>
		</ul>
	</li>
</ul><br></div>
			<div id=3D"navlogin"><span id=3D"welcome"><a href=3D"/shopping/cart.p=
hp">Cart <img src=3D"/images/cart.gif"></a> / <a href=3D"/main/login/">L=
ogin</a>&nbsp;</span>
			<form name=3D"gs" method=3D"GET" action=3D"http://search.garagegames.=
com/search">
	<input class=3D"stext" type=3D"text" name=3D"q" maxlength=3D"256" value=
=3D" Search" onfocus=3D"this.value=3D'';">
	<input class=3D"ssubmit" type=3D"image" name=3D"btnG" value=3D"Go" src=3D=
"/images/sgo.gif">
	<input type=3D"hidden" name=3D"ie" value=3D"">
	<input type=3D"hidden" name=3D"site" value=3D"GarageGames">
	<input type=3D"hidden" name=3D"output" value=3D"xml_no_dtd">
	<input type=3D"hidden" name=3D"client" value=3D"GarageGames">
	<input type=3D"hidden" name=3D"lr" value=3D"">
	<input type=3D"hidden" name=3D"proxystylesheet" value=3D"GarageGames">
	<input type=3D"hidden" name=3D"oe" value=3D"">
</form></div>
	</div>

</div>
</body>
</html>
------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=favicon.ico
Content-Type: image/x-icon; name=favicon.ico
Content-Location: http://www.garagegames.com/favicon.ico
Content-Transfer-Encoding: Base64

AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqzIAJKw2A3y5ViuzsEAPurFC
EbS6ViuirDUDYasyABEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACrMwAKqzMAjLA0
APezNQD/rzAA/7E0AP+zNAD/sDAA/60zAP+rMwDkqzMAXQAAAAAAAAAAAAAAAAAA
AACrMwEPrjQAvbU3AP+ZMS3/aSJx/08Ykf9LFpf/WR2G/34qWP+rNhL/tDcA/6w0
Av+rMwCEAAAAAAAAAAAAAAAAsTYApbE4DP9gHH//JwvO/zMe2f9KN9n/TDnY/zIc
0/8eBtL/Phm6/48xSf+4OgD/rjYF/6w0AWMAAAAAsDcDTrM4C/9QGJz/WErq/7Wt
6v/k4fH/9PT1//X29v/l4/L/lYbh/yoR0f8tFdf/jDJV/7o8Af+vNwfiqTEAFLo7
ALRxJXT/i4b0//v89P////f////5////+v////n//f73////+f+RgeH/JQvS/z0d
zv+rPC7/tjkB/7xOMGemMyPhdl3V//n99//7/PX/7On1/6qe6v+Id+P/o5fo//Lx
+f////n/ysPv/zAT0P8sF+H/dzCH/745AP/JcVeniixZ6od87f////X/5uPz/1A3
2P8iA83/HwDL/xcAyf+0q+7////+/7et7P8sD9H/MRnc/1couP+/Qhr/xVkzzoUx
c+1KN+b/8PDz/+Pg8/9GLNj/UDja/3Ng4f+touz//Pz9/+7t+P9dRtz/MhXU/zQa
2v9OJcj/wEgv/8NNJNaZPmblJw/f/2lV3//z8vb/8vH4//j4+//w7vr/1c/2/5uN
6v9SOdz/NxvX/z0h2P8zG9z/VyrC/8hKLf/IYT20tUhHujQW1/9kUOH////3/8G5
7v9kTuL/ZE7h/1pC4P88INr/PCDa/0In2/8+I9j/MRvh/3o4pP/UUSn/u1Uva8xN
IlhxM6r/NSHk/7Gm6v/Cu+7/u7Lu/9bR8//g3PX/2dTy/2FK4f8+I9r/PSTb/z4j
3f+8U2v/0lMs5qwyAxcAAAAAx1VTsU0p0f8nD9//raHr//Px8/9UPOD/ZVDi//z7
9v+cjun/PCPd/zYh5P+VR57/5GNF/7tBF2kAAAAAAAAAAONiQxjGWGjMWzDN/0g3
6P+kne7/ppvs/6ab7P+vp+7/h37v/0cu4P+YS6b/62tY/8dMJ44AAAAAAAAAAAAA
AAAAAAAA318+EtxhVaGgTp/+YzDG/1k52P9UNtz/UyzT/308t//QY4X/8G5V7s9T
MmkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA42A9OO6HeZLkfYy34HWGx+p1
fM76iXq15HRYdchLKxoAAAAAAAAAAAAAAAAAAAAA8A8AAMAHAACAAwAAgAEAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAAIADAADABwAA8A8AAA==

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=hm_center.gif
Content-Type: image/gif; name=hm_center.gif
Content-Location: http://www.garagegames.com/images/hm_center.gif
Content-Transfer-Encoding: Base64

R0lGODlhBQBGAOYAAP72vsuUAf7xovS2Af7ukv7vl+e6Af71t/7wnPrIAf73x/W6
Af73xf7VAf7vlf70tf70sv7vmP7xpP7zrf7yqfe/Af72vP3RAeepAf73w/7uk/74
yf7vlP7zsP71uf74z/vNAf70sP72wP7wnv7vmv7xnv72w/7wm/7yqP7zrP7vmf70
s/7ypv7xpfnEAf7yq/71uv/XAf7vk/7zrv73wP7yp/zNAf761f7xoP7wmv7woP73
xPe+AeeqAf74zuapAf70t/7UAf761P71tf71tPjEAfa6Af7wn/7vlv7xof73yf7v
nPzRAf7zq/71u/7wof7xp/7ulvnIAf74x/751fjDAf74yPa+Af7YAf71vP75zvnD
Af7ulP751P3SAf72wefSmf/////YAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAACH5BAAAAAAALAAAAAAFAEYAAAfZgGGCg4SFhoeCYIqKVDdC
XTc+H1ofH1YbmEoKUwqdOwygDBkmGaMiNF80IgCsrE4WWRYWHh4wMB4HuQdARA8P
Qw8QECsrEB0dIcgzE8sTLylNzygU0xQsNddQEi3bEgLf30lPODg6IyVHJSMI7EsI
JDkkJycRESoqEQX6+g5RDkgOOAh0wEWDBhkHCShUaKBhQzEQI0qcSLGixYsYM0qM
EQMLxAZBGoi8cIGJlws2QKi0kUBKgpcutlRxUeQKjwo4F+hcYGSAT58YMPT4gSGA
UaOLFCFaynRQIAA7

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=dropdown.gif
Content-Type: image/gif; name=dropdown.gif
Content-Location: http://www.garagegames.com/css/dropdown.gif
Content-Transfer-Encoding: Base64

R0lGODlhQAA9AMQAAP/3wv70tv70uf3smf3wpv3qkf72vf7zsP3vpP3qjv7zsv7y
rv3unv3sm/3slv3uoP/4xv3wqf7yrP3rlP7xq/3unP7voP3uov7xqP7xrP7vov70
s/7vn/7ztP3vovzpjSH5BAAAAAAALAAAAABAAD0AAAX/4CeOZGmeZ+IwCLUcSrAd
C0YwE6rvvFlUmI3AQCwCDICkMhnIPAq9KK/wOAiuw2HRuFxCIICABiotJxqUgBp7
NbC1x67ySw80yrwE46DuBxYIDAMFCSUJEwMaFAJddI4CDHgnFXx9BxoDhXgFDAtI
jqAGkiMTFAodHRsEDqMmeh0AoHSjCRYKtwdPrTsOC7GgkhMSMAcWmrs8DgrAZQMH
zxg5yGUVBrNSnc8V06MFC19RCRoLCxTSUxUECwobHQoLN+dlDAA9CQjkBMcoBRoK
bG62FBGwoRyBBxUckDnBaoc4chr2udKwoQ9ALVvk/BKwywKFDBamZOjgJ0AHBAMm
/xRw8CADl0ZJWjGgQCGkQwqoSKrRd2LCBiJKDGTgg2ShFAcRIkTkweBWzgASJJIo
ACcJBmQFkvLkIcEpqgDbdmB4GYkWgqTyUCSA4bWDTR0RMoZpVSHpACnPbp1yZ9QQ
RiRHuhGI4KEMgbxeD9z18U8gkVEeBvdlyAHBMLZ7SUpgoBBRhDaOD0hyQIBAWB1o
yD1brfepn4sCG0pJEJnA5BEF8JFTvRqza4tYAhIpjMcBAgR3+GH4uJscjjNd25a8
CAny8dsf7tHM0Fx29gYYMk9nY3vUhONlTzRIuj2fWpYRhlbcoCADcqlSKhxPOyLB
YPbMEcCNWcfh98EESSXYnv93A/ZgXCA6IJVgBO0tYAF/DZ7AAgIMkkDahBQyRw4G
z2WYggceIIBddqWBWOFuB2BgwSAmijABisTpMECLE77I2zMSxGMgHgOgmJ6O/yko
Ioy96aVATQ4MyUMFD3iQ3A7nJQkgd8315hsqG2BQgZQaPvDAYvw8UBqPSnLJJGvS
ybDKbGY+0OEIAxyHwJpJDubjC03GqcYCaOpAhZkYfpCnnnzaZaN+EnQZqHivZbDi
gQwgylCKeu65JoYrNaCIl6199VoHd9rIQKb8FYBjp55euUMBA1iAAWKUAierh6vi
YAIDOHLKKJk+AFGqThYFgOEKqzJIRbCw5ihYrmsIcID/VMxyVsIAZkKr55Gt+PNb
teB+kG2hemRa5avHPcDNWtQGIIACJkzQ62kfcLJqt+wiQCwPBAi6RqGY9nqMvfuu
i+K33PgTrwACkoDwqgtlq663HE4TnsB/lKBvs6T0mjDGBJdRAK7jBrDPGb2i+XGv
/C7c7qUp3IqyqWqk1YDImqQrcszCHmdBlFEUYPPNyAbA4AA7r3rOACKP3O9xpZ05
gVQqWPAj0n0w6EADTbsctdQyM7pmBAQgcMEDGhDggqRwUtrXBGA3vRDUYwMNa6M9
Lrn1l6lIdAbYIIuQQAV5Kxy0p2xu2RygceckmglME87AQi/DrPjeZ/ft5t+lultv
ZeU7Fzrxz5t3ynebj5Pq1G20kn65xGNfPDXjWob4OeSIRXzCALI3sM8PUeuteues
w53XAivGXre2UzWtOcZUI++48gekajjwsvd1COLT37769W/u2hP3dY/pisXGm924
7o8voH0IADs=

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=form_nw.gif
Content-Type: image/gif; name=form_nw.gif
Content-Location: http://www.garagegames.com/images/form_nw.gif
Content-Transfer-Encoding: Base64

R0lGODlhAwADAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAADAAMAAAIEjC0h
UgA7

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=form_sw.gif
Content-Type: image/gif; name=form_sw.gif
Content-Location: http://www.garagegames.com/images/form_sw.gif
Content-Transfer-Encoding: Base64

R0lGODlhAwADAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAADAAMAAAIEjBSW
UQA7

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=site8.css
Content-Type: text/css; charset=ISO-8859-1; name=site8.css
Content-Location: http://www.garagegames.com/css/site8.css
Content-Transfer-Encoding: 8bit

html, body {margin:0;padding:0;background-color:#555}
body, p, h1, h2, h3, table, td, th, ul, ol, textarea, input, select {font-family:Geneva, verdana, arial, helvetica, sans-serif;font-size:12px;color:#222}
#container {margin:0 auto 0 auto;padding:0;width:850px;border-left:1px solid black;border-right:1px solid black;text-align:left;background-color:#fff}
#header {position:absolute;top:0px;height:75px;width:850px;background:#FFF url('/images/hm_center.gif') repeat-x}
#header img.left {position:absolute;top:0px;left:0px;border:0}
#header img.right {position:absolute;top:0px;right:0px;border:0}
#content {width:830px;margin:75px 0 0 10px;padding:0;overflow:hidden;clear:both}
#footer {clear:both;margin:0px;padding:1em;text-align:center;background-color:#fff}
#navcontainer {margin:0 17px 0 7px;padding:0}
#nav, #nav ul {list-style:none;line-height:1;padding:0;border-width:1px 0;margin:0 0 0 0;text-align:left}
#nav {position:absolute;top:41px;left:70px;z-index:3000 !important}
#nav ul {float:left;background:#fef7c7;border:1px solid #000}
#nav a {display:block;color:#000;text-decoration:none;padding:0.25em 0em}
#nav li {float:left;padding:0 0.25em 0 0.25em;margin:0 0.25em 0 0.25em;white-space:nowrap;font-weight:bold}
#nav li ul {position:absolute;left:-999em;height:auto;width:12em;font-weight:normal;border:solid 1px #e4c76b;margin:0;padding:0;background:#fce98d url(dropdown.gif) bottom right no-repeat}
#nav li ul li {padding:0;margin:0;width:100%}
#nav li ul li a {padding-left:0.5em}
#nav li ul li hr {line-height:5px;margin:0 auto 0 auto;width:90%}
#nav li ul ul {margin:-1.75em 0 0 14em}
#nav li.sfhover ul ul, #nav li.sfhover ul ul ul {display:none}
#nav li.sfhover ul, #nav li li.sfhover ul, #nav li li li.sfhover ul {left:auto;margin-left:-0.25em;display:block}
#nav li.sfhover {background:#f7bf02}
#nav li.sfhover a {color:#000}
#navlogin {position:absolute;top:14px;right:20px;font-size:7pt !important}
#navlogin a {font-weight:bold;color:#666;text-decoration:none}
#navlogin a:hover {color:#000}
#navlogin img {border:0;margin-bottom:-4px}
#navlogin form {display:inline;margin-left:1em;z-index:3}
.stext {color:#e7ba01;background-color:#fefae6;font-size:9px;border:1px solid #e7ba01;width:12em}
.stext:focus {color:#000;background-color:#fff}
.ssubmit {margin-bottom:-4px;padding:0}
.hilite {background-color:#dd0}
b, h1, h2, h3, textarea, input, select {color:#000}
#content a {text-decoration:underline;color:#1e1dd6}
#content a:visited {color:#6b0e1c}
#content a:hover {color:#1e1dd6}
#content a img {border:0}
hr {color:#333366;background-color:transparent}
ul {list-style-image:none;list-style-position:outside;list-style-type:none}
li {margin:0pt;padding:0pt}
i, em {font-style:italic}
b, strong {font-weight:bold}
.tiny {font-size:7pt}
.grey {font-size:8pt;color:#909090;background-color:transparent}
#content h1, #content h2, #content h3, #content h4 {color:black;background-color:transparent;font-weight:bold;margin-top:.25em;margin-bottom:.25em}
#content h1 {font-size:150%}
#content h2 {font-size:130%}
#content h3 {font-size:110%}
#content h4 {font-size:100%}
#content .product {border-top:1px solid #BBBBBB;margin:0pt;overflow:hidden;padding:15px 0pt 25px 0px}
#content .info {float:left;margin:0pt 0pt 0pt 20px;width:280px}
#content .purchase {float:left;width:160px;margin:0pt 0pt 0pt 10px}
#content .wrap {margin:0pt;overflow:hidden;padding:10px 20px 0pt 10px}
.info ul {padding:0pt;margin:0em 0 1em 1.5em}
.info ul li {background:transparent url(/images/list_bullet.gif) no-repeat scroll left 0.5em;line-height:1.2em;padding-left:7px}
.mlHeadline {font-size:12pt;font-weight:bold}
.headlineLarge {font-size:16pt;color:#333366;font-weight:bold}
.headlineMedium {font-size:12pt;color:#333366;font-weight:bold}
.headlineSmall {font-size:9pt;color:#333366;font-weight:bold}
.indent {margin-left:20px}
.indent10 {margin-left:10px}
.indent20 {margin-left:20px}
.indent30 {margin-left:30px}
.headline {font-size:10pt;color:#392985;font-weight:bold}
.linkBig {font-size:12pt;font-weight:bold;text-decoration:none}
.titleBig {font-size:16pt;color:#172775;font-weight:bold;font-style:italic;text-decoration:none}
.titleSmall {font-size:13pt;color:#172775;font-weight:bold;font-style:italic;text-decoration:none}
.newsTitle {font-size:12pt;color:#000000;font-weight:bold;font-style:normal}
.warning {font-size:12pt;color:#ff1010;font-weight:bold;text-decoration:none}
.resTitle {font-size:10pt;color:#172775;font-weight:bold;text-decoration:none}
.resSearch {font-size:12pt;color:#172775;font-weight:bold;text-decoration:none}
.menuTitle {font-size:10pt;color:#FFFFFF;font-weight:bold;text-decoration:none}
.projTitle {font-size:16pt;color:#172775;font-weight:bold;text-decoration:none}
.currentPage {font-size:12pt;color:#172775;font-weight:bold;text-decoration:none}
.litebox {font-size:10pt;color:#CCCCCC;background:#666666;text-decoration:none}
.sortTitle {font-size:10pt;color:#392985;background:#cccccc;font-weight:bold;font-style:italic}
.warningTitle {font-size:10pt;color:#D01010;background:#cccccc;font-weight:bold}
.warningBody {font-size:9pt;color:black;background:#eeeeee}
.formTitle {font-size:12pt;color:#392985;background:#cccccc;font-weight:bold;font-style:italic}
.formDesc {font-size:9pt;color:black}
.formBody {font-size:9pt;color:black;background:#eeeeee}
div.forumpost {margin:10px 10px 10px 10px;width:700px;overflow:auto}
div.blogpost {margin:5px 0 0 2px;width:820px;overflow:auto}
.formSpacer {font-size:9pt;background:white}
.blockTitle {font-size:12pt;color:#666699;font-weight:bold;font-style:italic}
.blockBorder {border-style:double;border-color:#f0f0f0;border-width:2px}
.ratingLarge {font-size:24pt;color:#392985;background:#cccccc;color:blue}
.sectionTitle {font-size:12pt;color:#000000;background:#cccccc;font-weight:bold;font-style:normal}
.sectionBody {font-size:9pt;color:black;background:#eeeeee}
.platName {background:#d0d0d0;font-weight:normal;font-style:normal}
.platSRL {background:#e5e5e5;font-weight:normal;font-style:normal}
.forumArea {font-size:10pt;color:black;background:#cccccc;font-weight:bold;font-style:normal}
.forumDk {font-size:10pt;color:black;background:#e5e5e5;font-weight:normal;font-style:normal}
.forumLt {font-size:10pt;color:black;background:#d0d0d0;font-weight:normal;font-style:normal}
.forumThread {font-size:10pt;color:black;background:#cccccc;font-weight:bold;font-style:italic}
.forumSmallWhite {font-size:8pt;color:black;font-weight:normal;font-style:normal;text-decoration:none}
.forumSmallBlack {font-size:8pt;color:#000000;font-weight:normal;font-style:normal;text-decoration:none}
.forumError {color:#D13334;font-size:8pt;font-weight:bold;text-decoration:none}
a.summary:link {font-size:10pt}
a.summary:visited {font-size:10pt}
a.summary:hover {font-size:10pt}
.money {font-size:12pt;font-weight:bold;color:red}
.group, .section, .footer {font-weight:bold;font-size:10pt;padding:5px;color:#000000}
.quote {margin-right:20px;margin-left:20px}
.form .group, .form .section, .form .footer, .form .submit {font-weight:bold;font-size:10pt;padding:5px;margin-right:2px;margin-left:2px;color:#000000}
.form table, .form th, .form td {border:none;vertical-align:top}
th {font-size:9pt}
.form th {background-color:#e8e8e8;text-align:right;color:black}
.form td.small {font-size:7pt}
.form th.block {background-color:#e8e8e8;text-align:left;font-weight:normal;vertical-align:middle;color:black}
.form th.header {background-color:#c0c0c0;text-align:left;vertical-align:middle;color:black}
.form th.headerR {background-color:#c0c0c0;text-align:right;vertical-align:middle;color:black}
.form th.headerC {background-color:#c0c0c0;text-align:center;vertical-align:middle;color:black}
.form tr.row0 {background-color:#fafafa}
.form tr.row1 {background-color:#ebebeb}
.form td.lvl1 {background-color:#a8a8f0}
.form td.lvl2 {background-color:#a8f0a8}
.form td.lvl3 {background-color:#f0eda8}
.form td.lvl4 {background-color:#f0c5a8}
.form td.lvl5 {background-color:#f0a8a8}
.form tr.changeHilight {background-color:#f0eda8}
.form .group, .group {background:#333366 url(/images/form_nw.gif) no-repeat top left;color:#ffffff}
.form .section, .section {background:#cccccc url(/images/form_nw.gif) no-repeat top left}
.form .footer, .footer {font-size:8pt;background:#cccccc url(/images/form_sw.gif) no-repeat bottom left}
.form .submit, .submit {font-size:8pt;background:#aaaaaa url(/images/form_sw.gif) no-repeat bottom left}
.group a:link {color:#ffffff}
.group a:visited {color:#d0d0d0}
.group a:hover {color:#ffffff}
.form .error {color:#D13334;font-size:8pt;font-weight:bold}
.form .filebox {width:100%}
.form .textbox {width:75%}
.form .textarea {width:100%}
.form .select150 {width:150px}
.form .select250 {width:250px}
textarea {width:85%;font-size:9pt}
.codeblock {font-size:8pt;background-color:#f5f5f5;border:1px solid black;padding:5px;width:675px;overflow:auto}
#feature {margin:0;padding:0}
.tabgroup {margin:0;padding:0;line-height:1.75em}
.tabgroup ul {list-style:none;display:inline;padding:0;margin:0}
.tabgroup ul li {float:left;margin:0 2px 0 0;padding:0 0 0 10px;border-bottom:1px solid #999;background:url(taboff.gif) #c0c0c0 top left no-repeat;line-height:1.75em}
.tabgroup ul li a {color:#000 !important;font-weight:bold;text-decoration:none !important;padding:0 10px 0 0;display:block;background:url(taboff.gif) transparent top right no-repeat}
.tabgroup div {clear:left;display:none;width:auto;padding:10px;border:1px solid #999}
.tabgroup ul li.over {background:url(tabover.gif) #3375b2 top left no-repeat;border-bottom:1px solid #036}
.tabgroup ul li.over a {display:block;color:#fff;padding:0 10px 0 0;text-decoration:none;background:url(tabover.gif) transparent top right no-repeat}
.tabgroup ul li.on {background:url(tabon.gif) #3375b2 top left no-repeat;border-bottom:1px solid #036}
.tabgroup ul li.on a {display:block;padding:0 10px 0 0;text-decoration:none;background:url(tabon.gif) transparent top right no-repeat}
.tabgroup div.wn_blogs {width:530px;height:240px}
.tabgroup div.wn_resources {width:530px;height:240px}
.tabgroup div.wn_mkt {width:242px;height:240px}

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=adx.js
Content-Type: application/x-javascript; name=adx.js
Content-Location: http://ads.garagegames.com/adx.js
Content-Transfer-Encoding: Base64

ZnVuY3Rpb24gcGhwYWRzX2RlbGl2ZXJBY3RpdmVYKGNvbnRlbnQpCnsKCWRvY3Vt
ZW50LndyaXRlKGNvbnRlbnQpOwkKfQ==

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=prototype.js
Content-Type: application/x-javascript; charset=ISO-8859-1; name=prototype.js
Content-Location: http://www.garagegames.com/js/1501/prototype.js
Content-Transfer-Encoding: Base64

LyogIFByb3RvdHlwZSBKYXZhU2NyaXB0IGZyYW1ld29yaywgdmVyc2lvbiAxLjUu
MF9yYzEKICogIChjKSAyMDA1IFNhbSBTdGVwaGVuc29uIDxzYW1AY29uaW8ubmV0
PgogKgogKiAgUHJvdG90eXBlIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVy
IHRoZSB0ZXJtcyBvZiBhbiBNSVQtc3R5bGUgbGljZW5zZS4KICogIEZvciBkZXRh
aWxzLCBzZWUgdGhlIFByb3RvdHlwZSB3ZWIgc2l0ZTogaHR0cDovL3Byb3RvdHlw
ZS5jb25pby5uZXQvCiAqCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoK
dmFyIFByb3RvdHlwZSA9IHsKICBWZXJzaW9uOiAnMS41LjBfcmMxJywKICBTY3Jp
cHRGcmFnbWVudDogJyg/OjxzY3JpcHQuKj8+KSgoXG58XHJ8LikqPykoPzo8XC9z
Y3JpcHQ+KScsCgogIGVtcHR5RnVuY3Rpb246IGZ1bmN0aW9uKCkge30sCiAgSzog
ZnVuY3Rpb24oeCkge3JldHVybiB4fQp9Cgp2YXIgQ2xhc3MgPSB7CiAgY3JlYXRl
OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgdGhp
cy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CiAgfQp9
Cgp2YXIgQWJzdHJhY3QgPSBuZXcgT2JqZWN0KCk7CgpPYmplY3QuZXh0ZW5kID0g
ZnVuY3Rpb24oZGVzdGluYXRpb24sIHNvdXJjZSkgewogIGZvciAodmFyIHByb3Bl
cnR5IGluIHNvdXJjZSkgewogICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291
cmNlW3Byb3BlcnR5XTsKICB9CiAgcmV0dXJuIGRlc3RpbmF0aW9uOwp9CgpPYmpl
Y3QuZXh0ZW5kKE9iamVjdCwgewogIGluc3BlY3Q6IGZ1bmN0aW9uKG9iamVjdCkg
ewogICAgdHJ5IHsKICAgICAgaWYgKG9iamVjdCA9PSB1bmRlZmluZWQpIHJldHVy
biAndW5kZWZpbmVkJzsKICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4g
J251bGwnOwogICAgICByZXR1cm4gb2JqZWN0Lmluc3BlY3QgPyBvYmplY3QuaW5z
cGVjdCgpIDogb2JqZWN0LnRvU3RyaW5nKCk7CiAgICB9IGNhdGNoIChlKSB7CiAg
ICAgIGlmIChlIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikgcmV0dXJuICcuLi4nOwog
ICAgICB0aHJvdyBlOwogICAgfQogIH0sCgogIGtleXM6IGZ1bmN0aW9uKG9iamVj
dCkgewogICAgdmFyIGtleXMgPSBbXTsKICAgIGZvciAodmFyIHByb3BlcnR5IGlu
IG9iamVjdCkKICAgICAga2V5cy5wdXNoKHByb3BlcnR5KTsKICAgIHJldHVybiBr
ZXlzOwogIH0sCgogIHZhbHVlczogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICB2YXIg
dmFsdWVzID0gW107CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpCiAg
ICAgIHZhbHVlcy5wdXNoKG9iamVjdFtwcm9wZXJ0eV0pOwogICAgcmV0dXJuIHZh
bHVlczsKICB9LAoKICBjbG9uZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1
cm4gT2JqZWN0LmV4dGVuZCh7fSwgb2JqZWN0KTsKICB9Cn0pOwoKRnVuY3Rpb24u
cHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbigpIHsKICB2YXIgX19tZXRob2QgPSB0
aGlzLCBhcmdzID0gJEEoYXJndW1lbnRzKSwgb2JqZWN0ID0gYXJncy5zaGlmdCgp
OwogIHJldHVybiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBfX21ldGhvZC5hcHBs
eShvYmplY3QsIGFyZ3MuY29uY2F0KCRBKGFyZ3VtZW50cykpKTsKICB9Cn0KCkZ1
bmN0aW9uLnByb3RvdHlwZS5iaW5kQXNFdmVudExpc3RlbmVyID0gZnVuY3Rpb24o
b2JqZWN0KSB7CiAgdmFyIF9fbWV0aG9kID0gdGhpcywgYXJncyA9ICRBKGFyZ3Vt
ZW50cyksIG9iamVjdCA9IGFyZ3Muc2hpZnQoKTsKICByZXR1cm4gZnVuY3Rpb24o
ZXZlbnQpIHsKICAgIHJldHVybiBfX21ldGhvZC5hcHBseShvYmplY3QsIFsoIGV2
ZW50IHx8IHdpbmRvdy5ldmVudCldLmNvbmNhdChhcmdzKS5jb25jYXQoJEEoYXJn
dW1lbnRzKSkpOwogIH0KfQoKT2JqZWN0LmV4dGVuZChOdW1iZXIucHJvdG90eXBl
LCB7CiAgdG9Db2xvclBhcnQ6IGZ1bmN0aW9uKCkgewogICAgdmFyIGRpZ2l0cyA9
IHRoaXMudG9TdHJpbmcoMTYpOwogICAgaWYgKHRoaXMgPCAxNikgcmV0dXJuICcw
JyArIGRpZ2l0czsKICAgIHJldHVybiBkaWdpdHM7CiAgfSwKCiAgc3VjYzogZnVu
Y3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcyArIDE7CiAgfSwKCiAgdGltZXM6IGZ1
bmN0aW9uKGl0ZXJhdG9yKSB7CiAgICAkUigwLCB0aGlzLCB0cnVlKS5lYWNoKGl0
ZXJhdG9yKTsKICAgIHJldHVybiB0aGlzOwogIH0KfSk7Cgp2YXIgVHJ5ID0gewog
IHRoZXNlOiBmdW5jdGlvbigpIHsKICAgIHZhciByZXR1cm5WYWx1ZTsKCiAgICBm
b3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAg
ICB2YXIgbGFtYmRhID0gYXJndW1lbnRzW2ldOwogICAgICB0cnkgewogICAgICAg
IHJldHVyblZhbHVlID0gbGFtYmRhKCk7CiAgICAgICAgYnJlYWs7CiAgICAgIH0g
Y2F0Y2ggKGUpIHt9CiAgICB9CgogICAgcmV0dXJuIHJldHVyblZhbHVlOwogIH0K
fQoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgp2YXIgUGVyaW9kaWNh
bEV4ZWN1dGVyID0gQ2xhc3MuY3JlYXRlKCk7ClBlcmlvZGljYWxFeGVjdXRlci5w
cm90b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGZy
ZXF1ZW5jeSkgewogICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrOwogICAgdGhp
cy5mcmVxdWVuY3kgPSBmcmVxdWVuY3k7CiAgICB0aGlzLmN1cnJlbnRseUV4ZWN1
dGluZyA9IGZhbHNlOwoKICAgIHRoaXMucmVnaXN0ZXJDYWxsYmFjaygpOwogIH0s
CgogIHJlZ2lzdGVyQ2FsbGJhY2s6IGZ1bmN0aW9uKCkgewogICAgdGhpcy50aW1l
ciA9IHNldEludGVydmFsKHRoaXMub25UaW1lckV2ZW50LmJpbmQodGhpcyksIHRo
aXMuZnJlcXVlbmN5ICogMTAwMCk7CiAgfSwKCiAgc3RvcDogZnVuY3Rpb24oKSB7
CiAgICBpZiAoIXRoaXMudGltZXIpIHJldHVybjsKICAgIGNsZWFySW50ZXJ2YWwo
dGhpcy50aW1lcik7CiAgICB0aGlzLnRpbWVyID0gbnVsbDsKICB9LAoKICBvblRp
bWVyRXZlbnQ6IGZ1bmN0aW9uKCkgewogICAgaWYgKCF0aGlzLmN1cnJlbnRseUV4
ZWN1dGluZykgewogICAgICB0cnkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhl
Y3V0aW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMpOwogICAg
ICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0g
ZmFsc2U7CiAgICAgIH0KICAgIH0KICB9Cn0KT2JqZWN0LmV4dGVuZChTdHJpbmcu
cHJvdG90eXBlLCB7CiAgZ3N1YjogZnVuY3Rpb24ocGF0dGVybiwgcmVwbGFjZW1l
bnQpIHsKICAgIHZhciByZXN1bHQgPSAnJywgc291cmNlID0gdGhpcywgbWF0Y2g7
CiAgICByZXBsYWNlbWVudCA9IGFyZ3VtZW50cy5jYWxsZWUucHJlcGFyZVJlcGxh
Y2VtZW50KHJlcGxhY2VtZW50KTsKCiAgICB3aGlsZSAoc291cmNlLmxlbmd0aCA+
IDApIHsKICAgICAgaWYgKG1hdGNoID0gc291cmNlLm1hdGNoKHBhdHRlcm4pKSB7
CiAgICAgICAgcmVzdWx0ICs9IHNvdXJjZS5zbGljZSgwLCBtYXRjaC5pbmRleCk7
CiAgICAgICAgcmVzdWx0ICs9IChyZXBsYWNlbWVudChtYXRjaCkgfHwgJycpLnRv
U3RyaW5nKCk7CiAgICAgICAgc291cmNlICA9IHNvdXJjZS5zbGljZShtYXRjaC5p
bmRleCArIG1hdGNoWzBdLmxlbmd0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAg
cmVzdWx0ICs9IHNvdXJjZSwgc291cmNlID0gJyc7CiAgICAgIH0KICAgIH0KICAg
IHJldHVybiByZXN1bHQ7CiAgfSwKCiAgc3ViOiBmdW5jdGlvbihwYXR0ZXJuLCBy
ZXBsYWNlbWVudCwgY291bnQpIHsKICAgIHJlcGxhY2VtZW50ID0gdGhpcy5nc3Vi
LnByZXBhcmVSZXBsYWNlbWVudChyZXBsYWNlbWVudCk7CiAgICBjb3VudCA9IGNv
dW50ID09PSB1bmRlZmluZWQgPyAxIDogY291bnQ7CgogICAgcmV0dXJuIHRoaXMu
Z3N1YihwYXR0ZXJuLCBmdW5jdGlvbihtYXRjaCkgewogICAgICBpZiAoLS1jb3Vu
dCA8IDApIHJldHVybiBtYXRjaFswXTsKICAgICAgcmV0dXJuIHJlcGxhY2VtZW50
KG1hdGNoKTsKICAgIH0pOwogIH0sCgogIHNjYW46IGZ1bmN0aW9uKHBhdHRlcm4s
IGl0ZXJhdG9yKSB7CiAgICB0aGlzLmdzdWIocGF0dGVybiwgaXRlcmF0b3IpOwog
ICAgcmV0dXJuIHRoaXM7CiAgfSwKCiAgdHJ1bmNhdGU6IGZ1bmN0aW9uKGxlbmd0
aCwgdHJ1bmNhdGlvbikgewogICAgbGVuZ3RoID0gbGVuZ3RoIHx8IDMwOwogICAg
dHJ1bmNhdGlvbiA9IHRydW5jYXRpb24gPT09IHVuZGVmaW5lZCA/ICcuLi4nIDog
dHJ1bmNhdGlvbjsKICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IGxlbmd0aCA/CiAg
ICAgIHRoaXMuc2xpY2UoMCwgbGVuZ3RoIC0gdHJ1bmNhdGlvbi5sZW5ndGgpICsg
dHJ1bmNhdGlvbiA6IHRoaXM7CiAgfSwKCiAgc3RyaXA6IGZ1bmN0aW9uKCkgewog
ICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzKy8sICcnKS5yZXBsYWNlKC9ccysk
LywgJycpOwogIH0sCgogIHN0cmlwVGFnczogZnVuY3Rpb24oKSB7CiAgICByZXR1
cm4gdGhpcy5yZXBsYWNlKC88XC8/W14+XSs+L2dpLCAnJyk7CiAgfSwKCiAgc3Ry
aXBTY3JpcHRzOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2Uo
bmV3IFJlZ0V4cChQcm90b3R5cGUuU2NyaXB0RnJhZ21lbnQsICdpbWcnKSwgJycp
OwogIH0sCgogIGV4dHJhY3RTY3JpcHRzOiBmdW5jdGlvbigpIHsKICAgIHZhciBt
YXRjaEFsbCA9IG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAn
aW1nJyk7CiAgICB2YXIgbWF0Y2hPbmUgPSBuZXcgUmVnRXhwKFByb3RvdHlwZS5T
Y3JpcHRGcmFnbWVudCwgJ2ltJyk7CiAgICByZXR1cm4gKHRoaXMubWF0Y2gobWF0
Y2hBbGwpIHx8IFtdKS5tYXAoZnVuY3Rpb24oc2NyaXB0VGFnKSB7CiAgICAgIHJl
dHVybiAoc2NyaXB0VGFnLm1hdGNoKG1hdGNoT25lKSB8fCBbJycsICcnXSlbMV07
CiAgICB9KTsKICB9LAoKICBldmFsU2NyaXB0czogZnVuY3Rpb24oKSB7CiAgICBy
ZXR1cm4gdGhpcy5leHRyYWN0U2NyaXB0cygpLm1hcChmdW5jdGlvbihzY3JpcHQp
IHsgcmV0dXJuIGV2YWwoc2NyaXB0KSB9KTsKICB9LAoKICBlc2NhcGVIVE1MOiBm
dW5jdGlvbigpIHsKICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50
KCdkaXYnKTsKICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUo
dGhpcyk7CiAgICBkaXYuYXBwZW5kQ2hpbGQodGV4dCk7CiAgICByZXR1cm4gZGl2
LmlubmVySFRNTDsKICB9LAoKICB1bmVzY2FwZUhUTUw6IGZ1bmN0aW9uKCkgewog
ICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAg
ZGl2LmlubmVySFRNTCA9IHRoaXMuc3RyaXBUYWdzKCk7CiAgICByZXR1cm4gZGl2
LmNoaWxkTm9kZXNbMF0gPyBkaXYuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgOiAn
JzsKICB9LAoKICB0b1F1ZXJ5UGFyYW1zOiBmdW5jdGlvbigpIHsKICAgIHZhciBw
YWlycyA9IHRoaXMubWF0Y2goL15cPz8oLiopJC8pWzFdLnNwbGl0KCcmJyk7CiAg
ICByZXR1cm4gcGFpcnMuaW5qZWN0KHt9LCBmdW5jdGlvbihwYXJhbXMsIHBhaXJT
dHJpbmcpIHsKICAgICAgdmFyIHBhaXIgID0gcGFpclN0cmluZy5zcGxpdCgnPScp
OwogICAgICB2YXIgdmFsdWUgPSBwYWlyWzFdID8gZGVjb2RlVVJJQ29tcG9uZW50
KHBhaXJbMV0pIDogdW5kZWZpbmVkOwogICAgICBwYXJhbXNbZGVjb2RlVVJJQ29t
cG9uZW50KHBhaXJbMF0pXSA9IHZhbHVlOwogICAgICByZXR1cm4gcGFyYW1zOwog
ICAgfSk7CiAgfSwKCiAgdG9BcnJheTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4g
dGhpcy5zcGxpdCgnJyk7CiAgfSwKCiAgY2FtZWxpemU6IGZ1bmN0aW9uKCkgewog
ICAgdmFyIG9TdHJpbmdMaXN0ID0gdGhpcy5zcGxpdCgnLScpOwogICAgaWYgKG9T
dHJpbmdMaXN0Lmxlbmd0aCA9PSAxKSByZXR1cm4gb1N0cmluZ0xpc3RbMF07Cgog
ICAgdmFyIGNhbWVsaXplZFN0cmluZyA9IHRoaXMuaW5kZXhPZignLScpID09IDAK
ICAgICAgPyBvU3RyaW5nTGlzdFswXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSAr
IG9TdHJpbmdMaXN0WzBdLnN1YnN0cmluZygxKQogICAgICA6IG9TdHJpbmdMaXN0
WzBdOwoKICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBvU3RyaW5nTGlzdC5sZW5n
dGg7IGkgPCBsZW47IGkrKykgewogICAgICB2YXIgcyA9IG9TdHJpbmdMaXN0W2ld
OwogICAgICBjYW1lbGl6ZWRTdHJpbmcgKz0gcy5jaGFyQXQoMCkudG9VcHBlckNh
c2UoKSArIHMuc3Vic3RyaW5nKDEpOwogICAgfQoKICAgIHJldHVybiBjYW1lbGl6
ZWRTdHJpbmc7CiAgfSwKCiAgaW5zcGVjdDogZnVuY3Rpb24odXNlRG91YmxlUXVv
dGVzKSB7CiAgICB2YXIgZXNjYXBlZFN0cmluZyA9IHRoaXMucmVwbGFjZSgvXFwv
ZywgJ1xcXFwnKTsKICAgIGlmICh1c2VEb3VibGVRdW90ZXMpCiAgICAgIHJldHVy
biAnIicgKyBlc2NhcGVkU3RyaW5nLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyIn
OwogICAgZWxzZQogICAgICByZXR1cm4gIiciICsgZXNjYXBlZFN0cmluZy5yZXBs
YWNlKC8nL2csICdcXFwnJykgKyAiJyI7CiAgfQp9KTsKClN0cmluZy5wcm90b3R5
cGUuZ3N1Yi5wcmVwYXJlUmVwbGFjZW1lbnQgPSBmdW5jdGlvbihyZXBsYWNlbWVu
dCkgewogIGlmICh0eXBlb2YgcmVwbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJykgcmV0
dXJuIHJlcGxhY2VtZW50OwogIHZhciB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShy
ZXBsYWNlbWVudCk7CiAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVybiB0
ZW1wbGF0ZS5ldmFsdWF0ZShtYXRjaCkgfTsKfQoKU3RyaW5nLnByb3RvdHlwZS5w
YXJzZVF1ZXJ5ID0gU3RyaW5nLnByb3RvdHlwZS50b1F1ZXJ5UGFyYW1zOwoKdmFy
IFRlbXBsYXRlID0gQ2xhc3MuY3JlYXRlKCk7ClRlbXBsYXRlLlBhdHRlcm4gPSAv
KF58LnxccnxcbikoI1x7KC4qPylcfSkvOwpUZW1wbGF0ZS5wcm90b3R5cGUgPSB7
CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24odGVtcGxhdGUsIHBhdHRlcm4pIHsKICAg
IHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZS50b1N0cmluZygpOwogICAgdGhpcy5w
YXR0ZXJuICA9IHBhdHRlcm4gfHwgVGVtcGxhdGUuUGF0dGVybjsKICB9LAoKICBl
dmFsdWF0ZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gdGhpcy50ZW1w
bGF0ZS5nc3ViKHRoaXMucGF0dGVybiwgZnVuY3Rpb24obWF0Y2gpIHsKICAgICAg
dmFyIGJlZm9yZSA9IG1hdGNoWzFdOwogICAgICBpZiAoYmVmb3JlID09ICdcXCcp
IHJldHVybiBtYXRjaFsyXTsKICAgICAgcmV0dXJuIGJlZm9yZSArIChvYmplY3Rb
bWF0Y2hbM11dIHx8ICcnKS50b1N0cmluZygpOwogICAgfSk7CiAgfQp9Cgp2YXIg
JGJyZWFrICAgID0gbmV3IE9iamVjdCgpOwp2YXIgJGNvbnRpbnVlID0gbmV3IE9i
amVjdCgpOwoKdmFyIEVudW1lcmFibGUgPSB7CiAgZWFjaDogZnVuY3Rpb24oaXRl
cmF0b3IpIHsKICAgIHZhciBpbmRleCA9IDA7CiAgICB0cnkgewogICAgICB0aGlz
Ll9lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAg
IGl0ZXJhdG9yKHZhbHVlLCBpbmRleCsrKTsKICAgICAgICB9IGNhdGNoIChlKSB7
CiAgICAgICAgICBpZiAoZSAhPSAkY29udGludWUpIHRocm93IGU7CiAgICAgICAg
fQogICAgICB9KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaWYgKGUgIT0gJGJy
ZWFrKSB0aHJvdyBlOwogICAgfQogIH0sCgogIGFsbDogZnVuY3Rpb24oaXRlcmF0
b3IpIHsKICAgIHZhciByZXN1bHQgPSB0cnVlOwogICAgdGhpcy5lYWNoKGZ1bmN0
aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXN1bHQgPSByZXN1bHQgJiYgISEo
aXRlcmF0b3IgfHwgUHJvdG90eXBlLkspKHZhbHVlLCBpbmRleCk7CiAgICAgIGlm
ICghcmVzdWx0KSB0aHJvdyAkYnJlYWs7CiAgICB9KTsKICAgIHJldHVybiByZXN1
bHQ7CiAgfSwKCiAgYW55OiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFyIHJl
c3VsdCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRl
eCkgewogICAgICBpZiAocmVzdWx0ID0gISEoaXRlcmF0b3IgfHwgUHJvdG90eXBl
LkspKHZhbHVlLCBpbmRleCkpCiAgICAgICAgdGhyb3cgJGJyZWFrOwogICAgfSk7
CiAgICByZXR1cm4gcmVzdWx0OwogIH0sCgogIGNvbGxlY3Q6IGZ1bmN0aW9uKGl0
ZXJhdG9yKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1
bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXN1bHRzLnB1c2goaXRlcmF0
b3IodmFsdWUsIGluZGV4KSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHRzOwog
IH0sCgogIGRldGVjdDogZnVuY3Rpb24gKGl0ZXJhdG9yKSB7CiAgICB2YXIgcmVz
dWx0OwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAg
ICBpZiAoaXRlcmF0b3IodmFsdWUsIGluZGV4KSkgewogICAgICAgIHJlc3VsdCA9
IHZhbHVlOwogICAgICAgIHRocm93ICRicmVhazsKICAgICAgfQogICAgfSk7CiAg
ICByZXR1cm4gcmVzdWx0OwogIH0sCgogIGZpbmRBbGw6IGZ1bmN0aW9uKGl0ZXJh
dG9yKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0
aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAoaXRlcmF0b3IodmFsdWUsIGlu
ZGV4KSkKICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgfSk7CiAgICBy
ZXR1cm4gcmVzdWx0czsKICB9LAoKICBncmVwOiBmdW5jdGlvbihwYXR0ZXJuLCBp
dGVyYXRvcikgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHRoaXMuZWFjaChm
dW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgdmFyIHN0cmluZ1ZhbHVlID0g
dmFsdWUudG9TdHJpbmcoKTsKICAgICAgaWYgKHN0cmluZ1ZhbHVlLm1hdGNoKHBh
dHRlcm4pKQogICAgICAgIHJlc3VsdHMucHVzaCgoaXRlcmF0b3IgfHwgUHJvdG90
eXBlLkspKHZhbHVlLCBpbmRleCkpOwogICAgfSkKICAgIHJldHVybiByZXN1bHRz
OwogIH0sCgogIGluY2x1ZGU6IGZ1bmN0aW9uKG9iamVjdCkgewogICAgdmFyIGZv
dW5kID0gZmFsc2U7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUpIHsKICAg
ICAgaWYgKHZhbHVlID09IG9iamVjdCkgewogICAgICAgIGZvdW5kID0gdHJ1ZTsK
ICAgICAgICB0aHJvdyAkYnJlYWs7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJu
IGZvdW5kOwogIH0sCgogIGluamVjdDogZnVuY3Rpb24obWVtbywgaXRlcmF0b3Ip
IHsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAg
bWVtbyA9IGl0ZXJhdG9yKG1lbW8sIHZhbHVlLCBpbmRleCk7CiAgICB9KTsKICAg
IHJldHVybiBtZW1vOwogIH0sCgogIGludm9rZTogZnVuY3Rpb24obWV0aG9kKSB7
CiAgICB2YXIgYXJncyA9ICRBKGFyZ3VtZW50cykuc2xpY2UoMSk7CiAgICByZXR1
cm4gdGhpcy5jb2xsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB2
YWx1ZVttZXRob2RdLmFwcGx5KHZhbHVlLCBhcmdzKTsKICAgIH0pOwogIH0sCgog
IG1heDogZnVuY3Rpb24oaXRlcmF0b3IpIHsKICAgIHZhciByZXN1bHQ7CiAgICB0
aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHZhbHVlID0g
KGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LKSh2YWx1ZSwgaW5kZXgpOwogICAgICBp
ZiAocmVzdWx0ID09IHVuZGVmaW5lZCB8fCB2YWx1ZSA+PSByZXN1bHQpCiAgICAg
ICAgcmVzdWx0ID0gdmFsdWU7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAg
fSwKCiAgbWluOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFyIHJlc3VsdDsK
ICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgdmFs
dWUgPSAoaXRlcmF0b3IgfHwgUHJvdG90eXBlLkspKHZhbHVlLCBpbmRleCk7CiAg
ICAgIGlmIChyZXN1bHQgPT0gdW5kZWZpbmVkIHx8IHZhbHVlIDwgcmVzdWx0KQog
ICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0
OwogIH0sCgogIHBhcnRpdGlvbjogZnVuY3Rpb24oaXRlcmF0b3IpIHsKICAgIHZh
ciB0cnVlcyA9IFtdLCBmYWxzZXMgPSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlv
bih2YWx1ZSwgaW5kZXgpIHsKICAgICAgKChpdGVyYXRvciB8fCBQcm90b3R5cGUu
SykodmFsdWUsIGluZGV4KSA/CiAgICAgICAgdHJ1ZXMgOiBmYWxzZXMpLnB1c2go
dmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gW3RydWVzLCBmYWxzZXNdOwogIH0s
CgogIHBsdWNrOiBmdW5jdGlvbihwcm9wZXJ0eSkgewogICAgdmFyIHJlc3VsdHMg
PSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAg
ICAgcmVzdWx0cy5wdXNoKHZhbHVlW3Byb3BlcnR5XSk7CiAgICB9KTsKICAgIHJl
dHVybiByZXN1bHRzOwogIH0sCgogIHJlamVjdDogZnVuY3Rpb24oaXRlcmF0b3Ip
IHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24o
dmFsdWUsIGluZGV4KSB7CiAgICAgIGlmICghaXRlcmF0b3IodmFsdWUsIGluZGV4
KSkKICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgfSk7CiAgICByZXR1
cm4gcmVzdWx0czsKICB9LAoKICBzb3J0Qnk6IGZ1bmN0aW9uKGl0ZXJhdG9yKSB7
CiAgICByZXR1cm4gdGhpcy5jb2xsZWN0KGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkg
ewogICAgICByZXR1cm4ge3ZhbHVlOiB2YWx1ZSwgY3JpdGVyaWE6IGl0ZXJhdG9y
KHZhbHVlLCBpbmRleCl9OwogICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdo
dCkgewogICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWEsIGIgPSByaWdodC5jcml0
ZXJpYTsKICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwOwog
ICAgfSkucGx1Y2soJ3ZhbHVlJyk7CiAgfSwKCiAgdG9BcnJheTogZnVuY3Rpb24o
KSB7CiAgICByZXR1cm4gdGhpcy5jb2xsZWN0KFByb3RvdHlwZS5LKTsKICB9LAoK
ICB6aXA6IGZ1bmN0aW9uKCkgewogICAgdmFyIGl0ZXJhdG9yID0gUHJvdG90eXBl
LkssIGFyZ3MgPSAkQShhcmd1bWVudHMpOwogICAgaWYgKHR5cGVvZiBhcmdzLmxh
c3QoKSA9PSAnZnVuY3Rpb24nKQogICAgICBpdGVyYXRvciA9IGFyZ3MucG9wKCk7
CgogICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcmdzKS5tYXAo
JEEpOwogICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkg
ewogICAgICByZXR1cm4gaXRlcmF0b3IoY29sbGVjdGlvbnMucGx1Y2soaW5kZXgp
KTsKICAgIH0pOwogIH0sCgogIGluc3BlY3Q6IGZ1bmN0aW9uKCkgewogICAgcmV0
dXJuICcjPEVudW1lcmFibGU6JyArIHRoaXMudG9BcnJheSgpLmluc3BlY3QoKSAr
ICc+JzsKICB9Cn0KCk9iamVjdC5leHRlbmQoRW51bWVyYWJsZSwgewogIG1hcDog
ICAgIEVudW1lcmFibGUuY29sbGVjdCwKICBmaW5kOiAgICBFbnVtZXJhYmxlLmRl
dGVjdCwKICBzZWxlY3Q6ICBFbnVtZXJhYmxlLmZpbmRBbGwsCiAgbWVtYmVyOiAg
RW51bWVyYWJsZS5pbmNsdWRlLAogIGVudHJpZXM6IEVudW1lcmFibGUudG9BcnJh
eQp9KTsKdmFyICRBID0gQXJyYXkuZnJvbSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7
CiAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIFtdOwogIGlmIChpdGVyYWJsZS50b0Fy
cmF5KSB7CiAgICByZXR1cm4gaXRlcmFibGUudG9BcnJheSgpOwogIH0gZWxzZSB7
CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBp
dGVyYWJsZS5sZW5ndGg7IGkrKykKICAgICAgcmVzdWx0cy5wdXNoKGl0ZXJhYmxl
W2ldKTsKICAgIHJldHVybiByZXN1bHRzOwogIH0KfQoKT2JqZWN0LmV4dGVuZChB
cnJheS5wcm90b3R5cGUsIEVudW1lcmFibGUpOwoKaWYgKCFBcnJheS5wcm90b3R5
cGUuX3JldmVyc2UpCiAgQXJyYXkucHJvdG90eXBlLl9yZXZlcnNlID0gQXJyYXku
cHJvdG90eXBlLnJldmVyc2U7CgpPYmplY3QuZXh0ZW5kKEFycmF5LnByb3RvdHlw
ZSwgewogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgZm9yICh2YXIg
aSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKQogICAgICBpdGVyYXRvcih0aGlz
W2ldKTsKICB9LAoKICBjbGVhcjogZnVuY3Rpb24oKSB7CiAgICB0aGlzLmxlbmd0
aCA9IDA7CiAgICByZXR1cm4gdGhpczsKICB9LAoKICBmaXJzdDogZnVuY3Rpb24o
KSB7CiAgICByZXR1cm4gdGhpc1swXTsKICB9LAoKICBsYXN0OiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07CiAgfSwKCiAgY29t
cGFjdDogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5zZWxlY3QoZnVuY3Rp
b24odmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlICE9IHVuZGVmaW5lZCB8fCB2
YWx1ZSAhPSBudWxsOwogICAgfSk7CiAgfSwKCiAgZmxhdHRlbjogZnVuY3Rpb24o
KSB7CiAgICByZXR1cm4gdGhpcy5pbmplY3QoW10sIGZ1bmN0aW9uKGFycmF5LCB2
YWx1ZSkgewogICAgICByZXR1cm4gYXJyYXkuY29uY2F0KHZhbHVlICYmIHZhbHVl
LmNvbnN0cnVjdG9yID09IEFycmF5ID8KICAgICAgICB2YWx1ZS5mbGF0dGVuKCkg
OiBbdmFsdWVdKTsKICAgIH0pOwogIH0sCgogIHdpdGhvdXQ6IGZ1bmN0aW9uKCkg
ewogICAgdmFyIHZhbHVlcyA9ICRBKGFyZ3VtZW50cyk7CiAgICByZXR1cm4gdGhp
cy5zZWxlY3QoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuICF2YWx1ZXMu
aW5jbHVkZSh2YWx1ZSk7CiAgICB9KTsKICB9LAoKICBpbmRleE9mOiBmdW5jdGlv
bihvYmplY3QpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7
IGkrKykKICAgICAgaWYgKHRoaXNbaV0gPT0gb2JqZWN0KSByZXR1cm4gaTsKICAg
IHJldHVybiAtMTsKICB9LAoKICByZXZlcnNlOiBmdW5jdGlvbihpbmxpbmUpIHsK
ICAgIHJldHVybiAoaW5saW5lICE9PSBmYWxzZSA/IHRoaXMgOiB0aGlzLnRvQXJy
YXkoKSkuX3JldmVyc2UoKTsKICB9LAoKICByZWR1Y2U6IGZ1bmN0aW9uKCkgewog
ICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gMSA/IHRoaXMgOiB0aGlzWzBdOwogIH0s
CgogIHVuaXE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtd
LCBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHsKICAgICAgcmV0dXJuIGFycmF5Lmlu
Y2x1ZGUodmFsdWUpID8gYXJyYXkgOiBhcnJheS5jb25jYXQoW3ZhbHVlXSk7CiAg
ICB9KTsKICB9LAoKICBpbnNwZWN0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiAn
WycgKyB0aGlzLm1hcChPYmplY3QuaW5zcGVjdCkuam9pbignLCAnKSArICddJzsK
ICB9Cn0pOwp2YXIgSGFzaCA9IHsKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0b3Ip
IHsKICAgIGZvciAodmFyIGtleSBpbiB0aGlzKSB7CiAgICAgIHZhciB2YWx1ZSA9
IHRoaXNba2V5XTsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24n
KSBjb250aW51ZTsKCiAgICAgIHZhciBwYWlyID0gW2tleSwgdmFsdWVdOwogICAg
ICBwYWlyLmtleSA9IGtleTsKICAgICAgcGFpci52YWx1ZSA9IHZhbHVlOwogICAg
ICBpdGVyYXRvcihwYWlyKTsKICAgIH0KICB9LAoKICBrZXlzOiBmdW5jdGlvbigp
IHsKICAgIHJldHVybiB0aGlzLnBsdWNrKCdrZXknKTsKICB9LAoKICB2YWx1ZXM6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ3ZhbHVlJyk7CiAg
fSwKCiAgbWVyZ2U6IGZ1bmN0aW9uKGhhc2gpIHsKICAgIHJldHVybiAkSChoYXNo
KS5pbmplY3QoJEgodGhpcyksIGZ1bmN0aW9uKG1lcmdlZEhhc2gsIHBhaXIpIHsK
ICAgICAgbWVyZ2VkSGFzaFtwYWlyLmtleV0gPSBwYWlyLnZhbHVlOwogICAgICBy
ZXR1cm4gbWVyZ2VkSGFzaDsKICAgIH0pOwogIH0sCgogIHRvUXVlcnlTdHJpbmc6
IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHBhaXIp
IHsKICAgICAgcmV0dXJuIHBhaXIubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9p
bignPScpOwogICAgfSkuam9pbignJicpOwogIH0sCgogIGluc3BlY3Q6IGZ1bmN0
aW9uKCkgewogICAgcmV0dXJuICcjPEhhc2g6eycgKyB0aGlzLm1hcChmdW5jdGlv
bihwYWlyKSB7CiAgICAgIHJldHVybiBwYWlyLm1hcChPYmplY3QuaW5zcGVjdCku
am9pbignOiAnKTsKICAgIH0pLmpvaW4oJywgJykgKyAnfT4nOwogIH0KfQoKZnVu
Y3Rpb24gJEgob2JqZWN0KSB7CiAgdmFyIGhhc2ggPSBPYmplY3QuZXh0ZW5kKHt9
LCBvYmplY3QgfHwge30pOwogIE9iamVjdC5leHRlbmQoaGFzaCwgRW51bWVyYWJs
ZSk7CiAgT2JqZWN0LmV4dGVuZChoYXNoLCBIYXNoKTsKICByZXR1cm4gaGFzaDsK
fQpPYmplY3RSYW5nZSA9IENsYXNzLmNyZWF0ZSgpOwpPYmplY3QuZXh0ZW5kKE9i
amVjdFJhbmdlLnByb3RvdHlwZSwgRW51bWVyYWJsZSk7Ck9iamVjdC5leHRlbmQo
T2JqZWN0UmFuZ2UucHJvdG90eXBlLCB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24o
c3RhcnQsIGVuZCwgZXhjbHVzaXZlKSB7CiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7
CiAgICB0aGlzLmVuZCA9IGVuZDsKICAgIHRoaXMuZXhjbHVzaXZlID0gZXhjbHVz
aXZlOwogIH0sCgogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvcikgewogICAgdmFy
IHZhbHVlID0gdGhpcy5zdGFydDsKICAgIHdoaWxlICh0aGlzLmluY2x1ZGUodmFs
dWUpKSB7CiAgICAgIGl0ZXJhdG9yKHZhbHVlKTsKICAgICAgdmFsdWUgPSB2YWx1
ZS5zdWNjKCk7CiAgICB9CiAgfSwKCiAgaW5jbHVkZTogZnVuY3Rpb24odmFsdWUp
IHsKICAgIGlmICh2YWx1ZSA8IHRoaXMuc3RhcnQpCiAgICAgIHJldHVybiBmYWxz
ZTsKICAgIGlmICh0aGlzLmV4Y2x1c2l2ZSkKICAgICAgcmV0dXJuIHZhbHVlIDwg
dGhpcy5lbmQ7CiAgICByZXR1cm4gdmFsdWUgPD0gdGhpcy5lbmQ7CiAgfQp9KTsK
CnZhciAkUiA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIGV4Y2x1c2l2ZSkgewogIHJl
dHVybiBuZXcgT2JqZWN0UmFuZ2Uoc3RhcnQsIGVuZCwgZXhjbHVzaXZlKTsKfQoK
dmFyIEFqYXggPSB7CiAgZ2V0VHJhbnNwb3J0OiBmdW5jdGlvbigpIHsKICAgIHJl
dHVybiBUcnkudGhlc2UoCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgWE1M
SHR0cFJlcXVlc3QoKX0sCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgQWN0
aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKX0sCiAgICAgIGZ1bmN0aW9uKCkg
e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKX0K
ICAgICkgfHwgZmFsc2U7CiAgfSwKCiAgYWN0aXZlUmVxdWVzdENvdW50OiAwCn0K
CkFqYXguUmVzcG9uZGVycyA9IHsKICByZXNwb25kZXJzOiBbXSwKCiAgX2VhY2g6
IGZ1bmN0aW9uKGl0ZXJhdG9yKSB7CiAgICB0aGlzLnJlc3BvbmRlcnMuX2VhY2go
aXRlcmF0b3IpOwogIH0sCgogIHJlZ2lzdGVyOiBmdW5jdGlvbihyZXNwb25kZXJU
b0FkZCkgewogICAgaWYgKCF0aGlzLmluY2x1ZGUocmVzcG9uZGVyVG9BZGQpKQog
ICAgICB0aGlzLnJlc3BvbmRlcnMucHVzaChyZXNwb25kZXJUb0FkZCk7CiAgfSwK
CiAgdW5yZWdpc3RlcjogZnVuY3Rpb24ocmVzcG9uZGVyVG9SZW1vdmUpIHsKICAg
IHRoaXMucmVzcG9uZGVycyA9IHRoaXMucmVzcG9uZGVycy53aXRob3V0KHJlc3Bv
bmRlclRvUmVtb3ZlKTsKICB9LAoKICBkaXNwYXRjaDogZnVuY3Rpb24oY2FsbGJh
Y2ssIHJlcXVlc3QsIHRyYW5zcG9ydCwganNvbikgewogICAgdGhpcy5lYWNoKGZ1
bmN0aW9uKHJlc3BvbmRlcikgewogICAgICBpZiAocmVzcG9uZGVyW2NhbGxiYWNr
XSAmJiB0eXBlb2YgcmVzcG9uZGVyW2NhbGxiYWNrXSA9PSAnZnVuY3Rpb24nKSB7
CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJlc3BvbmRlcltjYWxsYmFja10uYXBw
bHkocmVzcG9uZGVyLCBbcmVxdWVzdCwgdHJhbnNwb3J0LCBqc29uXSk7CiAgICAg
ICAgfSBjYXRjaCAoZSkge30KICAgICAgfQogICAgfSk7CiAgfQp9OwoKT2JqZWN0
LmV4dGVuZChBamF4LlJlc3BvbmRlcnMsIEVudW1lcmFibGUpOwoKQWpheC5SZXNw
b25kZXJzLnJlZ2lzdGVyKHsKICBvbkNyZWF0ZTogZnVuY3Rpb24oKSB7CiAgICBB
amF4LmFjdGl2ZVJlcXVlc3RDb3VudCsrOwogIH0sCgogIG9uQ29tcGxldGU6IGZ1
bmN0aW9uKCkgewogICAgQWpheC5hY3RpdmVSZXF1ZXN0Q291bnQtLTsKICB9Cn0p
OwoKQWpheC5CYXNlID0gZnVuY3Rpb24oKSB7fTsKQWpheC5CYXNlLnByb3RvdHlw
ZSA9IHsKICBzZXRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICB0aGlz
Lm9wdGlvbnMgPSB7CiAgICAgIG1ldGhvZDogICAgICAgJ3Bvc3QnLAogICAgICBh
c3luY2hyb25vdXM6IHRydWUsCiAgICAgIGNvbnRlbnRUeXBlOiAgJ2FwcGxpY2F0
aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCiAgICAgIHBhcmFtZXRlcnM6ICAg
JycKICAgIH0KICAgIE9iamVjdC5leHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25z
IHx8IHt9KTsKICB9LAoKICByZXNwb25zZUlzU3VjY2VzczogZnVuY3Rpb24oKSB7
CiAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuc3RhdHVzID09IHVuZGVmaW5lZAog
ICAgICAgIHx8IHRoaXMudHJhbnNwb3J0LnN0YXR1cyA9PSAwCiAgICAgICAgfHwg
KHRoaXMudHJhbnNwb3J0LnN0YXR1cyA+PSAyMDAgJiYgdGhpcy50cmFuc3BvcnQu
c3RhdHVzIDwgMzAwKTsKICB9LAoKICByZXNwb25zZUlzRmFpbHVyZTogZnVuY3Rp
b24oKSB7CiAgICByZXR1cm4gIXRoaXMucmVzcG9uc2VJc1N1Y2Nlc3MoKTsKICB9
Cn0KCkFqYXguUmVxdWVzdCA9IENsYXNzLmNyZWF0ZSgpOwpBamF4LlJlcXVlc3Qu
RXZlbnRzID0KICBbJ1VuaW5pdGlhbGl6ZWQnLCAnTG9hZGluZycsICdMb2FkZWQn
LCAnSW50ZXJhY3RpdmUnLCAnQ29tcGxldGUnXTsKCkFqYXguUmVxdWVzdC5wcm90
b3R5cGUgPSBPYmplY3QuZXh0ZW5kKG5ldyBBamF4LkJhc2UoKSwgewogIGluaXRp
YWxpemU6IGZ1bmN0aW9uKHVybCwgb3B0aW9ucykgewogICAgdGhpcy50cmFuc3Bv
cnQgPSBBamF4LmdldFRyYW5zcG9ydCgpOwogICAgdGhpcy5zZXRPcHRpb25zKG9w
dGlvbnMpOwogICAgdGhpcy5yZXF1ZXN0KHVybCk7CiAgfSwKCiAgcmVxdWVzdDog
ZnVuY3Rpb24odXJsKSB7CiAgICB2YXIgcGFyYW1ldGVycyA9IHRoaXMub3B0aW9u
cy5wYXJhbWV0ZXJzIHx8ICcnOwogICAgaWYgKHBhcmFtZXRlcnMubGVuZ3RoID4g
MCkgcGFyYW1ldGVycyArPSAnJl89JzsKCiAgICAvKiBTaW11bGF0ZSBvdGhlciB2
ZXJicyBvdmVyIHBvc3QgKi8KICAgIGlmICh0aGlzLm9wdGlvbnMubWV0aG9kICE9
ICdnZXQnICYmIHRoaXMub3B0aW9ucy5tZXRob2QgIT0gJ3Bvc3QnKSB7CiAgICAg
IHBhcmFtZXRlcnMgKz0gKHBhcmFtZXRlcnMubGVuZ3RoID4gMCA/ICcmJyA6ICcn
KSArICdfbWV0aG9kPScgKyB0aGlzLm9wdGlvbnMubWV0aG9kOwogICAgICB0aGlz
Lm9wdGlvbnMubWV0aG9kID0gJ3Bvc3QnOwogICAgfQoKICAgIHRyeSB7CiAgICAg
IHRoaXMudXJsID0gdXJsOwogICAgICBpZiAodGhpcy5vcHRpb25zLm1ldGhvZCA9
PSAnZ2V0JyAmJiBwYXJhbWV0ZXJzLmxlbmd0aCA+IDApCiAgICAgICAgdGhpcy51
cmwgKz0gKHRoaXMudXJsLm1hdGNoKC9cPy8pID8gJyYnIDogJz8nKSArIHBhcmFt
ZXRlcnM7CgogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uQ3JlYXRl
JywgdGhpcywgdGhpcy50cmFuc3BvcnQpOwoKICAgICAgdGhpcy50cmFuc3BvcnQu
b3Blbih0aGlzLm9wdGlvbnMubWV0aG9kLCB0aGlzLnVybCwKICAgICAgICB0aGlz
Lm9wdGlvbnMuYXN5bmNocm9ub3VzKTsKCiAgICAgIGlmICh0aGlzLm9wdGlvbnMu
YXN5bmNocm9ub3VzKQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRo
aXMucmVzcG9uZFRvUmVhZHlTdGF0ZSgxKSB9LmJpbmQodGhpcyksIDEwKTsKCiAg
ICAgIHRoaXMudHJhbnNwb3J0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMub25T
dGF0ZUNoYW5nZS5iaW5kKHRoaXMpOwogICAgICB0aGlzLnNldFJlcXVlc3RIZWFk
ZXJzKCk7CgogICAgICB2YXIgYm9keSA9IHRoaXMub3B0aW9ucy5wb3N0Qm9keSA/
IHRoaXMub3B0aW9ucy5wb3N0Qm9keSA6IHBhcmFtZXRlcnM7CiAgICAgIHRoaXMu
dHJhbnNwb3J0LnNlbmQodGhpcy5vcHRpb25zLm1ldGhvZCA9PSAncG9zdCcgPyBi
b2R5IDogbnVsbCk7CgogICAgICAvKiBGb3JjZSBGaXJlZm94IHRvIGhhbmRsZSBy
ZWFkeSBzdGF0ZSA0IGZvciBzeW5jaHJvbm91cyByZXF1ZXN0cyAqLwogICAgICBp
ZiAoIXRoaXMub3B0aW9ucy5hc3luY2hyb25vdXMgJiYgdGhpcy50cmFuc3BvcnQu
b3ZlcnJpZGVNaW1lVHlwZSkKICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2UoKTsK
CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuZGlzcGF0Y2hFeGNlcHRpb24o
ZSk7CiAgICB9CiAgfSwKCiAgc2V0UmVxdWVzdEhlYWRlcnM6IGZ1bmN0aW9uKCkg
ewogICAgdmFyIHJlcXVlc3RIZWFkZXJzID0KICAgICAgWydYLVJlcXVlc3RlZC1X
aXRoJywgJ1hNTEh0dHBSZXF1ZXN0JywKICAgICAgICdYLVByb3RvdHlwZS1WZXJz
aW9uJywgUHJvdG90eXBlLlZlcnNpb24sCiAgICAgICAnQWNjZXB0JywgJ3RleHQv
amF2YXNjcmlwdCwgdGV4dC9odG1sLCBhcHBsaWNhdGlvbi94bWwsIHRleHQveG1s
LCAqLyonXTsKCiAgICBpZiAodGhpcy5vcHRpb25zLm1ldGhvZCA9PSAncG9zdCcp
IHsKICAgICAgcmVxdWVzdEhlYWRlcnMucHVzaCgnQ29udGVudC10eXBlJywgdGhp
cy5vcHRpb25zLmNvbnRlbnRUeXBlKTsKCiAgICAgIC8qIEZvcmNlICJDb25uZWN0
aW9uOiBjbG9zZSIgZm9yIE1vemlsbGEgYnJvd3NlcnMgdG8gd29yayBhcm91bmQK
ICAgICAgICogYSBidWcgd2hlcmUgWE1MSHR0cFJlcWV1ZXN0IHNlbmRzIGFuIGlu
Y29ycmVjdCBDb250ZW50LWxlbmd0aAogICAgICAgKiBoZWFkZXIuIFNlZSBNb3pp
bGxhIEJ1Z3ppbGxhICMyNDY2NTEuCiAgICAgICAqLwogICAgICBpZiAodGhpcy50
cmFuc3BvcnQub3ZlcnJpZGVNaW1lVHlwZSkKICAgICAgICByZXF1ZXN0SGVhZGVy
cy5wdXNoKCdDb25uZWN0aW9uJywgJ2Nsb3NlJyk7CiAgICB9CgogICAgaWYgKHRo
aXMub3B0aW9ucy5yZXF1ZXN0SGVhZGVycykKICAgICAgcmVxdWVzdEhlYWRlcnMu
cHVzaC5hcHBseShyZXF1ZXN0SGVhZGVycywgdGhpcy5vcHRpb25zLnJlcXVlc3RI
ZWFkZXJzKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcXVlc3RIZWFkZXJz
Lmxlbmd0aDsgaSArPSAyKQogICAgICB0aGlzLnRyYW5zcG9ydC5zZXRSZXF1ZXN0
SGVhZGVyKHJlcXVlc3RIZWFkZXJzW2ldLCByZXF1ZXN0SGVhZGVyc1tpKzFdKTsK
ICB9LAoKICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbigpIHsKICAgIHZhciByZWFk
eVN0YXRlID0gdGhpcy50cmFuc3BvcnQucmVhZHlTdGF0ZTsKICAgIGlmIChyZWFk
eVN0YXRlICE9IDEpCiAgICAgIHRoaXMucmVzcG9uZFRvUmVhZHlTdGF0ZSh0aGlz
LnRyYW5zcG9ydC5yZWFkeVN0YXRlKTsKICB9LAoKICBoZWFkZXI6IGZ1bmN0aW9u
KG5hbWUpIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5n
ZXRSZXNwb25zZUhlYWRlcihuYW1lKTsKICAgIH0gY2F0Y2ggKGUpIHt9CiAgfSwK
CiAgZXZhbEpTT046IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJu
IGV2YWwoJygnICsgdGhpcy5oZWFkZXIoJ1gtSlNPTicpICsgJyknKTsKICAgIH0g
Y2F0Y2ggKGUpIHt9CiAgfSwKCiAgZXZhbFJlc3BvbnNlOiBmdW5jdGlvbigpIHsK
ICAgIHRyeSB7CiAgICAgIHJldHVybiBldmFsKHRoaXMudHJhbnNwb3J0LnJlc3Bv
bnNlVGV4dCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuZGlzcGF0Y2hF
eGNlcHRpb24oZSk7CiAgICB9CiAgfSwKCiAgcmVzcG9uZFRvUmVhZHlTdGF0ZTog
ZnVuY3Rpb24ocmVhZHlTdGF0ZSkgewogICAgdmFyIGV2ZW50ID0gQWpheC5SZXF1
ZXN0LkV2ZW50c1tyZWFkeVN0YXRlXTsKICAgIHZhciB0cmFuc3BvcnQgPSB0aGlz
LnRyYW5zcG9ydCwganNvbiA9IHRoaXMuZXZhbEpTT04oKTsKCiAgICBpZiAoZXZl
bnQgPT0gJ0NvbXBsZXRlJykgewogICAgICB0cnkgewogICAgICAgICh0aGlzLm9w
dGlvbnNbJ29uJyArIHRoaXMudHJhbnNwb3J0LnN0YXR1c10KICAgICAgICAgfHwg
dGhpcy5vcHRpb25zWydvbicgKyAodGhpcy5yZXNwb25zZUlzU3VjY2VzcygpID8g
J1N1Y2Nlc3MnIDogJ0ZhaWx1cmUnKV0KICAgICAgICAgfHwgUHJvdG90eXBlLmVt
cHR5RnVuY3Rpb24pKHRyYW5zcG9ydCwganNvbik7CiAgICAgIH0gY2F0Y2ggKGUp
IHsKICAgICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgICB9Cgog
ICAgICBpZiAoKHRoaXMuaGVhZGVyKCdDb250ZW50LXR5cGUnKSB8fCAnJykubWF0
Y2goL150ZXh0XC9qYXZhc2NyaXB0L2kpKQogICAgICAgIHRoaXMuZXZhbFJlc3Bv
bnNlKCk7CiAgICB9CgogICAgdHJ5IHsKICAgICAgKHRoaXMub3B0aW9uc1snb24n
ICsgZXZlbnRdIHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uKSh0cmFuc3BvcnQs
IGpzb24pOwogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uJyArIGV2
ZW50LCB0aGlzLCB0cmFuc3BvcnQsIGpzb24pOwogICAgfSBjYXRjaCAoZSkgewog
ICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQoKICAgIC8qIEF2
b2lkIG1lbW9yeSBsZWFrIGluIE1TSUU6IGNsZWFuIHVwIHRoZSBvbmNvbXBsZXRl
IGV2ZW50IGhhbmRsZXIgKi8KICAgIGlmIChldmVudCA9PSAnQ29tcGxldGUnKQog
ICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBQcm90b3R5
cGUuZW1wdHlGdW5jdGlvbjsKICB9LAoKICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVu
Y3Rpb24oZXhjZXB0aW9uKSB7CiAgICAodGhpcy5vcHRpb25zLm9uRXhjZXB0aW9u
IHx8IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uKSh0aGlzLCBleGNlcHRpb24pOwog
ICAgQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCdvbkV4Y2VwdGlvbicsIHRoaXMs
IGV4Y2VwdGlvbik7CiAgfQp9KTsKCkFqYXguVXBkYXRlciA9IENsYXNzLmNyZWF0
ZSgpOwoKT2JqZWN0LmV4dGVuZChPYmplY3QuZXh0ZW5kKEFqYXguVXBkYXRlci5w
cm90b3R5cGUsIEFqYXguUmVxdWVzdC5wcm90b3R5cGUpLCB7CiAgaW5pdGlhbGl6
ZTogZnVuY3Rpb24oY29udGFpbmVyLCB1cmwsIG9wdGlvbnMpIHsKICAgIHRoaXMu
Y29udGFpbmVycyA9IHsKICAgICAgc3VjY2VzczogY29udGFpbmVyLnN1Y2Nlc3Mg
PyAkKGNvbnRhaW5lci5zdWNjZXNzKSA6ICQoY29udGFpbmVyKSwKICAgICAgZmFp
bHVyZTogY29udGFpbmVyLmZhaWx1cmUgPyAkKGNvbnRhaW5lci5mYWlsdXJlKSA6
CiAgICAgICAgKGNvbnRhaW5lci5zdWNjZXNzID8gbnVsbCA6ICQoY29udGFpbmVy
KSkKICAgIH0KCiAgICB0aGlzLnRyYW5zcG9ydCA9IEFqYXguZ2V0VHJhbnNwb3J0
KCk7CiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CgogICAgdmFyIG9uQ29t
cGxldGUgPSB0aGlzLm9wdGlvbnMub25Db21wbGV0ZSB8fCBQcm90b3R5cGUuZW1w
dHlGdW5jdGlvbjsKICAgIHRoaXMub3B0aW9ucy5vbkNvbXBsZXRlID0gKGZ1bmN0
aW9uKHRyYW5zcG9ydCwgb2JqZWN0KSB7CiAgICAgIHRoaXMudXBkYXRlQ29udGVu
dCgpOwogICAgICBvbkNvbXBsZXRlKHRyYW5zcG9ydCwgb2JqZWN0KTsKICAgIH0p
LmJpbmQodGhpcyk7CgogICAgdGhpcy5yZXF1ZXN0KHVybCk7CiAgfSwKCiAgdXBk
YXRlQ29udGVudDogZnVuY3Rpb24oKSB7CiAgICB2YXIgcmVjZWl2ZXIgPSB0aGlz
LnJlc3BvbnNlSXNTdWNjZXNzKCkgPwogICAgICB0aGlzLmNvbnRhaW5lcnMuc3Vj
Y2VzcyA6IHRoaXMuY29udGFpbmVycy5mYWlsdXJlOwogICAgdmFyIHJlc3BvbnNl
ID0gdGhpcy50cmFuc3BvcnQucmVzcG9uc2VUZXh0OwoKICAgIGlmICghdGhpcy5v
cHRpb25zLmV2YWxTY3JpcHRzKQogICAgICByZXNwb25zZSA9IHJlc3BvbnNlLnN0
cmlwU2NyaXB0cygpOwoKICAgIGlmIChyZWNlaXZlcikgewogICAgICBpZiAodGhp
cy5vcHRpb25zLmluc2VydGlvbikgewogICAgICAgIG5ldyB0aGlzLm9wdGlvbnMu
aW5zZXJ0aW9uKHJlY2VpdmVyLCByZXNwb25zZSk7CiAgICAgIH0gZWxzZSB7CiAg
ICAgICAgRWxlbWVudC51cGRhdGUocmVjZWl2ZXIsIHJlc3BvbnNlKTsKICAgICAg
fQogICAgfQoKICAgIGlmICh0aGlzLnJlc3BvbnNlSXNTdWNjZXNzKCkpIHsKICAg
ICAgaWYgKHRoaXMub25Db21wbGV0ZSkKICAgICAgICBzZXRUaW1lb3V0KHRoaXMu
b25Db21wbGV0ZS5iaW5kKHRoaXMpLCAxMCk7CiAgICB9CiAgfQp9KTsKCkFqYXgu
UGVyaW9kaWNhbFVwZGF0ZXIgPSBDbGFzcy5jcmVhdGUoKTsKQWpheC5QZXJpb2Rp
Y2FsVXBkYXRlci5wcm90b3R5cGUgPSBPYmplY3QuZXh0ZW5kKG5ldyBBamF4LkJh
c2UoKSwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNvbnRhaW5lciwgdXJsLCBv
cHRpb25zKSB7CiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICB0aGlz
Lm9uQ29tcGxldGUgPSB0aGlzLm9wdGlvbnMub25Db21wbGV0ZTsKCiAgICB0aGlz
LmZyZXF1ZW5jeSA9ICh0aGlzLm9wdGlvbnMuZnJlcXVlbmN5IHx8IDIpOwogICAg
dGhpcy5kZWNheSA9ICh0aGlzLm9wdGlvbnMuZGVjYXkgfHwgMSk7CgogICAgdGhp
cy51cGRhdGVyID0ge307CiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjsK
ICAgIHRoaXMudXJsID0gdXJsOwoKICAgIHRoaXMuc3RhcnQoKTsKICB9LAoKICBz
dGFydDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLm9wdGlvbnMub25Db21wbGV0ZSA9
IHRoaXMudXBkYXRlQ29tcGxldGUuYmluZCh0aGlzKTsKICAgIHRoaXMub25UaW1l
ckV2ZW50KCk7CiAgfSwKCiAgc3RvcDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnVw
ZGF0ZXIub3B0aW9ucy5vbkNvbXBsZXRlID0gdW5kZWZpbmVkOwogICAgY2xlYXJU
aW1lb3V0KHRoaXMudGltZXIpOwogICAgKHRoaXMub25Db21wbGV0ZSB8fCBQcm90
b3R5cGUuZW1wdHlGdW5jdGlvbikuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9
LAoKICB1cGRhdGVDb21wbGV0ZTogZnVuY3Rpb24ocmVxdWVzdCkgewogICAgaWYg
KHRoaXMub3B0aW9ucy5kZWNheSkgewogICAgICB0aGlzLmRlY2F5ID0gKHJlcXVl
c3QucmVzcG9uc2VUZXh0ID09IHRoaXMubGFzdFRleHQgPwogICAgICAgIHRoaXMu
ZGVjYXkgKiB0aGlzLm9wdGlvbnMuZGVjYXkgOiAxKTsKCiAgICAgIHRoaXMubGFz
dFRleHQgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dDsKICAgIH0KICAgIHRoaXMudGlt
ZXIgPSBzZXRUaW1lb3V0KHRoaXMub25UaW1lckV2ZW50LmJpbmQodGhpcyksCiAg
ICAgIHRoaXMuZGVjYXkgKiB0aGlzLmZyZXF1ZW5jeSAqIDEwMDApOwogIH0sCgog
IG9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnVwZGF0ZXIgPSBu
ZXcgQWpheC5VcGRhdGVyKHRoaXMuY29udGFpbmVyLCB0aGlzLnVybCwgdGhpcy5v
cHRpb25zKTsKICB9Cn0pOwpmdW5jdGlvbiAkKCkgewogIHZhciByZXN1bHRzID0g
W10sIGVsZW1lbnQ7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVu
Z3RoOyBpKyspIHsKICAgIGVsZW1lbnQgPSBhcmd1bWVudHNbaV07CiAgICBpZiAo
dHlwZW9mIGVsZW1lbnQgPT0gJ3N0cmluZycpCiAgICAgIGVsZW1lbnQgPSBkb2N1
bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KTsKICAgIHJlc3VsdHMucHVzaChF
bGVtZW50LmV4dGVuZChlbGVtZW50KSk7CiAgfQogIHJldHVybiByZXN1bHRzLnJl
ZHVjZSgpOwp9Cgpkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gZnVu
Y3Rpb24oY2xhc3NOYW1lLCBwYXJlbnRFbGVtZW50KSB7CiAgdmFyIGNoaWxkcmVu
ID0gKCQocGFyZW50RWxlbWVudCkgfHwgZG9jdW1lbnQuYm9keSkuZ2V0RWxlbWVu
dHNCeVRhZ05hbWUoJyonKTsKICByZXR1cm4gJEEoY2hpbGRyZW4pLmluamVjdChb
XSwgZnVuY3Rpb24oZWxlbWVudHMsIGNoaWxkKSB7CiAgICBpZiAoY2hpbGQuY2xh
c3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoIihefFxccykiICsgY2xhc3NOYW1lICsg
IihcXHN8JCkiKSkpCiAgICAgIGVsZW1lbnRzLnB1c2goRWxlbWVudC5leHRlbmQo
Y2hpbGQpKTsKICAgIHJldHVybiBlbGVtZW50czsKICB9KTsKfQoKLyotLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLSovCgppZiAoIXdpbmRvdy5FbGVtZW50KQogIHZh
ciBFbGVtZW50ID0gbmV3IE9iamVjdCgpOwoKRWxlbWVudC5leHRlbmQgPSBmdW5j
dGlvbihlbGVtZW50KSB7CiAgaWYgKCFlbGVtZW50KSByZXR1cm47CiAgaWYgKF9u
YXRpdmVFeHRlbnNpb25zIHx8IGVsZW1lbnQubm9kZVR5cGUgPT0gMykgcmV0dXJu
IGVsZW1lbnQ7CgogIGlmICghZWxlbWVudC5fZXh0ZW5kZWQgJiYgZWxlbWVudC50
YWdOYW1lICYmIGVsZW1lbnQgIT0gd2luZG93KSB7CiAgICB2YXIgbWV0aG9kcyA9
IE9iamVjdC5jbG9uZShFbGVtZW50Lk1ldGhvZHMpLCBjYWNoZSA9IEVsZW1lbnQu
ZXh0ZW5kLmNhY2hlOwoKICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gJ0ZPUk0n
KQogICAgICBPYmplY3QuZXh0ZW5kKG1ldGhvZHMsIEZvcm0uTWV0aG9kcyk7CiAg
ICBpZiAoWydJTlBVVCcsICdURVhUQVJFQScsICdTRUxFQ1QnXS5pbmNsdWRlKGVs
ZW1lbnQudGFnTmFtZSkpCiAgICAgIE9iamVjdC5leHRlbmQobWV0aG9kcywgRm9y
bS5FbGVtZW50Lk1ldGhvZHMpOwoKICAgIGZvciAodmFyIHByb3BlcnR5IGluIG1l
dGhvZHMpIHsKICAgICAgdmFyIHZhbHVlID0gbWV0aG9kc1twcm9wZXJ0eV07CiAg
ICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykKICAgICAgICBlbGVt
ZW50W3Byb3BlcnR5XSA9IGNhY2hlLmZpbmRPclN0b3JlKHZhbHVlKTsKICAgIH0K
ICB9CgogIGVsZW1lbnQuX2V4dGVuZGVkID0gdHJ1ZTsKICByZXR1cm4gZWxlbWVu
dDsKfQoKRWxlbWVudC5leHRlbmQuY2FjaGUgPSB7CiAgZmluZE9yU3RvcmU6IGZ1
bmN0aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gdGhpc1t2YWx1ZV0gPSB0aGlzW3Zh
bHVlXSB8fCBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KG51
bGwsIFt0aGlzXS5jb25jYXQoJEEoYXJndW1lbnRzKSkpOwogICAgfQogIH0KfQoK
RWxlbWVudC5NZXRob2RzID0gewogIHZpc2libGU6IGZ1bmN0aW9uKGVsZW1lbnQp
IHsKICAgIHJldHVybiAkKGVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUn
OwogIH0sCgogIHRvZ2dsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICBFbGVtZW50W0VsZW1lbnQudmlzaWJsZShlbGVt
ZW50KSA/ICdoaWRlJyA6ICdzaG93J10oZWxlbWVudCk7CiAgICByZXR1cm4gZWxl
bWVudDsKICB9LAoKICBoaWRlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAkKGVs
ZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICByZXR1cm4gZWxlbWVu
dDsKICB9LAoKICBzaG93OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAkKGVsZW1l
bnQpLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0s
CgogIHJlbW92ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQo
ZWxlbWVudCk7CiAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxl
bWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICB1cGRhdGU6IGZ1bmN0
aW9uKGVsZW1lbnQsIGh0bWwpIHsKICAgICQoZWxlbWVudCkuaW5uZXJIVE1MID0g
aHRtbC5zdHJpcFNjcmlwdHMoKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7
aHRtbC5ldmFsU2NyaXB0cygpfSwgMTApOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAg
fSwKCiAgcmVwbGFjZTogZnVuY3Rpb24oZWxlbWVudCwgaHRtbCkgewogICAgZWxl
bWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoZWxlbWVudC5vdXRlckhUTUwpIHsK
ICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSBodG1sLnN0cmlwU2NyaXB0cygpOwog
ICAgfSBlbHNlIHsKICAgICAgdmFyIHJhbmdlID0gZWxlbWVudC5vd25lckRvY3Vt
ZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50
cyhlbGVtZW50KTsKICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGls
ZCgKICAgICAgICByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbC5z
dHJpcFNjcmlwdHMoKSksIGVsZW1lbnQpOwogICAgfQogICAgc2V0VGltZW91dChm
dW5jdGlvbigpIHtodG1sLmV2YWxTY3JpcHRzKCl9LCAxMCk7CiAgICByZXR1cm4g
ZWxlbWVudDsKICB9LAoKICBpbnNwZWN0OiBmdW5jdGlvbihlbGVtZW50KSB7CiAg
ICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciByZXN1bHQgPSAnPCcgKyBl
bGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKICAgICRIKHsnaWQnOiAnaWQn
LCAnY2xhc3NOYW1lJzogJ2NsYXNzJ30pLmVhY2goZnVuY3Rpb24ocGFpcikgewog
ICAgICB2YXIgcHJvcGVydHkgPSBwYWlyLmZpcnN0KCksIGF0dHJpYnV0ZSA9IHBh
aXIubGFzdCgpOwogICAgICB2YXIgdmFsdWUgPSAoZWxlbWVudFtwcm9wZXJ0eV0g
fHwgJycpLnRvU3RyaW5nKCk7CiAgICAgIGlmICh2YWx1ZSkgcmVzdWx0ICs9ICcg
JyArIGF0dHJpYnV0ZSArICc9JyArIHZhbHVlLmluc3BlY3QodHJ1ZSk7CiAgICB9
KTsKICAgIHJldHVybiByZXN1bHQgKyAnPic7CiAgfSwKCiAgcmVjdXJzaXZlbHlD
b2xsZWN0OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZWxlbWVudHMgPSBbXTsKICAgIHdoaWxl
IChlbGVtZW50ID0gZWxlbWVudFtwcm9wZXJ0eV0pCiAgICAgIGlmIChlbGVtZW50
Lm5vZGVUeXBlID09IDEpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4
dGVuZChlbGVtZW50KSk7CiAgICByZXR1cm4gZWxlbWVudHM7CiAgfSwKCiAgYW5j
ZXN0b3JzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50
KS5yZWN1cnNpdmVseUNvbGxlY3QoJ3BhcmVudE5vZGUnKTsKICB9LAoKICBkZXNj
ZW5kYW50czogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxl
bWVudCk7CiAgICByZXR1cm4gJEEoZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFt
ZSgnKicpKTsKICB9LAoKICBwcmV2aW91c1NpYmxpbmdzOiBmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5yZWN1cnNpdmVseUNvbGxlY3Qo
J3ByZXZpb3VzU2libGluZycpOwogIH0sCgogIG5leHRTaWJsaW5nczogZnVuY3Rp
b24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkucmVjdXJzaXZlbHlD
b2xsZWN0KCduZXh0U2libGluZycpOwogIH0sCgogIHNpYmxpbmdzOiBmdW5jdGlv
bihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHJldHVy
biBlbGVtZW50LnByZXZpb3VzU2libGluZ3MoKS5yZXZlcnNlKCkuY29uY2F0KGVs
ZW1lbnQubmV4dFNpYmxpbmdzKCkpOwogIH0sCgogIG1hdGNoOiBmdW5jdGlvbihl
bGVtZW50LCBzZWxlY3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAg
ICBpZiAodHlwZW9mIHNlbGVjdG9yID09ICdzdHJpbmcnKQogICAgICBzZWxlY3Rv
ciA9IG5ldyBTZWxlY3RvcihzZWxlY3Rvcik7CiAgICByZXR1cm4gc2VsZWN0b3Iu
bWF0Y2goZWxlbWVudCk7CiAgfSwKCiAgdXA6IGZ1bmN0aW9uKGVsZW1lbnQsIGV4
cHJlc3Npb24sIGluZGV4KSB7CiAgICByZXR1cm4gU2VsZWN0b3IuZmluZEVsZW1l
bnQoJChlbGVtZW50KS5hbmNlc3RvcnMoKSwgZXhwcmVzc2lvbiwgaW5kZXgpOwog
IH0sCgogIGRvd246IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4
KSB7CiAgICByZXR1cm4gU2VsZWN0b3IuZmluZEVsZW1lbnQoJChlbGVtZW50KS5k
ZXNjZW5kYW50cygpLCBleHByZXNzaW9uLCBpbmRleCk7CiAgfSwKCiAgcHJldmlv
dXM6IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBy
ZXR1cm4gU2VsZWN0b3IuZmluZEVsZW1lbnQoJChlbGVtZW50KS5wcmV2aW91c1Np
YmxpbmdzKCksIGV4cHJlc3Npb24sIGluZGV4KTsKICB9LAoKICBuZXh0OiBmdW5j
dGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBpbmRleCkgewogICAgcmV0dXJuIFNl
bGVjdG9yLmZpbmRFbGVtZW50KCQoZWxlbWVudCkubmV4dFNpYmxpbmdzKCksIGV4
cHJlc3Npb24sIGluZGV4KTsKICB9LAoKICBnZXRFbGVtZW50c0J5U2VsZWN0b3I6
IGZ1bmN0aW9uKCkgewogICAgdmFyIGFyZ3MgPSAkQShhcmd1bWVudHMpLCBlbGVt
ZW50ID0gJChhcmdzLnNoaWZ0KCkpOwogICAgcmV0dXJuIFNlbGVjdG9yLmZpbmRD
aGlsZEVsZW1lbnRzKGVsZW1lbnQsIGFyZ3MpOwogIH0sCgogIGdldEVsZW1lbnRz
QnlDbGFzc05hbWU6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAg
ZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxl
bWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUsIGVsZW1lbnQpOwogIH0sCgogIGdl
dEhlaWdodDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxl
bWVudCk7CiAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgfSwKCiAg
Y2xhc3NOYW1lczogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuIG5ldyBF
bGVtZW50LkNsYXNzTmFtZXMoZWxlbWVudCk7CiAgfSwKCiAgaGFzQ2xhc3NOYW1l
OiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1l
bnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgcmV0dXJuIEVsZW1lbnQuY2xh
c3NOYW1lcyhlbGVtZW50KS5pbmNsdWRlKGNsYXNzTmFtZSk7CiAgfSwKCiAgYWRk
Q2xhc3NOYW1lOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgIGlm
ICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgRWxlbWVudC5j
bGFzc05hbWVzKGVsZW1lbnQpLmFkZChjbGFzc05hbWUpOwogICAgcmV0dXJuIGVs
ZW1lbnQ7CiAgfSwKCiAgcmVtb3ZlQ2xhc3NOYW1lOiBmdW5jdGlvbihlbGVtZW50
LCBjbGFzc05hbWUpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkg
cmV0dXJuOwogICAgRWxlbWVudC5jbGFzc05hbWVzKGVsZW1lbnQpLnJlbW92ZShj
bGFzc05hbWUpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgb2JzZXJ2ZTog
ZnVuY3Rpb24oKSB7CiAgICBFdmVudC5vYnNlcnZlLmFwcGx5KEV2ZW50LCBhcmd1
bWVudHMpOwogICAgcmV0dXJuICRBKGFyZ3VtZW50cykuZmlyc3QoKTsKICB9LAoK
ICBzdG9wT2JzZXJ2aW5nOiBmdW5jdGlvbigpIHsKICAgIEV2ZW50LnN0b3BPYnNl
cnZpbmcuYXBwbHkoRXZlbnQsIGFyZ3VtZW50cyk7CiAgICByZXR1cm4gJEEoYXJn
dW1lbnRzKS5maXJzdCgpOwogIH0sCgogIC8vIHJlbW92ZXMgd2hpdGVzcGFjZS1v
bmx5IHRleHQgbm9kZSBjaGlsZHJlbgogIGNsZWFuV2hpdGVzcGFjZTogZnVuY3Rp
b24oZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIg
bm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsKICAgIHdoaWxlIChub2RlKSB7CiAg
ICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICAgIGlmIChu
b2RlLm5vZGVUeXBlID09IDMgJiYgIS9cUy8udGVzdChub2RlLm5vZGVWYWx1ZSkp
CiAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgbm9kZSA9
IG5leHROb2RlOwogICAgfQogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgZW1w
dHk6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiAkKGVsZW1lbnQpLmlu
bmVySFRNTC5tYXRjaCgvXlxzKiQvKTsKICB9LAoKICBjaGlsZE9mOiBmdW5jdGlv
bihlbGVtZW50LCBhbmNlc3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCks
IGFuY2VzdG9yID0gJChhbmNlc3Rvcik7CiAgICB3aGlsZSAoZWxlbWVudCA9IGVs
ZW1lbnQucGFyZW50Tm9kZSkKICAgICAgaWYgKGVsZW1lbnQgPT0gYW5jZXN0b3Ip
IHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHNjcm9sbFRv
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsK
ICAgIHZhciB4ID0gZWxlbWVudC54ID8gZWxlbWVudC54IDogZWxlbWVudC5vZmZz
ZXRMZWZ0LAogICAgICAgIHkgPSBlbGVtZW50LnkgPyBlbGVtZW50LnkgOiBlbGVt
ZW50Lm9mZnNldFRvcDsKICAgIHdpbmRvdy5zY3JvbGxUbyh4LCB5KTsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0sCgogIGdldFN0eWxlOiBmdW5jdGlvbihlbGVtZW50
LCBzdHlsZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdmFs
dWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlLmNhbWVsaXplKCldOwogICAgaWYgKCF2
YWx1ZSkgewogICAgICBpZiAoZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1l
bnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkgewogICAgICAgIHZhciBj
c3MgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1l
bnQsIG51bGwpOwogICAgICAgIHZhbHVlID0gY3NzID8gY3NzLmdldFByb3BlcnR5
VmFsdWUoc3R5bGUpIDogbnVsbDsKICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmN1
cnJlbnRTdHlsZSkgewogICAgICAgIHZhbHVlID0gZWxlbWVudC5jdXJyZW50U3R5
bGVbc3R5bGUuY2FtZWxpemUoKV07CiAgICAgIH0KICAgIH0KCiAgICBpZiAod2lu
ZG93Lm9wZXJhICYmIFsnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJ10u
aW5jbHVkZShzdHlsZSkpCiAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1l
bnQsICdwb3NpdGlvbicpID09ICdzdGF0aWMnKSB2YWx1ZSA9ICdhdXRvJzsKCiAg
ICByZXR1cm4gdmFsdWUgPT0gJ2F1dG8nID8gbnVsbCA6IHZhbHVlOwogIH0sCgog
IHNldFN0eWxlOiBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICBmb3IgKHZhciBuYW1lIGluIHN0eWxlKQogICAg
ICBlbGVtZW50LnN0eWxlW25hbWUuY2FtZWxpemUoKV0gPSBzdHlsZVtuYW1lXTsK
ICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIGdldERpbWVuc2lvbnM6IGZ1bmN0
aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYg
KEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ2Rpc3BsYXknKSAhPSAnbm9uZScp
CiAgICAgIHJldHVybiB7d2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdo
dDogZWxlbWVudC5vZmZzZXRIZWlnaHR9OwoKICAgIC8vIEFsbCAqV2lkdGggYW5k
ICpIZWlnaHQgcHJvcGVydGllcyBnaXZlIDAgb24gZWxlbWVudHMgd2l0aCBkaXNw
bGF5IG5vbmUsCiAgICAvLyBzbyBlbmFibGUgdGhlIGVsZW1lbnQgdGVtcG9yYXJp
bHkKICAgIHZhciBlbHMgPSBlbGVtZW50LnN0eWxlOwogICAgdmFyIG9yaWdpbmFs
VmlzaWJpbGl0eSA9IGVscy52aXNpYmlsaXR5OwogICAgdmFyIG9yaWdpbmFsUG9z
aXRpb24gPSBlbHMucG9zaXRpb247CiAgICBlbHMudmlzaWJpbGl0eSA9ICdoaWRk
ZW4nOwogICAgZWxzLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgIGVscy5kaXNw
bGF5ID0gJyc7CiAgICB2YXIgb3JpZ2luYWxXaWR0aCA9IGVsZW1lbnQuY2xpZW50
V2lkdGg7CiAgICB2YXIgb3JpZ2luYWxIZWlnaHQgPSBlbGVtZW50LmNsaWVudEhl
aWdodDsKICAgIGVscy5kaXNwbGF5ID0gJ25vbmUnOwogICAgZWxzLnBvc2l0aW9u
ID0gb3JpZ2luYWxQb3NpdGlvbjsKICAgIGVscy52aXNpYmlsaXR5ID0gb3JpZ2lu
YWxWaXNpYmlsaXR5OwogICAgcmV0dXJuIHt3aWR0aDogb3JpZ2luYWxXaWR0aCwg
aGVpZ2h0OiBvcmlnaW5hbEhlaWdodH07CiAgfSwKCiAgbWFrZVBvc2l0aW9uZWQ6
IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwog
ICAgdmFyIHBvcyA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9u
Jyk7CiAgICBpZiAocG9zID09ICdzdGF0aWMnIHx8ICFwb3MpIHsKICAgICAgZWxl
bWVudC5fbWFkZVBvc2l0aW9uZWQgPSB0cnVlOwogICAgICBlbGVtZW50LnN0eWxl
LnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgLy8gT3BlcmEgcmV0dXJucyB0
aGUgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBwb3NpdGlvbmluZyBjb250ZXh0LCB3
aGVuIGFuCiAgICAgIC8vIGVsZW1lbnQgaXMgcG9zaXRpb24gcmVsYXRpdmUgYnV0
IHRvcCBhbmQgbGVmdCBoYXZlIG5vdCBiZWVuIGRlZmluZWQKICAgICAgaWYgKHdp
bmRvdy5vcGVyYSkgewogICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gMDsKICAg
ICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSAwOwogICAgICB9CiAgICB9CiAgICBy
ZXR1cm4gZWxlbWVudDsKICB9LAoKICB1bmRvUG9zaXRpb25lZDogZnVuY3Rpb24o
ZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoZWxl
bWVudC5fbWFkZVBvc2l0aW9uZWQpIHsKICAgICAgZWxlbWVudC5fbWFkZVBvc2l0
aW9uZWQgPSB1bmRlZmluZWQ7CiAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24g
PQogICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0KICAgICAgICBlbGVtZW50LnN0
eWxlLmxlZnQgPQogICAgICAgIGVsZW1lbnQuc3R5bGUuYm90dG9tID0KICAgICAg
ICBlbGVtZW50LnN0eWxlLnJpZ2h0ID0gJyc7CiAgICB9CiAgICByZXR1cm4gZWxl
bWVudDsKICB9LAoKICBtYWtlQ2xpcHBpbmc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKGVsZW1lbnQuX292ZXJm
bG93KSByZXR1cm47CiAgICBlbGVtZW50Ll9vdmVyZmxvdyA9IGVsZW1lbnQuc3R5
bGUub3ZlcmZsb3cgfHwgJ2F1dG8nOwogICAgaWYgKChFbGVtZW50LmdldFN0eWxl
KGVsZW1lbnQsICdvdmVyZmxvdycpIHx8ICd2aXNpYmxlJykgIT0gJ2hpZGRlbicp
CiAgICAgIGVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0sCgogIHVuZG9DbGlwcGluZzogZnVuY3Rpb24oZWxl
bWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoIWVsZW1l
bnQuX292ZXJmbG93KSByZXR1cm47CiAgICBlbGVtZW50LnN0eWxlLm92ZXJmbG93
ID0gZWxlbWVudC5fb3ZlcmZsb3cgPT0gJ2F1dG8nID8gJycgOiBlbGVtZW50Ll9v
dmVyZmxvdzsKICAgIGVsZW1lbnQuX292ZXJmbG93ID0gbnVsbDsKICAgIHJldHVy
biBlbGVtZW50OwogIH0KfQoKLy8gSUUgaXMgbWlzc2luZyAuaW5uZXJIVE1MIHN1
cHBvcnQgZm9yIFRBQkxFLXJlbGF0ZWQgZWxlbWVudHMKaWYoZG9jdW1lbnQuYWxs
KXsKICBFbGVtZW50Lk1ldGhvZHMudXBkYXRlID0gZnVuY3Rpb24oZWxlbWVudCwg
aHRtbCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdGFnTmFt
ZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwogICAgaWYgKFsnVEhF
QUQnLCdUQk9EWScsJ1RSJywnVEQnXS5pbmRleE9mKHRhZ05hbWUpID4gLTEpIHsK
ICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwog
ICAgICBzd2l0Y2ggKHRhZ05hbWUpIHsKICAgICAgICBjYXNlICdUSEVBRCc6CiAg
ICAgICAgY2FzZSAnVEJPRFknOgogICAgICAgICAgZGl2LmlubmVySFRNTCA9ICc8
dGFibGU+PHRib2R5PicgKyAgaHRtbC5zdHJpcFNjcmlwdHMoKSArICc8L3Rib2R5
PjwvdGFibGU+JzsKICAgICAgICAgIGRlcHRoID0gMjsKICAgICAgICAgIGJyZWFr
OwogICAgICAgIGNhc2UgJ1RSJzoKICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAn
PHRhYmxlPjx0Ym9keT48dHI+JyArICBodG1sLnN0cmlwU2NyaXB0cygpICsgJzwv
dHI+PC90Ym9keT48L3RhYmxlPic7CiAgICAgICAgICBkZXB0aCA9IDM7CiAgICAg
ICAgICBicmVhazsKICAgICAgICBjYXNlICdURCc6CiAgICAgICAgICBkaXYuaW5u
ZXJIVE1MID0gJzx0YWJsZT48dGJvZHk+PHRyPjx0ZD4nICsgIGh0bWwuc3RyaXBT
Y3JpcHRzKCkgKyAnPC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4nOwogICAgICAg
ICAgZGVwdGggPSA0OwogICAgICB9CiAgICAgICRBKGVsZW1lbnQuY2hpbGROb2Rl
cykuZWFjaChmdW5jdGlvbihub2RlKXsKICAgICAgICBlbGVtZW50LnJlbW92ZUNo
aWxkKG5vZGUpCiAgICAgIH0pOwogICAgICBkZXB0aC50aW1lcyhmdW5jdGlvbigp
eyBkaXYgPSBkaXYuZmlyc3RDaGlsZCB9KTsKCiAgICAgICRBKGRpdi5jaGlsZE5v
ZGVzKS5lYWNoKAogICAgICAgIGZ1bmN0aW9uKG5vZGUpeyBlbGVtZW50LmFwcGVu
ZENoaWxkKG5vZGUpIH0pOwogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5pbm5l
ckhUTUwgPSBodG1sLnN0cmlwU2NyaXB0cygpOwogICAgfQogICAgc2V0VGltZW91
dChmdW5jdGlvbigpIHtodG1sLmV2YWxTY3JpcHRzKCl9LCAxMCk7CiAgICByZXR1
cm4gZWxlbWVudDsKICB9Cn0KCk9iamVjdC5leHRlbmQoRWxlbWVudCwgRWxlbWVu
dC5NZXRob2RzKTsKCnZhciBfbmF0aXZlRXh0ZW5zaW9ucyA9IGZhbHNlOwoKaWYg
KCF3aW5kb3cuSFRNTEVsZW1lbnQgJiYgL0tvbnF1ZXJvcnxTYWZhcml8S0hUTUwv
LnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAvKiBFbXVsYXRlIEhUTUxF
bGVtZW50LCBIVE1MRm9ybUVsZW1lbnQsIEhUTUxJbnB1dEVsZW1lbnQsIEhUTUxU
ZXh0QXJlYUVsZW1lbnQsCiAgICAgYW5kIEhUTUxTZWxlY3RFbGVtZW50IGluIFNh
ZmFyaSAqLwogIFsnJywgJ0Zvcm0nLCAnSW5wdXQnLCAnVGV4dEFyZWEnLCAnU2Vs
ZWN0J10uZWFjaChmdW5jdGlvbih0YWcpIHsKICAgIHZhciBrbGFzcyA9IHdpbmRv
d1snSFRNTCcgKyB0YWcgKyAnRWxlbWVudCddID0ge307CiAgICBrbGFzcy5wcm90
b3R5cGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyA/IHRhZy50b0xvd2Vy
Q2FzZSgpIDogJ2RpdicpLl9fcHJvdG9fXzsKICB9KTsKfQoKRWxlbWVudC5hZGRN
ZXRob2RzID0gZnVuY3Rpb24obWV0aG9kcykgewogIE9iamVjdC5leHRlbmQoRWxl
bWVudC5NZXRob2RzLCBtZXRob2RzIHx8IHt9KTsKCiAgZnVuY3Rpb24gY29weSht
ZXRob2RzLCBkZXN0aW5hdGlvbikgewogICAgdmFyIGNhY2hlID0gRWxlbWVudC5l
eHRlbmQuY2FjaGU7CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBtZXRob2RzKSB7
CiAgICAgIHZhciB2YWx1ZSA9IG1ldGhvZHNbcHJvcGVydHldOwogICAgICBkZXN0
aW5hdGlvbltwcm9wZXJ0eV0gPSBjYWNoZS5maW5kT3JTdG9yZSh2YWx1ZSk7CiAg
ICB9CiAgfQoKICBpZiAodHlwZW9mIEhUTUxFbGVtZW50ICE9ICd1bmRlZmluZWQn
KSB7CiAgICBjb3B5KEVsZW1lbnQuTWV0aG9kcywgSFRNTEVsZW1lbnQucHJvdG90
eXBlKTsKICAgIGNvcHkoRm9ybS5NZXRob2RzLCBIVE1MRm9ybUVsZW1lbnQucHJv
dG90eXBlKTsKICAgIFtIVE1MSW5wdXRFbGVtZW50LCBIVE1MVGV4dEFyZWFFbGVt
ZW50LCBIVE1MU2VsZWN0RWxlbWVudF0uZWFjaChmdW5jdGlvbihrbGFzcykgewog
ICAgICBjb3B5KEZvcm0uRWxlbWVudC5NZXRob2RzLCBrbGFzcy5wcm90b3R5cGUp
OwogICAgfSk7CiAgICBfbmF0aXZlRXh0ZW5zaW9ucyA9IHRydWU7CiAgfQp9Cgp2
YXIgVG9nZ2xlID0gbmV3IE9iamVjdCgpOwpUb2dnbGUuZGlzcGxheSA9IEVsZW1l
bnQudG9nZ2xlOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpBYnN0
cmFjdC5JbnNlcnRpb24gPSBmdW5jdGlvbihhZGphY2VuY3kpIHsKICB0aGlzLmFk
amFjZW5jeSA9IGFkamFjZW5jeTsKfQoKQWJzdHJhY3QuSW5zZXJ0aW9uLnByb3Rv
dHlwZSA9IHsKICBpbml0aWFsaXplOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50
KSB7CiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5jb250
ZW50ID0gY29udGVudC5zdHJpcFNjcmlwdHMoKTsKCiAgICBpZiAodGhpcy5hZGph
Y2VuY3kgJiYgdGhpcy5lbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCkgewogICAg
ICB0cnkgewogICAgICAgIHRoaXMuZWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwo
dGhpcy5hZGphY2VuY3ksIHRoaXMuY29udGVudCk7CiAgICAgIH0gY2F0Y2ggKGUp
IHsKICAgICAgICB2YXIgdGFnTmFtZSA9IHRoaXMuZWxlbWVudC50YWdOYW1lLnRv
TG93ZXJDYXNlKCk7CiAgICAgICAgaWYgKHRhZ05hbWUgPT0gJ3Rib2R5JyB8fCB0
YWdOYW1lID09ICd0cicpIHsKICAgICAgICAgIHRoaXMuaW5zZXJ0Q29udGVudCh0
aGlzLmNvbnRlbnRGcm9tQW5vbnltb3VzVGFibGUoKSk7CiAgICAgICAgfSBlbHNl
IHsKICAgICAgICAgIHRocm93IGU7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVs
c2UgewogICAgICB0aGlzLnJhbmdlID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1l
bnQuY3JlYXRlUmFuZ2UoKTsKICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZVJhbmdl
KSB0aGlzLmluaXRpYWxpemVSYW5nZSgpOwogICAgICB0aGlzLmluc2VydENvbnRl
bnQoW3RoaXMucmFuZ2UuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHRoaXMuY29u
dGVudCldKTsKICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2NvbnRl
bnQuZXZhbFNjcmlwdHMoKX0sIDEwKTsKICB9LAoKICBjb250ZW50RnJvbUFub255
bW91c1RhYmxlOiBmdW5jdGlvbigpIHsKICAgIHZhciBkaXYgPSBkb2N1bWVudC5j
cmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGRpdi5pbm5lckhUTUwgPSAnPHRhYmxl
Pjx0Ym9keT4nICsgdGhpcy5jb250ZW50ICsgJzwvdGJvZHk+PC90YWJsZT4nOwog
ICAgcmV0dXJuICRBKGRpdi5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uY2hp
bGROb2Rlcyk7CiAgfQp9Cgp2YXIgSW5zZXJ0aW9uID0gbmV3IE9iamVjdCgpOwoK
SW5zZXJ0aW9uLkJlZm9yZSA9IENsYXNzLmNyZWF0ZSgpOwpJbnNlcnRpb24uQmVm
b3JlLnByb3RvdHlwZSA9IE9iamVjdC5leHRlbmQobmV3IEFic3RyYWN0Lkluc2Vy
dGlvbignYmVmb3JlQmVnaW4nKSwgewogIGluaXRpYWxpemVSYW5nZTogZnVuY3Rp
b24oKSB7CiAgICB0aGlzLnJhbmdlLnNldFN0YXJ0QmVmb3JlKHRoaXMuZWxlbWVu
dCk7CiAgfSwKCiAgaW5zZXJ0Q29udGVudDogZnVuY3Rpb24oZnJhZ21lbnRzKSB7
CiAgICBmcmFnbWVudHMuZWFjaCgoZnVuY3Rpb24oZnJhZ21lbnQpIHsKICAgICAg
dGhpcy5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZyYWdtZW50LCB0
aGlzLmVsZW1lbnQpOwogICAgfSkuYmluZCh0aGlzKSk7CiAgfQp9KTsKCkluc2Vy
dGlvbi5Ub3AgPSBDbGFzcy5jcmVhdGUoKTsKSW5zZXJ0aW9uLlRvcC5wcm90b3R5
cGUgPSBPYmplY3QuZXh0ZW5kKG5ldyBBYnN0cmFjdC5JbnNlcnRpb24oJ2FmdGVy
QmVnaW4nKSwgewogIGluaXRpYWxpemVSYW5nZTogZnVuY3Rpb24oKSB7CiAgICB0
aGlzLnJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzLmVsZW1lbnQpOwogICAg
dGhpcy5yYW5nZS5jb2xsYXBzZSh0cnVlKTsKICB9LAoKICBpbnNlcnRDb250ZW50
OiBmdW5jdGlvbihmcmFnbWVudHMpIHsKICAgIGZyYWdtZW50cy5yZXZlcnNlKGZh
bHNlKS5lYWNoKChmdW5jdGlvbihmcmFnbWVudCkgewogICAgICB0aGlzLmVsZW1l
bnQuaW5zZXJ0QmVmb3JlKGZyYWdtZW50LCB0aGlzLmVsZW1lbnQuZmlyc3RDaGls
ZCk7CiAgICB9KS5iaW5kKHRoaXMpKTsKICB9Cn0pOwoKSW5zZXJ0aW9uLkJvdHRv
bSA9IENsYXNzLmNyZWF0ZSgpOwpJbnNlcnRpb24uQm90dG9tLnByb3RvdHlwZSA9
IE9iamVjdC5leHRlbmQobmV3IEFic3RyYWN0Lkluc2VydGlvbignYmVmb3JlRW5k
JyksIHsKICBpbml0aWFsaXplUmFuZ2U6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5y
YW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5lbGVtZW50KTsKICAgIHRoaXMu
cmFuZ2UuY29sbGFwc2UodGhpcy5lbGVtZW50KTsKICB9LAoKICBpbnNlcnRDb250
ZW50OiBmdW5jdGlvbihmcmFnbWVudHMpIHsKICAgIGZyYWdtZW50cy5lYWNoKChm
dW5jdGlvbihmcmFnbWVudCkgewogICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hp
bGQoZnJhZ21lbnQpOwogICAgfSkuYmluZCh0aGlzKSk7CiAgfQp9KTsKCkluc2Vy
dGlvbi5BZnRlciA9IENsYXNzLmNyZWF0ZSgpOwpJbnNlcnRpb24uQWZ0ZXIucHJv
dG90eXBlID0gT2JqZWN0LmV4dGVuZChuZXcgQWJzdHJhY3QuSW5zZXJ0aW9uKCdh
ZnRlckVuZCcpLCB7CiAgaW5pdGlhbGl6ZVJhbmdlOiBmdW5jdGlvbigpIHsKICAg
IHRoaXMucmFuZ2Uuc2V0U3RhcnRBZnRlcih0aGlzLmVsZW1lbnQpOwogIH0sCgog
IGluc2VydENvbnRlbnQ6IGZ1bmN0aW9uKGZyYWdtZW50cykgewogICAgZnJhZ21l
bnRzLmVhY2goKGZ1bmN0aW9uKGZyYWdtZW50KSB7CiAgICAgIHRoaXMuZWxlbWVu
dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmcmFnbWVudCwKICAgICAgICB0aGlz
LmVsZW1lbnQubmV4dFNpYmxpbmcpOwogICAgfSkuYmluZCh0aGlzKSk7CiAgfQp9
KTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKRWxlbWVudC5DbGFz
c05hbWVzID0gQ2xhc3MuY3JlYXRlKCk7CkVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90
b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAg
dGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKICB9LAoKICBfZWFjaDogZnVuY3Rp
b24oaXRlcmF0b3IpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUuc3BsaXQo
L1xzKy8pLnNlbGVjdChmdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiBuYW1l
Lmxlbmd0aCA+IDA7CiAgICB9KS5fZWFjaChpdGVyYXRvcik7CiAgfSwKCiAgc2V0
OiBmdW5jdGlvbihjbGFzc05hbWUpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05h
bWUgPSBjbGFzc05hbWU7CiAgfSwKCiAgYWRkOiBmdW5jdGlvbihjbGFzc05hbWVU
b0FkZCkgewogICAgaWYgKHRoaXMuaW5jbHVkZShjbGFzc05hbWVUb0FkZCkpIHJl
dHVybjsKICAgIHRoaXMuc2V0KHRoaXMudG9BcnJheSgpLmNvbmNhdChjbGFzc05h
bWVUb0FkZCkuam9pbignICcpKTsKICB9LAoKICByZW1vdmU6IGZ1bmN0aW9uKGNs
YXNzTmFtZVRvUmVtb3ZlKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShjbGFzc05h
bWVUb1JlbW92ZSkpIHJldHVybjsKICAgIHRoaXMuc2V0KHRoaXMuc2VsZWN0KGZ1
bmN0aW9uKGNsYXNzTmFtZSkgewogICAgICByZXR1cm4gY2xhc3NOYW1lICE9IGNs
YXNzTmFtZVRvUmVtb3ZlOwogICAgfSkuam9pbignICcpKTsKICB9LAoKICB0b1N0
cmluZzogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy50b0FycmF5KCkuam9p
bignICcpOwogIH0KfQoKT2JqZWN0LmV4dGVuZChFbGVtZW50LkNsYXNzTmFtZXMu
cHJvdG90eXBlLCBFbnVtZXJhYmxlKTsKdmFyIFNlbGVjdG9yID0gQ2xhc3MuY3Jl
YXRlKCk7ClNlbGVjdG9yLnByb3RvdHlwZSA9IHsKICBpbml0aWFsaXplOiBmdW5j
dGlvbihleHByZXNzaW9uKSB7CiAgICB0aGlzLnBhcmFtcyA9IHtjbGFzc05hbWVz
OiBbXX07CiAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uLnRvU3RyaW5n
KCkuc3RyaXAoKTsKICAgIHRoaXMucGFyc2VFeHByZXNzaW9uKCk7CiAgICB0aGlz
LmNvbXBpbGVNYXRjaGVyKCk7CiAgfSwKCiAgcGFyc2VFeHByZXNzaW9uOiBmdW5j
dGlvbigpIHsKICAgIGZ1bmN0aW9uIGFib3J0KG1lc3NhZ2UpIHsgdGhyb3cgJ1Bh
cnNlIGVycm9yIGluIHNlbGVjdG9yOiAnICsgbWVzc2FnZTsgfQoKICAgIGlmICh0
aGlzLmV4cHJlc3Npb24gPT0gJycpICBhYm9ydCgnZW1wdHkgZXhwcmVzc2lvbicp
OwoKICAgIHZhciBwYXJhbXMgPSB0aGlzLnBhcmFtcywgZXhwciA9IHRoaXMuZXhw
cmVzc2lvbiwgbWF0Y2gsIG1vZGlmaWVyLCBjbGF1c2UsIHJlc3Q7CiAgICB3aGls
ZSAobWF0Y2ggPSBleHByLm1hdGNoKC9eKC4qKVxbKFthLXowLTlfOi1dKz8pKD86
KFt+XHwhXT89KSg/OiIoW14iXSopInwoW15cXVxzXSopKSk/XF0kL2kpKSB7CiAg
ICAgIHBhcmFtcy5hdHRyaWJ1dGVzID0gcGFyYW1zLmF0dHJpYnV0ZXMgfHwgW107
CiAgICAgIHBhcmFtcy5hdHRyaWJ1dGVzLnB1c2goe25hbWU6IG1hdGNoWzJdLCBv
cGVyYXRvcjogbWF0Y2hbM10sIHZhbHVlOiBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8
fCAnJ30pOwogICAgICBleHByID0gbWF0Y2hbMV07CiAgICB9CgogICAgaWYgKGV4
cHIgPT0gJyonKSByZXR1cm4gdGhpcy5wYXJhbXMud2lsZGNhcmQgPSB0cnVlOwoK
ICAgIHdoaWxlIChtYXRjaCA9IGV4cHIubWF0Y2goL14oW15hLXowLTlfLV0pPyhb
YS16MC05Xy1dKykoLiopL2kpKSB7CiAgICAgIG1vZGlmaWVyID0gbWF0Y2hbMV0s
IGNsYXVzZSA9IG1hdGNoWzJdLCByZXN0ID0gbWF0Y2hbM107CiAgICAgIHN3aXRj
aCAobW9kaWZpZXIpIHsKICAgICAgICBjYXNlICcjJzogICAgICAgcGFyYW1zLmlk
ID0gY2xhdXNlOyBicmVhazsKICAgICAgICBjYXNlICcuJzogICAgICAgcGFyYW1z
LmNsYXNzTmFtZXMucHVzaChjbGF1c2UpOyBicmVhazsKICAgICAgICBjYXNlICcn
OgogICAgICAgIGNhc2UgdW5kZWZpbmVkOiBwYXJhbXMudGFnTmFtZSA9IGNsYXVz
ZS50b1VwcGVyQ2FzZSgpOyBicmVhazsKICAgICAgICBkZWZhdWx0OiAgICAgICAg
YWJvcnQoZXhwci5pbnNwZWN0KCkpOwogICAgICB9CiAgICAgIGV4cHIgPSByZXN0
OwogICAgfQoKICAgIGlmIChleHByLmxlbmd0aCA+IDApIGFib3J0KGV4cHIuaW5z
cGVjdCgpKTsKICB9LAoKICBidWlsZE1hdGNoRXhwcmVzc2lvbjogZnVuY3Rpb24o
KSB7CiAgICB2YXIgcGFyYW1zID0gdGhpcy5wYXJhbXMsIGNvbmRpdGlvbnMgPSBb
XSwgY2xhdXNlOwoKICAgIGlmIChwYXJhbXMud2lsZGNhcmQpCiAgICAgIGNvbmRp
dGlvbnMucHVzaCgndHJ1ZScpOwogICAgaWYgKGNsYXVzZSA9IHBhcmFtcy5pZCkK
ICAgICAgY29uZGl0aW9ucy5wdXNoKCdlbGVtZW50LmlkID09ICcgKyBjbGF1c2Uu
aW5zcGVjdCgpKTsKICAgIGlmIChjbGF1c2UgPSBwYXJhbXMudGFnTmFtZSkKICAg
ICAgY29uZGl0aW9ucy5wdXNoKCdlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2Uo
KSA9PSAnICsgY2xhdXNlLmluc3BlY3QoKSk7CiAgICBpZiAoKGNsYXVzZSA9IHBh
cmFtcy5jbGFzc05hbWVzKS5sZW5ndGggPiAwKQogICAgICBmb3IgKHZhciBpID0g
MDsgaSA8IGNsYXVzZS5sZW5ndGg7IGkrKykKICAgICAgICBjb25kaXRpb25zLnB1
c2goJ0VsZW1lbnQuaGFzQ2xhc3NOYW1lKGVsZW1lbnQsICcgKyBjbGF1c2VbaV0u
aW5zcGVjdCgpICsgJyknKTsKICAgIGlmIChjbGF1c2UgPSBwYXJhbXMuYXR0cmli
dXRlcykgewogICAgICBjbGF1c2UuZWFjaChmdW5jdGlvbihhdHRyaWJ1dGUpIHsK
ICAgICAgICB2YXIgdmFsdWUgPSAnZWxlbWVudC5nZXRBdHRyaWJ1dGUoJyArIGF0
dHJpYnV0ZS5uYW1lLmluc3BlY3QoKSArICcpJzsKICAgICAgICB2YXIgc3BsaXRW
YWx1ZUJ5ID0gZnVuY3Rpb24oZGVsaW1pdGVyKSB7CiAgICAgICAgICByZXR1cm4g
dmFsdWUgKyAnICYmICcgKyB2YWx1ZSArICcuc3BsaXQoJyArIGRlbGltaXRlci5p
bnNwZWN0KCkgKyAnKSc7CiAgICAgICAgfQoKICAgICAgICBzd2l0Y2ggKGF0dHJp
YnV0ZS5vcGVyYXRvcikgewogICAgICAgICAgY2FzZSAnPSc6ICAgICAgIGNvbmRp
dGlvbnMucHVzaCh2YWx1ZSArICcgPT0gJyArIGF0dHJpYnV0ZS52YWx1ZS5pbnNw
ZWN0KCkpOyBicmVhazsKICAgICAgICAgIGNhc2UgJ349JzogICAgICBjb25kaXRp
b25zLnB1c2goc3BsaXRWYWx1ZUJ5KCcgJykgKyAnLmluY2x1ZGUoJyArIGF0dHJp
YnV0ZS52YWx1ZS5pbnNwZWN0KCkgKyAnKScpOyBicmVhazsKICAgICAgICAgIGNh
c2UgJ3w9JzogICAgICBjb25kaXRpb25zLnB1c2goCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzcGxpdFZhbHVlQnkoJy0nKSArICcuZmlyc3QoKS50b1VwcGVy
Q2FzZSgpID09ICcgKyBhdHRyaWJ1dGUudmFsdWUudG9VcHBlckNhc2UoKS5pbnNw
ZWN0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICApOyBicmVhazsKICAgICAg
ICAgIGNhc2UgJyE9JzogICAgICBjb25kaXRpb25zLnB1c2godmFsdWUgKyAnICE9
ICcgKyBhdHRyaWJ1dGUudmFsdWUuaW5zcGVjdCgpKTsgYnJlYWs7CiAgICAgICAg
ICBjYXNlICcnOgogICAgICAgICAgY2FzZSB1bmRlZmluZWQ6IGNvbmRpdGlvbnMu
cHVzaCh2YWx1ZSArICcgIT0gbnVsbCcpOyBicmVhazsKICAgICAgICAgIGRlZmF1
bHQ6ICAgICAgICB0aHJvdyAnVW5rbm93biBvcGVyYXRvciAnICsgYXR0cmlidXRl
Lm9wZXJhdG9yICsgJyBpbiBzZWxlY3Rvcic7CiAgICAgICAgfQogICAgICB9KTsK
ICAgIH0KCiAgICByZXR1cm4gY29uZGl0aW9ucy5qb2luKCcgJiYgJyk7CiAgfSwK
CiAgY29tcGlsZU1hdGNoZXI6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5tYXRjaCA9
IG5ldyBGdW5jdGlvbignZWxlbWVudCcsICdpZiAoIWVsZW1lbnQudGFnTmFtZSkg
cmV0dXJuIGZhbHNlOyBcCiAgICAgIHJldHVybiAnICsgdGhpcy5idWlsZE1hdGNo
RXhwcmVzc2lvbigpKTsKICB9LAoKICBmaW5kRWxlbWVudHM6IGZ1bmN0aW9uKHNj
b3BlKSB7CiAgICB2YXIgZWxlbWVudDsKCiAgICBpZiAoZWxlbWVudCA9ICQodGhp
cy5wYXJhbXMuaWQpKQogICAgICBpZiAodGhpcy5tYXRjaChlbGVtZW50KSkKICAg
ICAgICBpZiAoIXNjb3BlIHx8IEVsZW1lbnQuY2hpbGRPZihlbGVtZW50LCBzY29w
ZSkpCiAgICAgICAgICByZXR1cm4gW2VsZW1lbnRdOwoKICAgIHNjb3BlID0gKHNj
b3BlIHx8IGRvY3VtZW50KS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0aGlzLnBhcmFt
cy50YWdOYW1lIHx8ICcqJyk7CgogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZv
ciAodmFyIGkgPSAwOyBpIDwgc2NvcGUubGVuZ3RoOyBpKyspCiAgICAgIGlmICh0
aGlzLm1hdGNoKGVsZW1lbnQgPSBzY29wZVtpXSkpCiAgICAgICAgcmVzdWx0cy5w
dXNoKEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpKTsKCiAgICByZXR1cm4gcmVzdWx0
czsKICB9LAoKICB0b1N0cmluZzogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhp
cy5leHByZXNzaW9uOwogIH0KfQoKT2JqZWN0LmV4dGVuZChTZWxlY3Rvciwgewog
IG1hdGNoRWxlbWVudHM6IGZ1bmN0aW9uKGVsZW1lbnRzLCBleHByZXNzaW9uKSB7
CiAgICB2YXIgc2VsZWN0b3IgPSBuZXcgU2VsZWN0b3IoZXhwcmVzc2lvbik7CiAg
ICByZXR1cm4gZWxlbWVudHMuc2VsZWN0KHNlbGVjdG9yLm1hdGNoLmJpbmQoc2Vs
ZWN0b3IpKTsKICB9LAoKICBmaW5kRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudHMs
IGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBpZiAodHlwZW9mIGV4cHJlc3Npb24g
PT0gJ251bWJlcicpIGluZGV4ID0gZXhwcmVzc2lvbiwgZXhwcmVzc2lvbiA9IGZh
bHNlOwogICAgcmV0dXJuIFNlbGVjdG9yLm1hdGNoRWxlbWVudHMoZWxlbWVudHMs
IGV4cHJlc3Npb24gfHwgJyonKVtpbmRleCB8fCAwXTsKICB9LAoKICBmaW5kQ2hp
bGRFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbnMpIHsKICAg
IHJldHVybiBleHByZXNzaW9ucy5tYXAoZnVuY3Rpb24oZXhwcmVzc2lvbikgewog
ICAgICByZXR1cm4gZXhwcmVzc2lvbi5zdHJpcCgpLnNwbGl0KC9ccysvKS5pbmpl
Y3QoW251bGxdLCBmdW5jdGlvbihyZXN1bHRzLCBleHByKSB7CiAgICAgICAgdmFy
IHNlbGVjdG9yID0gbmV3IFNlbGVjdG9yKGV4cHIpOwogICAgICAgIHJldHVybiBy
ZXN1bHRzLmluamVjdChbXSwgZnVuY3Rpb24oZWxlbWVudHMsIHJlc3VsdCkgewog
ICAgICAgICAgcmV0dXJuIGVsZW1lbnRzLmNvbmNhdChzZWxlY3Rvci5maW5kRWxl
bWVudHMocmVzdWx0IHx8IGVsZW1lbnQpKTsKICAgICAgICB9KTsKICAgICAgfSk7
CiAgICB9KS5mbGF0dGVuKCk7CiAgfQp9KTsKCmZ1bmN0aW9uICQkKCkgewogIHJl
dHVybiBTZWxlY3Rvci5maW5kQ2hpbGRFbGVtZW50cyhkb2N1bWVudCwgJEEoYXJn
dW1lbnRzKSk7Cn0KdmFyIEZvcm0gPSB7CiAgcmVzZXQ6IGZ1bmN0aW9uKGZvcm0p
IHsKICAgICQoZm9ybSkucmVzZXQoKTsKICAgIHJldHVybiBmb3JtOwogIH0KfTsK
CkZvcm0uTWV0aG9kcyA9IHsKICBzZXJpYWxpemU6IGZ1bmN0aW9uKGZvcm0pIHsK
ICAgIHZhciBlbGVtZW50cyA9IEZvcm0uZ2V0RWxlbWVudHMoJChmb3JtKSk7CiAg
ICB2YXIgcXVlcnlDb21wb25lbnRzID0gbmV3IEFycmF5KCk7CgogICAgZm9yICh2
YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIg
cXVlcnlDb21wb25lbnQgPSBGb3JtLkVsZW1lbnQuc2VyaWFsaXplKGVsZW1lbnRz
W2ldKTsKICAgICAgaWYgKHF1ZXJ5Q29tcG9uZW50KQogICAgICAgIHF1ZXJ5Q29t
cG9uZW50cy5wdXNoKHF1ZXJ5Q29tcG9uZW50KTsKICAgIH0KCiAgICByZXR1cm4g
cXVlcnlDb21wb25lbnRzLmpvaW4oJyYnKTsKICB9LAoKICBnZXRFbGVtZW50czog
ZnVuY3Rpb24oZm9ybSkgewogICAgZm9ybSA9ICQoZm9ybSk7CiAgICB2YXIgZWxl
bWVudHMgPSBuZXcgQXJyYXkoKTsKCiAgICBmb3IgKHZhciB0YWdOYW1lIGluIEZv
cm0uRWxlbWVudC5TZXJpYWxpemVycykgewogICAgICB2YXIgdGFnRWxlbWVudHMg
PSBmb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZ05hbWUpOwogICAgICBmb3Ig
KHZhciBqID0gMDsgaiA8IHRhZ0VsZW1lbnRzLmxlbmd0aDsgaisrKQogICAgICAg
IGVsZW1lbnRzLnB1c2godGFnRWxlbWVudHNbal0pOwogICAgfQogICAgcmV0dXJu
IGVsZW1lbnRzOwogIH0sCgogIGdldElucHV0czogZnVuY3Rpb24oZm9ybSwgdHlw
ZU5hbWUsIG5hbWUpIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgdmFyIGlucHV0
cyA9IGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7CgogICAgaWYg
KCF0eXBlTmFtZSAmJiAhbmFtZSkKICAgICAgcmV0dXJuIGlucHV0czsKCiAgICB2
YXIgbWF0Y2hpbmdJbnB1dHMgPSBuZXcgQXJyYXkoKTsKICAgIGZvciAodmFyIGkg
PSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBpbnB1dCA9
IGlucHV0c1tpXTsKICAgICAgaWYgKCh0eXBlTmFtZSAmJiBpbnB1dC50eXBlICE9
IHR5cGVOYW1lKSB8fAogICAgICAgICAgKG5hbWUgJiYgaW5wdXQubmFtZSAhPSBu
YW1lKSkKICAgICAgICBjb250aW51ZTsKICAgICAgbWF0Y2hpbmdJbnB1dHMucHVz
aChpbnB1dCk7CiAgICB9CgogICAgcmV0dXJuIG1hdGNoaW5nSW5wdXRzOwogIH0s
CgogIGRpc2FibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0p
OwogICAgdmFyIGVsZW1lbnRzID0gRm9ybS5nZXRFbGVtZW50cyhmb3JtKTsKICAg
IGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAg
ICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsKICAgICAgZWxlbWVudC5ibHVy
KCk7CiAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSAndHJ1ZSc7CiAgICB9CiAgICBy
ZXR1cm4gZm9ybTsKICB9LAoKICBlbmFibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAg
IGZvcm0gPSAkKGZvcm0pOwogICAgdmFyIGVsZW1lbnRzID0gRm9ybS5nZXRFbGVt
ZW50cyhmb3JtKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVu
Z3RoOyBpKyspIHsKICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsKICAg
ICAgZWxlbWVudC5kaXNhYmxlZCA9ICcnOwogICAgfQogICAgcmV0dXJuIGZvcm07
CiAgfSwKCiAgZmluZEZpcnN0RWxlbWVudDogZnVuY3Rpb24oZm9ybSkgewogICAg
cmV0dXJuIEZvcm0uZ2V0RWxlbWVudHMoZm9ybSkuZmluZChmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50LnR5cGUgIT0gJ2hpZGRlbicgJiYg
IWVsZW1lbnQuZGlzYWJsZWQgJiYKICAgICAgICBbJ2lucHV0JywgJ3NlbGVjdCcs
ICd0ZXh0YXJlYSddLmluY2x1ZGUoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNl
KCkpOwogICAgfSk7CiAgfSwKCiAgZm9jdXNGaXJzdEVsZW1lbnQ6IGZ1bmN0aW9u
KGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgRmllbGQuYWN0aXZhdGUo
Rm9ybS5maW5kRmlyc3RFbGVtZW50KGZvcm0pKTsKICAgIHJldHVybiBmb3JtOwog
IH0KfQoKT2JqZWN0LmV4dGVuZChGb3JtLCBGb3JtLk1ldGhvZHMpOwoKLyotLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgpGb3JtLkVsZW1lbnQgPSB7CiAgZm9j
dXM6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICQoZWxlbWVudCkuZm9jdXMoKTsK
ICAgIHJldHVybiBlbGVtZW50OwogIH0sCgogIHNlbGVjdDogZnVuY3Rpb24oZWxl
bWVudCkgewogICAgJChlbGVtZW50KS5zZWxlY3QoKTsKICAgIHJldHVybiBlbGVt
ZW50OwogIH0KfQoKRm9ybS5FbGVtZW50Lk1ldGhvZHMgPSB7CiAgc2VyaWFsaXpl
OiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsK
ICAgIHZhciBtZXRob2QgPSBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsK
ICAgIHZhciBwYXJhbWV0ZXIgPSBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnNbbWV0
aG9kXShlbGVtZW50KTsKCiAgICBpZiAocGFyYW1ldGVyKSB7CiAgICAgIHZhciBr
ZXkgPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1ldGVyWzBdKTsKICAgICAgaWYg
KGtleS5sZW5ndGggPT0gMCkgcmV0dXJuOwoKICAgICAgaWYgKHBhcmFtZXRlclsx
XS5jb25zdHJ1Y3RvciAhPSBBcnJheSkKICAgICAgICBwYXJhbWV0ZXJbMV0gPSBb
cGFyYW1ldGVyWzFdXTsKCiAgICAgIHJldHVybiBwYXJhbWV0ZXJbMV0ubWFwKGZ1
bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGtleSArICc9JyArIGVuY29k
ZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICAgIH0pLmpvaW4oJyYnKTsKICAgIH0K
ICB9LAoKICBnZXRWYWx1ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgZWxlbWVu
dCA9ICQoZWxlbWVudCk7CiAgICB2YXIgbWV0aG9kID0gZWxlbWVudC50YWdOYW1l
LnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgcGFyYW1ldGVyID0gRm9ybS5FbGVtZW50
LlNlcmlhbGl6ZXJzW21ldGhvZF0oZWxlbWVudCk7CgogICAgaWYgKHBhcmFtZXRl
cikKICAgICAgcmV0dXJuIHBhcmFtZXRlclsxXTsKICB9LAoKICBjbGVhcjogZnVu
Y3Rpb24oZWxlbWVudCkgewogICAgJChlbGVtZW50KS52YWx1ZSA9ICcnOwogICAg
cmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcHJlc2VudDogZnVuY3Rpb24oZWxlbWVu
dCkgewogICAgcmV0dXJuICQoZWxlbWVudCkudmFsdWUgIT0gJyc7CiAgfSwKCiAg
YWN0aXZhdGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVs
ZW1lbnQpOwogICAgZWxlbWVudC5mb2N1cygpOwogICAgaWYgKGVsZW1lbnQuc2Vs
ZWN0KQogICAgICBlbGVtZW50LnNlbGVjdCgpOwogICAgcmV0dXJuIGVsZW1lbnQ7
CiAgfSwKCiAgZW5hYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50
ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuZGlzYWJsZWQgPSAnJzsKICAgIHJl
dHVybiBlbGVtZW50OwogIH0sCgogIGRpc2FibGU6IGZ1bmN0aW9uKGVsZW1lbnQp
IHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgZWxlbWVudC5ibHVyKCk7
CiAgICBlbGVtZW50LmRpc2FibGVkID0gJ3RydWUnOwogICAgcmV0dXJuIGVsZW1l
bnQ7CiAgfQp9CgpPYmplY3QuZXh0ZW5kKEZvcm0uRWxlbWVudCwgRm9ybS5FbGVt
ZW50Lk1ldGhvZHMpOwp2YXIgRmllbGQgPSBGb3JtLkVsZW1lbnQ7CgovKi0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkZvcm0uRWxlbWVudC5TZXJpYWxpemVy
cyA9IHsKICBpbnB1dDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgc3dpdGNoIChl
bGVtZW50LnR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdjaGVja2Jv
eCc6CiAgICAgIGNhc2UgJ3JhZGlvJzoKICAgICAgICByZXR1cm4gRm9ybS5FbGVt
ZW50LlNlcmlhbGl6ZXJzLmlucHV0U2VsZWN0b3IoZWxlbWVudCk7CiAgICAgIGRl
ZmF1bHQ6CiAgICAgICAgcmV0dXJuIEZvcm0uRWxlbWVudC5TZXJpYWxpemVycy50
ZXh0YXJlYShlbGVtZW50KTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9LAoK
ICBpbnB1dFNlbGVjdG9yOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBpZiAoZWxl
bWVudC5jaGVja2VkKQogICAgICByZXR1cm4gW2VsZW1lbnQubmFtZSwgZWxlbWVu
dC52YWx1ZV07CiAgfSwKCiAgdGV4dGFyZWE6IGZ1bmN0aW9uKGVsZW1lbnQpIHsK
ICAgIHJldHVybiBbZWxlbWVudC5uYW1lLCBlbGVtZW50LnZhbHVlXTsKICB9LAoK
ICBzZWxlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHJldHVybiBGb3JtLkVs
ZW1lbnQuU2VyaWFsaXplcnNbZWxlbWVudC50eXBlID09ICdzZWxlY3Qtb25lJyA/
CiAgICAgICdzZWxlY3RPbmUnIDogJ3NlbGVjdE1hbnknXShlbGVtZW50KTsKICB9
LAoKICBzZWxlY3RPbmU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1
ZSA9ICcnLCBvcHQsIGluZGV4ID0gZWxlbWVudC5zZWxlY3RlZEluZGV4OwogICAg
aWYgKGluZGV4ID49IDApIHsKICAgICAgb3B0ID0gZWxlbWVudC5vcHRpb25zW2lu
ZGV4XTsKICAgICAgdmFsdWUgPSBvcHQudmFsdWUgfHwgb3B0LnRleHQ7CiAgICB9
CiAgICByZXR1cm4gW2VsZW1lbnQubmFtZSwgdmFsdWVdOwogIH0sCgogIHNlbGVj
dE1hbnk6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1ZSA9IFtdOwog
ICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7CiAg
ICAgIHZhciBvcHQgPSBlbGVtZW50Lm9wdGlvbnNbaV07CiAgICAgIGlmIChvcHQu
c2VsZWN0ZWQpCiAgICAgICAgdmFsdWUucHVzaChvcHQudmFsdWUgfHwgb3B0LnRl
eHQpOwogICAgfQogICAgcmV0dXJuIFtlbGVtZW50Lm5hbWUsIHZhbHVlXTsKICB9
Cn0KCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKdmFyICRGID0gRm9y
bS5FbGVtZW50LmdldFZhbHVlOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LSovCgpBYnN0cmFjdC5UaW1lZE9ic2VydmVyID0gZnVuY3Rpb24oKSB7fQpBYnN0
cmFjdC5UaW1lZE9ic2VydmVyLnByb3RvdHlwZSA9IHsKICBpbml0aWFsaXplOiBm
dW5jdGlvbihlbGVtZW50LCBmcmVxdWVuY3ksIGNhbGxiYWNrKSB7CiAgICB0aGlz
LmZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTsKICAgIHRoaXMuZWxlbWVudCAgID0gJChl
bGVtZW50KTsKICAgIHRoaXMuY2FsbGJhY2sgID0gY2FsbGJhY2s7CgogICAgdGhp
cy5sYXN0VmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICB0aGlzLnJlZ2lzdGVy
Q2FsbGJhY2soKTsKICB9LAoKICByZWdpc3RlckNhbGxiYWNrOiBmdW5jdGlvbigp
IHsKICAgIHNldEludGVydmFsKHRoaXMub25UaW1lckV2ZW50LmJpbmQodGhpcyks
IHRoaXMuZnJlcXVlbmN5ICogMTAwMCk7CiAgfSwKCiAgb25UaW1lckV2ZW50OiBm
dW5jdGlvbigpIHsKICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTsKICAg
IGlmICh0aGlzLmxhc3RWYWx1ZSAhPSB2YWx1ZSkgewogICAgICB0aGlzLmNhbGxi
YWNrKHRoaXMuZWxlbWVudCwgdmFsdWUpOwogICAgICB0aGlzLmxhc3RWYWx1ZSA9
IHZhbHVlOwogICAgfQogIH0KfQoKRm9ybS5FbGVtZW50Lk9ic2VydmVyID0gQ2xh
c3MuY3JlYXRlKCk7CkZvcm0uRWxlbWVudC5PYnNlcnZlci5wcm90b3R5cGUgPSBP
YmplY3QuZXh0ZW5kKG5ldyBBYnN0cmFjdC5UaW1lZE9ic2VydmVyKCksIHsKICBn
ZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5FbGVtZW50Lmdl
dFZhbHVlKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCkZvcm0uT2JzZXJ2ZXIgPSBD
bGFzcy5jcmVhdGUoKTsKRm9ybS5PYnNlcnZlci5wcm90b3R5cGUgPSBPYmplY3Qu
ZXh0ZW5kKG5ldyBBYnN0cmFjdC5UaW1lZE9ic2VydmVyKCksIHsKICBnZXRWYWx1
ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5zZXJpYWxpemUodGhpcy5l
bGVtZW50KTsKICB9Cn0pOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSov
CgpBYnN0cmFjdC5FdmVudE9ic2VydmVyID0gZnVuY3Rpb24oKSB7fQpBYnN0cmFj
dC5FdmVudE9ic2VydmVyLnByb3RvdHlwZSA9IHsKICBpbml0aWFsaXplOiBmdW5j
dGlvbihlbGVtZW50LCBjYWxsYmFjaykgewogICAgdGhpcy5lbGVtZW50ICA9ICQo
ZWxlbWVudCk7CiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7CgogICAgdGhp
cy5sYXN0VmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICBpZiAodGhpcy5lbGVt
ZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnZm9ybScpCiAgICAgIHRoaXMu
cmVnaXN0ZXJGb3JtQ2FsbGJhY2tzKCk7CiAgICBlbHNlCiAgICAgIHRoaXMucmVn
aXN0ZXJDYWxsYmFjayh0aGlzLmVsZW1lbnQpOwogIH0sCgogIG9uRWxlbWVudEV2
ZW50OiBmdW5jdGlvbigpIHsKICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUo
KTsKICAgIGlmICh0aGlzLmxhc3RWYWx1ZSAhPSB2YWx1ZSkgewogICAgICB0aGlz
LmNhbGxiYWNrKHRoaXMuZWxlbWVudCwgdmFsdWUpOwogICAgICB0aGlzLmxhc3RW
YWx1ZSA9IHZhbHVlOwogICAgfQogIH0sCgogIHJlZ2lzdGVyRm9ybUNhbGxiYWNr
czogZnVuY3Rpb24oKSB7CiAgICB2YXIgZWxlbWVudHMgPSBGb3JtLmdldEVsZW1l
bnRzKHRoaXMuZWxlbWVudCk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1l
bnRzLmxlbmd0aDsgaSsrKQogICAgICB0aGlzLnJlZ2lzdGVyQ2FsbGJhY2soZWxl
bWVudHNbaV0pOwogIH0sCgogIHJlZ2lzdGVyQ2FsbGJhY2s6IGZ1bmN0aW9uKGVs
ZW1lbnQpIHsKICAgIGlmIChlbGVtZW50LnR5cGUpIHsKICAgICAgc3dpdGNoIChl
bGVtZW50LnR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgIGNhc2UgJ2NoZWNr
Ym94JzoKICAgICAgICBjYXNlICdyYWRpbyc6CiAgICAgICAgICBFdmVudC5vYnNl
cnZlKGVsZW1lbnQsICdjbGljaycsIHRoaXMub25FbGVtZW50RXZlbnQuYmluZCh0
aGlzKSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAg
ICAgRXZlbnQub2JzZXJ2ZShlbGVtZW50LCAnY2hhbmdlJywgdGhpcy5vbkVsZW1l
bnRFdmVudC5iaW5kKHRoaXMpKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAg
ICB9CiAgfQp9CgpGb3JtLkVsZW1lbnQuRXZlbnRPYnNlcnZlciA9IENsYXNzLmNy
ZWF0ZSgpOwpGb3JtLkVsZW1lbnQuRXZlbnRPYnNlcnZlci5wcm90b3R5cGUgPSBP
YmplY3QuZXh0ZW5kKG5ldyBBYnN0cmFjdC5FdmVudE9ic2VydmVyKCksIHsKICBn
ZXRWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gRm9ybS5FbGVtZW50Lmdl
dFZhbHVlKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCkZvcm0uRXZlbnRPYnNlcnZl
ciA9IENsYXNzLmNyZWF0ZSgpOwpGb3JtLkV2ZW50T2JzZXJ2ZXIucHJvdG90eXBl
ID0gT2JqZWN0LmV4dGVuZChuZXcgQWJzdHJhY3QuRXZlbnRPYnNlcnZlcigpLCB7
CiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEZvcm0uc2VyaWFs
aXplKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKaWYgKCF3aW5kb3cuRXZlbnQpIHsK
ICB2YXIgRXZlbnQgPSBuZXcgT2JqZWN0KCk7Cn0KCk9iamVjdC5leHRlbmQoRXZl
bnQsIHsKICBLRVlfQkFDS1NQQUNFOiA4LAogIEtFWV9UQUI6ICAgICAgIDksCiAg
S0VZX1JFVFVSTjogICAxMywKICBLRVlfRVNDOiAgICAgIDI3LAogIEtFWV9MRUZU
OiAgICAgMzcsCiAgS0VZX1VQOiAgICAgICAzOCwKICBLRVlfUklHSFQ6ICAgIDM5
LAogIEtFWV9ET1dOOiAgICAgNDAsCiAgS0VZX0RFTEVURTogICA0NiwKICBLRVlf
SE9NRTogICAgIDM2LAogIEtFWV9FTkQ6ICAgICAgMzUsCiAgS0VZX1BBR0VVUDog
ICAzMywKICBLRVlfUEFHRURPV046IDM0LAoKICBlbGVtZW50OiBmdW5jdGlvbihl
dmVudCkgewogICAgcmV0dXJuIGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVt
ZW50OwogIH0sCgogIGlzTGVmdENsaWNrOiBmdW5jdGlvbihldmVudCkgewogICAg
cmV0dXJuICgoKGV2ZW50LndoaWNoKSAmJiAoZXZlbnQud2hpY2ggPT0gMSkpIHx8
CiAgICAgICAgICAgICgoZXZlbnQuYnV0dG9uKSAmJiAoZXZlbnQuYnV0dG9uID09
IDEpKSk7CiAgfSwKCiAgcG9pbnRlclg6IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICBy
ZXR1cm4gZXZlbnQucGFnZVggfHwgKGV2ZW50LmNsaWVudFggKwogICAgICAoZG9j
dW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9k
eS5zY3JvbGxMZWZ0KSk7CiAgfSwKCiAgcG9pbnRlclk6IGZ1bmN0aW9uKGV2ZW50
KSB7CiAgICByZXR1cm4gZXZlbnQucGFnZVkgfHwgKGV2ZW50LmNsaWVudFkgKwog
ICAgICAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1
bWVudC5ib2R5LnNjcm9sbFRvcCkpOwogIH0sCgogIHN0b3A6IGZ1bmN0aW9uKGV2
ZW50KSB7CiAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpIHsKICAgICAgZXZl
bnQucHJldmVudERlZmF1bHQoKTsKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9u
KCk7CiAgICB9IGVsc2UgewogICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNl
OwogICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOwogICAgfQogIH0sCgog
IC8vIGZpbmQgdGhlIGZpcnN0IG5vZGUgd2l0aCB0aGUgZ2l2ZW4gdGFnTmFtZSwg
c3RhcnRpbmcgZnJvbSB0aGUKICAvLyBub2RlIHRoZSBldmVudCB3YXMgdHJpZ2dl
cmVkIG9uOyB0cmF2ZXJzZXMgdGhlIERPTSB1cHdhcmRzCiAgZmluZEVsZW1lbnQ6
IGZ1bmN0aW9uKGV2ZW50LCB0YWdOYW1lKSB7CiAgICB2YXIgZWxlbWVudCA9IEV2
ZW50LmVsZW1lbnQoZXZlbnQpOwogICAgd2hpbGUgKGVsZW1lbnQucGFyZW50Tm9k
ZSAmJiAoIWVsZW1lbnQudGFnTmFtZSB8fAogICAgICAgIChlbGVtZW50LnRhZ05h
bWUudG9VcHBlckNhc2UoKSAhPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCkpKSkKICAg
ICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgIHJldHVybiBlbGVt
ZW50OwogIH0sCgogIG9ic2VydmVyczogZmFsc2UsCgogIF9vYnNlcnZlQW5kQ2Fj
aGU6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIG9ic2VydmVyLCB1c2VDYXB0dXJl
KSB7CiAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzKSB0aGlzLm9ic2VydmVycyA9IFtd
OwogICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICB0aGlz
Lm9ic2VydmVycy5wdXNoKFtlbGVtZW50LCBuYW1lLCBvYnNlcnZlciwgdXNlQ2Fw
dHVyZV0pOwogICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgb2Jz
ZXJ2ZXIsIHVzZUNhcHR1cmUpOwogICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dGFj
aEV2ZW50KSB7CiAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2goW2VsZW1lbnQsIG5h
bWUsIG9ic2VydmVyLCB1c2VDYXB0dXJlXSk7CiAgICAgIGVsZW1lbnQuYXR0YWNo
RXZlbnQoJ29uJyArIG5hbWUsIG9ic2VydmVyKTsKICAgIH0KICB9LAoKICB1bmxv
YWRDYWNoZTogZnVuY3Rpb24oKSB7CiAgICBpZiAoIUV2ZW50Lm9ic2VydmVycykg
cmV0dXJuOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBFdmVudC5vYnNlcnZlcnMu
bGVuZ3RoOyBpKyspIHsKICAgICAgRXZlbnQuc3RvcE9ic2VydmluZy5hcHBseSh0
aGlzLCBFdmVudC5vYnNlcnZlcnNbaV0pOwogICAgICBFdmVudC5vYnNlcnZlcnNb
aV1bMF0gPSBudWxsOwogICAgfQogICAgRXZlbnQub2JzZXJ2ZXJzID0gZmFsc2U7
CiAgfSwKCiAgb2JzZXJ2ZTogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgb2JzZXJ2
ZXIsIHVzZUNhcHR1cmUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAg
dXNlQ2FwdHVyZSA9IHVzZUNhcHR1cmUgfHwgZmFsc2U7CgogICAgaWYgKG5hbWUg
PT0gJ2tleXByZXNzJyAmJgogICAgICAgIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5t
YXRjaCgvS29ucXVlcm9yfFNhZmFyaXxLSFRNTC8pCiAgICAgICAgfHwgZWxlbWVu
dC5hdHRhY2hFdmVudCkpCiAgICAgIG5hbWUgPSAna2V5ZG93bic7CgogICAgRXZl
bnQuX29ic2VydmVBbmRDYWNoZShlbGVtZW50LCBuYW1lLCBvYnNlcnZlciwgdXNl
Q2FwdHVyZSk7CiAgfSwKCiAgc3RvcE9ic2VydmluZzogZnVuY3Rpb24oZWxlbWVu
dCwgbmFtZSwgb2JzZXJ2ZXIsIHVzZUNhcHR1cmUpIHsKICAgIGVsZW1lbnQgPSAk
KGVsZW1lbnQpOwogICAgdXNlQ2FwdHVyZSA9IHVzZUNhcHR1cmUgfHwgZmFsc2U7
CgogICAgaWYgKG5hbWUgPT0gJ2tleXByZXNzJyAmJgogICAgICAgIChuYXZpZ2F0
b3IuYXBwVmVyc2lvbi5tYXRjaCgvS29ucXVlcm9yfFNhZmFyaXxLSFRNTC8pCiAg
ICAgICAgfHwgZWxlbWVudC5kZXRhY2hFdmVudCkpCiAgICAgIG5hbWUgPSAna2V5
ZG93bic7CgogICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikgewog
ICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgb2JzZXJ2ZXIs
IHVzZUNhcHR1cmUpOwogICAgfSBlbHNlIGlmIChlbGVtZW50LmRldGFjaEV2ZW50
KSB7CiAgICAgIHRyeSB7CiAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24n
ICsgbmFtZSwgb2JzZXJ2ZXIpOwogICAgICB9IGNhdGNoIChlKSB7fQogICAgfQog
IH0KfSk7CgovKiBwcmV2ZW50IG1lbW9yeSBsZWFrcyBpbiBJRSAqLwppZiAobmF2
aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL1xiTVNJRVxiLykpCiAgRXZlbnQub2Jz
ZXJ2ZSh3aW5kb3csICd1bmxvYWQnLCBFdmVudC51bmxvYWRDYWNoZSwgZmFsc2Up
Owp2YXIgUG9zaXRpb24gPSB7CiAgLy8gc2V0IHRvIHRydWUgaWYgbmVlZGVkLCB3
YXJuaW5nOiBmaXJlZm94IHBlcmZvcm1hbmNlIHByb2JsZW1zCiAgLy8gTk9UIG5l
ZWVkZWQgZm9yIHBhZ2Ugc2Nyb2xsaW5nLCBvbmx5IGlmIGRyYWdnYWJsZSBjb250
YWluZWQgaW4KICAvLyBzY3JvbGxhYmxlIGVsZW1lbnRzCiAgaW5jbHVkZVNjcm9s
bE9mZnNldHM6IGZhbHNlLAoKICAvLyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgY2Fs
bGluZyB3aXRoaW5JbmNsdWRpbmdTY3JvbGxvZmZzZXQsIGV2ZXJ5IHRpbWUgdGhl
CiAgLy8gcGFnZSBpcyBzY3JvbGxlZAogIHByZXBhcmU6IGZ1bmN0aW9uKCkgewog
ICAgdGhpcy5kZWx0YVggPSAgd2luZG93LnBhZ2VYT2Zmc2V0CiAgICAgICAgICAg
ICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdAogICAg
ICAgICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0CiAgICAgICAg
ICAgICAgICB8fCAwOwogICAgdGhpcy5kZWx0YVkgPSAgd2luZG93LnBhZ2VZT2Zm
c2V0CiAgICAgICAgICAgICAgICB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQu
c2Nyb2xsVG9wCiAgICAgICAgICAgICAgICB8fCBkb2N1bWVudC5ib2R5LnNjcm9s
bFRvcAogICAgICAgICAgICAgICAgfHwgMDsKICB9LAoKICByZWFsT2Zmc2V0OiBm
dW5jdGlvbihlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0g
MDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQuc2Nyb2xsVG9wICB8
fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7CiAg
ICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7CiAgICB9IHdoaWxlIChl
bGVtZW50KTsKICAgIHJldHVybiBbdmFsdWVMLCB2YWx1ZVRdOwogIH0sCgogIGN1
bXVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZhciB2YWx1
ZVQgPSAwLCB2YWx1ZUwgPSAwOwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxl
bWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9m
ZnNldExlZnQgfHwgMDsKICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFy
ZW50OwogICAgfSB3aGlsZSAoZWxlbWVudCk7CiAgICByZXR1cm4gW3ZhbHVlTCwg
dmFsdWVUXTsKICB9LAoKICBwb3NpdGlvbmVkT2Zmc2V0OiBmdW5jdGlvbihlbGVt
ZW50KSB7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsK
ICAgICAgdmFsdWVUICs9IGVsZW1lbnQub2Zmc2V0VG9wICB8fCAwOwogICAgICB2
YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQg
PSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgaWYgKGVsZW1lbnQpIHsKICAg
ICAgICBwID0gRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKTsK
ICAgICAgICBpZiAocCA9PSAncmVsYXRpdmUnIHx8IHAgPT0gJ2Fic29sdXRlJykg
YnJlYWs7CiAgICAgIH0KICAgIH0gd2hpbGUgKGVsZW1lbnQpOwogICAgcmV0dXJu
IFt2YWx1ZUwsIHZhbHVlVF07CiAgfSwKCiAgb2Zmc2V0UGFyZW50OiBmdW5jdGlv
bihlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudC5vZmZzZXRQYXJlbnQpIHJldHVy
biBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgIGlmIChlbGVtZW50ID09IGRvY3Vt
ZW50LmJvZHkpIHJldHVybiBlbGVtZW50OwoKICAgIHdoaWxlICgoZWxlbWVudCA9
IGVsZW1lbnQucGFyZW50Tm9kZSkgJiYgZWxlbWVudCAhPSBkb2N1bWVudC5ib2R5
KQogICAgICBpZiAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24n
KSAhPSAnc3RhdGljJykKICAgICAgICByZXR1cm4gZWxlbWVudDsKCiAgICByZXR1
cm4gZG9jdW1lbnQuYm9keTsKICB9LAoKICAvLyBjYWNoZXMgeC95IGNvb3JkaW5h
dGUgcGFpciB0byB1c2Ugd2l0aCBvdmVybGFwCiAgd2l0aGluOiBmdW5jdGlvbihl
bGVtZW50LCB4LCB5KSB7CiAgICBpZiAodGhpcy5pbmNsdWRlU2Nyb2xsT2Zmc2V0
cykKICAgICAgcmV0dXJuIHRoaXMud2l0aGluSW5jbHVkaW5nU2Nyb2xsb2Zmc2V0
cyhlbGVtZW50LCB4LCB5KTsKICAgIHRoaXMueGNvbXAgPSB4OwogICAgdGhpcy55
Y29tcCA9IHk7CiAgICB0aGlzLm9mZnNldCA9IHRoaXMuY3VtdWxhdGl2ZU9mZnNl
dChlbGVtZW50KTsKCiAgICByZXR1cm4gKHkgPj0gdGhpcy5vZmZzZXRbMV0gJiYK
ICAgICAgICAgICAgeSA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0
SGVpZ2h0ICYmCiAgICAgICAgICAgIHggPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAg
ICAgICAgICAgeCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lk
dGgpOwogIH0sCgogIHdpdGhpbkluY2x1ZGluZ1Njcm9sbG9mZnNldHM6IGZ1bmN0
aW9uKGVsZW1lbnQsIHgsIHkpIHsKICAgIHZhciBvZmZzZXRjYWNoZSA9IHRoaXMu
cmVhbE9mZnNldChlbGVtZW50KTsKCiAgICB0aGlzLnhjb21wID0geCArIG9mZnNl
dGNhY2hlWzBdIC0gdGhpcy5kZWx0YVg7CiAgICB0aGlzLnljb21wID0geSArIG9m
ZnNldGNhY2hlWzFdIC0gdGhpcy5kZWx0YVk7CiAgICB0aGlzLm9mZnNldCA9IHRo
aXMuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHRoaXMu
eWNvbXAgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgdGhpcy55Y29t
cCA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAg
ICAgICAgICAgIHRoaXMueGNvbXAgPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAg
ICAgICAgdGhpcy54Y29tcCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zm
c2V0V2lkdGgpOwogIH0sCgogIC8vIHdpdGhpbiBtdXN0IGJlIGNhbGxlZCBkaXJl
Y3RseSBiZWZvcmUKICBvdmVybGFwOiBmdW5jdGlvbihtb2RlLCBlbGVtZW50KSB7
CiAgICBpZiAoIW1vZGUpIHJldHVybiAwOwogICAgaWYgKG1vZGUgPT0gJ3ZlcnRp
Y2FsJykKICAgICAgcmV0dXJuICgodGhpcy5vZmZzZXRbMV0gKyBlbGVtZW50Lm9m
ZnNldEhlaWdodCkgLSB0aGlzLnljb21wKSAvCiAgICAgICAgZWxlbWVudC5vZmZz
ZXRIZWlnaHQ7CiAgICBpZiAobW9kZSA9PSAnaG9yaXpvbnRhbCcpCiAgICAgIHJl
dHVybiAoKHRoaXMub2Zmc2V0WzBdICsgZWxlbWVudC5vZmZzZXRXaWR0aCkgLSB0
aGlzLnhjb21wKSAvCiAgICAgICAgZWxlbWVudC5vZmZzZXRXaWR0aDsKICB9LAoK
ICBwYWdlOiBmdW5jdGlvbihmb3JFbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0g
MCwgdmFsdWVMID0gMDsKCiAgICB2YXIgZWxlbWVudCA9IGZvckVsZW1lbnQ7CiAg
ICBkbyB7CiAgICAgIHZhbHVlVCArPSBlbGVtZW50Lm9mZnNldFRvcCAgfHwgMDsK
ICAgICAgdmFsdWVMICs9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwOwoKICAgICAg
Ly8gU2FmYXJpIGZpeAogICAgICBpZiAoZWxlbWVudC5vZmZzZXRQYXJlbnQ9PWRv
Y3VtZW50LmJvZHkpCiAgICAgICAgaWYgKEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVu
dCwncG9zaXRpb24nKT09J2Fic29sdXRlJykgYnJlYWs7CgogICAgfSB3aGlsZSAo
ZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KTsKCiAgICBlbGVtZW50ID0g
Zm9yRWxlbWVudDsKICAgIGRvIHsKICAgICAgaWYgKCF3aW5kb3cub3BlcmEgfHwg
ZWxlbWVudC50YWdOYW1lPT0nQk9EWScpIHsKICAgICAgICB2YWx1ZVQgLT0gZWxl
bWVudC5zY3JvbGxUb3AgIHx8IDA7CiAgICAgICAgdmFsdWVMIC09IGVsZW1lbnQu
c2Nyb2xsTGVmdCB8fCAwOwogICAgICB9CiAgICB9IHdoaWxlIChlbGVtZW50ID0g
ZWxlbWVudC5wYXJlbnROb2RlKTsKCiAgICByZXR1cm4gW3ZhbHVlTCwgdmFsdWVU
XTsKICB9LAoKICBjbG9uZTogZnVuY3Rpb24oc291cmNlLCB0YXJnZXQpIHsKICAg
IHZhciBvcHRpb25zID0gT2JqZWN0LmV4dGVuZCh7CiAgICAgIHNldExlZnQ6ICAg
IHRydWUsCiAgICAgIHNldFRvcDogICAgIHRydWUsCiAgICAgIHNldFdpZHRoOiAg
IHRydWUsCiAgICAgIHNldEhlaWdodDogIHRydWUsCiAgICAgIG9mZnNldFRvcDog
IDAsCiAgICAgIG9mZnNldExlZnQ6IDAKICAgIH0sIGFyZ3VtZW50c1syXSB8fCB7
fSkKCiAgICAvLyBmaW5kIHBhZ2UgcG9zaXRpb24gb2Ygc291cmNlCiAgICBzb3Vy
Y2UgPSAkKHNvdXJjZSk7CiAgICB2YXIgcCA9IFBvc2l0aW9uLnBhZ2Uoc291cmNl
KTsKCiAgICAvLyBmaW5kIGNvb3JkaW5hdGUgc3lzdGVtIHRvIHVzZQogICAgdGFy
Z2V0ID0gJCh0YXJnZXQpOwogICAgdmFyIGRlbHRhID0gWzAsIDBdOwogICAgdmFy
IHBhcmVudCA9IG51bGw7CiAgICAvLyBkZWx0YSBbMCwwXSB3aWxsIGRvIGZpbmUg
d2l0aCBwb3NpdGlvbjogZml4ZWQgZWxlbWVudHMsCiAgICAvLyBwb3NpdGlvbjph
YnNvbHV0ZSBuZWVkcyBvZmZzZXRQYXJlbnQgZGVsdGFzCiAgICBpZiAoRWxlbWVu
dC5nZXRTdHlsZSh0YXJnZXQsJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgewog
ICAgICBwYXJlbnQgPSBQb3NpdGlvbi5vZmZzZXRQYXJlbnQodGFyZ2V0KTsKICAg
ICAgZGVsdGEgPSBQb3NpdGlvbi5wYWdlKHBhcmVudCk7CiAgICB9CgogICAgLy8g
Y29ycmVjdCBieSBib2R5IG9mZnNldHMgKGZpeGVzIFNhZmFyaSkKICAgIGlmIChw
YXJlbnQgPT0gZG9jdW1lbnQuYm9keSkgewogICAgICBkZWx0YVswXSAtPSBkb2N1
bWVudC5ib2R5Lm9mZnNldExlZnQ7CiAgICAgIGRlbHRhWzFdIC09IGRvY3VtZW50
LmJvZHkub2Zmc2V0VG9wOwogICAgfQoKICAgIC8vIHNldCBwb3NpdGlvbgogICAg
aWYob3B0aW9ucy5zZXRMZWZ0KSAgIHRhcmdldC5zdHlsZS5sZWZ0ICA9IChwWzBd
IC0gZGVsdGFbMF0gKyBvcHRpb25zLm9mZnNldExlZnQpICsgJ3B4JzsKICAgIGlm
KG9wdGlvbnMuc2V0VG9wKSAgICB0YXJnZXQuc3R5bGUudG9wICAgPSAocFsxXSAt
IGRlbHRhWzFdICsgb3B0aW9ucy5vZmZzZXRUb3ApICsgJ3B4JzsKICAgIGlmKG9w
dGlvbnMuc2V0V2lkdGgpICB0YXJnZXQuc3R5bGUud2lkdGggPSBzb3VyY2Uub2Zm
c2V0V2lkdGggKyAncHgnOwogICAgaWYob3B0aW9ucy5zZXRIZWlnaHQpIHRhcmdl
dC5zdHlsZS5oZWlnaHQgPSBzb3VyY2Uub2Zmc2V0SGVpZ2h0ICsgJ3B4JzsKICB9
LAoKICBhYnNvbHV0aXplOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50
ID0gJChlbGVtZW50KTsKICAgIGlmIChlbGVtZW50LnN0eWxlLnBvc2l0aW9uID09
ICdhYnNvbHV0ZScpIHJldHVybjsKICAgIFBvc2l0aW9uLnByZXBhcmUoKTsKCiAg
ICB2YXIgb2Zmc2V0cyA9IFBvc2l0aW9uLnBvc2l0aW9uZWRPZmZzZXQoZWxlbWVu
dCk7CiAgICB2YXIgdG9wICAgICA9IG9mZnNldHNbMV07CiAgICB2YXIgbGVmdCAg
ICA9IG9mZnNldHNbMF07CiAgICB2YXIgd2lkdGggICA9IGVsZW1lbnQuY2xpZW50
V2lkdGg7CiAgICB2YXIgaGVpZ2h0ICA9IGVsZW1lbnQuY2xpZW50SGVpZ2h0OwoK
ICAgIGVsZW1lbnQuX29yaWdpbmFsTGVmdCAgID0gbGVmdCAtIHBhcnNlRmxvYXQo
ZWxlbWVudC5zdHlsZS5sZWZ0ICB8fCAwKTsKICAgIGVsZW1lbnQuX29yaWdpbmFs
VG9wICAgID0gdG9wICAtIHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS50b3AgfHwg
MCk7CiAgICBlbGVtZW50Ll9vcmlnaW5hbFdpZHRoICA9IGVsZW1lbnQuc3R5bGUu
d2lkdGg7CiAgICBlbGVtZW50Ll9vcmlnaW5hbEhlaWdodCA9IGVsZW1lbnQuc3R5
bGUuaGVpZ2h0OwoKICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1
dGUnOwogICAgZWxlbWVudC5zdHlsZS50b3AgICAgPSB0b3AgKyAncHgnOzsKICAg
IGVsZW1lbnQuc3R5bGUubGVmdCAgID0gbGVmdCArICdweCc7OwogICAgZWxlbWVu
dC5zdHlsZS53aWR0aCAgPSB3aWR0aCArICdweCc7OwogICAgZWxlbWVudC5zdHls
ZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnOzsKICB9LAoKICByZWxhdGl2aXplOiBm
dW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAg
IGlmIChlbGVtZW50LnN0eWxlLnBvc2l0aW9uID09ICdyZWxhdGl2ZScpIHJldHVy
bjsKICAgIFBvc2l0aW9uLnByZXBhcmUoKTsKCiAgICBlbGVtZW50LnN0eWxlLnBv
c2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgIHZhciB0b3AgID0gcGFyc2VGbG9hdChl
bGVtZW50LnN0eWxlLnRvcCAgfHwgMCkgLSAoZWxlbWVudC5fb3JpZ2luYWxUb3Ag
fHwgMCk7CiAgICB2YXIgbGVmdCA9IHBhcnNlRmxvYXQoZWxlbWVudC5zdHlsZS5s
ZWZ0IHx8IDApIC0gKGVsZW1lbnQuX29yaWdpbmFsTGVmdCB8fCAwKTsKCiAgICBl
bGVtZW50LnN0eWxlLnRvcCAgICA9IHRvcCArICdweCc7CiAgICBlbGVtZW50LnN0
eWxlLmxlZnQgICA9IGxlZnQgKyAncHgnOwogICAgZWxlbWVudC5zdHlsZS5oZWln
aHQgPSBlbGVtZW50Ll9vcmlnaW5hbEhlaWdodDsKICAgIGVsZW1lbnQuc3R5bGUu
d2lkdGggID0gZWxlbWVudC5fb3JpZ2luYWxXaWR0aDsKICB9Cn0KCi8vIFNhZmFy
aSByZXR1cm5zIG1hcmdpbnMgb24gYm9keSB3aGljaCBpcyBpbmNvcnJlY3QgaWYg
dGhlIGNoaWxkIGlzIGFic29sdXRlbHkKLy8gcG9zaXRpb25lZC4gIEZvciBwZXJm
b3JtYW5jZSByZWFzb25zLCByZWRlZmluZSBQb3NpdGlvbi5jdW11bGF0aXZlT2Zm
c2V0IGZvcgovLyBLSFRNTC9XZWJLaXQgb25seS4KaWYgKC9Lb25xdWVyb3J8U2Fm
YXJpfEtIVE1MLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgUG9zaXRp
b24uY3VtdWxhdGl2ZU9mZnNldCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIHZh
ciB2YWx1ZVQgPSAwLCB2YWx1ZUwgPSAwOwogICAgZG8gewogICAgICB2YWx1ZVQg
Kz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVt
ZW50Lm9mZnNldExlZnQgfHwgMDsKICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFy
ZW50ID09IGRvY3VtZW50LmJvZHkpCiAgICAgICAgaWYgKEVsZW1lbnQuZ2V0U3R5
bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJykgPT0gJ2Fic29sdXRlJykgYnJlYWs7Cgog
ICAgICBlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7CiAgICB9IHdoaWxl
IChlbGVtZW50KTsKCiAgICByZXR1cm4gW3ZhbHVlTCwgdmFsdWVUXTsKICB9Cn0K
CkVsZW1lbnQuYWRkTWV0aG9kcygpOw==

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=prototype-extensions.js
Content-Type: application/x-javascript; charset=ISO-8859-1; name=prototype-extensions.js
Content-Location: http://www.garagegames.com/js/1501/prototype-extensions.js
Content-Transfer-Encoding: Base64

LyoKRXh0ZW5kZWRQZXJpb2RpY2FsRXhlY3V0ZXIKRGVzY3JpcHRpb246IE1vZGVs
ZWQgYWZ0ZXIgUHJvdG90eXBlJ3MgUGVyaW9kaWNhbEV4ZWN1dGVyCkxpY2Vuc2Vz
OgooYykgQ3JlYXRpdmUgQ29tbW9ucyAyMDA2Cmh0dHA6Ly9jcmVhdGl2ZWNvbW1v
bnMub3JnL2xpY2Vuc2VzL2J5LXNhLzIuNS8KCkZyZWUgdG8gdXNlIHdpdGggbXkg
cHJpb3IgcGVybWlzc2lvbgpBdXRob3I6IEtldmluIEhvYW5nIExlIHwgaHR0cDov
L3ByYWdtYXRpY29iamVjdHMub3JnCkRhdGU6IDIwMDYtMDktMTgKVmVyc2lvbiAw
LjAxIDogSW5pdGlhbCBwdWJsaWMgcmVsZWFzZQoqLwoKdmFyIFBlcmlvZGljYWxF
eGVjdXRlciA9IENsYXNzLmNyZWF0ZSgpOwoJUGVyaW9kaWNhbEV4ZWN1dGVyLnBy
b3RvdHlwZSA9IHsKCWlkOiAiIiwKCWludGVydmFsSUQ6IDAsCgoJLy9jb25zdHJ1
Y3RvcgoJaW5pdGlhbGl6ZTogZnVuY3Rpb24oY2FsbGJhY2ssIGZyZXF1ZW5jeV9t
cywgaWQpIHsKCQl0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7CgkJdGhpcy5mcmVx
dWVuY3kgPSBmcmVxdWVuY3lfbXM7CgkJdGhpcy5pZCA9IGlkOwoJCXRoaXMuY3Vy
cmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CgkJdGhpcy5zdGFydCgpOwoJfSwKCgkv
L3ByaXZhdGUKCW9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CgkJaWYgKCF0aGlz
LmN1cnJlbnRseUV4ZWN1dGluZykgewoJCQl0cnkgewoJCQl0aGlzLmN1cnJlbnRs
eUV4ZWN1dGluZyA9IHRydWU7CgkJCXRoaXMuY2FsbGJhY2soKTsKCQkJfSBmaW5h
bGx5IHsKCQkJdGhpcy5jdXJyZW50bHlFeGVjdXRpbmcgPSBmYWxzZTsKCQkJfQoJ
CX0KCX0sCgoJLy9wdWJsaWMgbWV0aG9kcwoJc3RhcnQ6IGZ1bmN0aW9uKCkgewoJ
CXRoaXMuaW50ZXJ2YWxJRCA9IHNldEludGVydmFsKHRoaXMub25UaW1lckV2ZW50
LmJpbmQodGhpcyksIHRoaXMuZnJlcXVlbmN5KTsKCX0sCglzdG9wOiBmdW5jdGlv
bigpIHsKCQljbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJRCk7Cgl9LAoJcGF1
c2U6IGZ1bmN0aW9uKCkgewoJCXRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gdHJ1
ZTsKCX0sCglyZXN1bWU6IGZ1bmN0aW9uKCkgewoJCXRoaXMuY3VycmVudGx5RXhl
Y3V0aW5nID0gZmFsc2U7Cgl9LAoJY2hhbmdlRnJlcXVlbmN5OiBmdW5jdGlvbihm
cmVxdWVuY3lfbXMpIHsKCQl0aGlzLnN0b3AoKTsKCQl0aGlzLmZyZXF1ZW5jeSA9
IGZyZXF1ZW5jeV9tczsKCQl0aGlzLnN0YXJ0KCk7Cgl9Cn0KCgpmdW5jdGlvbiAk
TihuYW1lKSB7CglyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUobmFt
ZSlbMF07Cn0K

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=site7.js
Content-Type: application/x-javascript; charset=ISO-8859-1; name=site7.js
Content-Location: http://www.garagegames.com/js/site7.js
Content-Transfer-Encoding: Base64

ZnVuY3Rpb24gYWRkRXZlbnQob2JqLCBldlR5cGUsIGZuKSB7CmlmIChvYmouYWRk
RXZlbnRMaXN0ZW5lcikgewpvYmouYWRkRXZlbnRMaXN0ZW5lcihldlR5cGUsIGZu
LCB0cnVlKTtyZXR1cm4gdHJ1ZTt9IGVsc2UgaWYgKG9iai5hdHRhY2hFdmVudCkg
ewp2YXIgciA9IG9iai5hdHRhY2hFdmVudCgib24iK2V2VHlwZSwgZm4pO3JldHVy
biByO30gZWxzZSB7CnJldHVybiBmYWxzZTt9Cn0KZnVuY3Rpb24gZ2V0X2Nvb2tp
ZShOYW1lKQp7CnZhciBzZWFyY2ggPSBOYW1lICsgIj0iCnZhciByZXR1cm52YWx1
ZSA9ICIiO2lmIChkb2N1bWVudC5jb29raWUubGVuZ3RoID4gMCkKewpvZmZzZXQg
PSBkb2N1bWVudC5jb29raWUuaW5kZXhPZihzZWFyY2gpCmlmIChvZmZzZXQgIT0g
LTEpCnsKb2Zmc2V0ICs9IHNlYXJjaC5sZW5ndGgKZW5kID0gZG9jdW1lbnQuY29v
a2llLmluZGV4T2YoIjsiLCBvZmZzZXQpO2lmIChlbmQgPT0gLTEpIGVuZCA9IGRv
Y3VtZW50LmNvb2tpZS5sZW5ndGg7cmV0dXJudmFsdWU9dW5lc2NhcGUoZG9jdW1l
bnQuY29va2llLnN1YnN0cmluZyhvZmZzZXQsIGVuZCkpCn0KfQpyZXR1cm4gcmV0
dXJudmFsdWU7fQpmdW5jdGlvbiBHZXRFbGVtZW50c1dpdGhDbGFzc05hbWUoZWxl
bWVudE5hbWUsY2xhc3NOYW1lKQp7CnZhciBhbGxFbGVtZW50cyA9IGRvY3VtZW50
LmdldEVsZW1lbnRzQnlUYWdOYW1lKGVsZW1lbnROYW1lKTt2YXIgZWxlbUNvbGwg
PSBuZXcgQXJyYXkoKTtmb3IgKGkgPSAwO2k8IGFsbEVsZW1lbnRzLmxlbmd0aDtp
KyspIHsKaWYgKGlzQ2xhc3MoYWxsRWxlbWVudHNbaV0sIGNsYXNzTmFtZSkpIHsK
ZWxlbUNvbGxbZWxlbUNvbGwubGVuZ3RoXSA9IGFsbEVsZW1lbnRzW2ldO30KfQpy
ZXR1cm4gZWxlbUNvbGw7fQpmdW5jdGlvbiBpc0NsYXNzKG9iamVjdCwgY2xhc3NO
YW1lKQp7CnJldHVybiAob2JqZWN0LmNsYXNzTmFtZS5zZWFyY2goJyhefFxccykn
ICsgY2xhc3NOYW1lICsgJyhcXHN8JCknKSAhPSAtMSk7fQpmdW5jdGlvbiBHZXRF
bGVtZW50c1dpdGhDbGFzc05hbWUoZWxlbWVudE5hbWUsY2xhc3NOYW1lKQp7CnZh
ciBhbGxFbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKGVs
ZW1lbnROYW1lKTt2YXIgZWxlbUNvbGwgPSBuZXcgQXJyYXkoKTtmb3IgKGkgPSAw
O2k8IGFsbEVsZW1lbnRzLmxlbmd0aDtpKyspIHsKaWYgKGlzQ2xhc3MoYWxsRWxl
bWVudHNbaV0sIGNsYXNzTmFtZSkpIHsKZWxlbUNvbGxbZWxlbUNvbGwubGVuZ3Ro
XSA9IGFsbEVsZW1lbnRzW2ldO30KfQpyZXR1cm4gZWxlbUNvbGw7fQpmdW5jdGlv
biBzZkhvdmVyKCkgewp2YXIgc2ZFbHMgPSAkJCgnI25hdiBsaScpO2ZvciAodmFy
IGk9MDtpPHNmRWxzLmxlbmd0aDtpKyspIHsKc2ZFbHNbaV0ub25tb3VzZW92ZXIg
PSBmdW5jdGlvbigpIHsKdGhpcy5jbGFzc05hbWUrPSIgc2Zob3ZlciI7fTtzZkVs
c1tpXS5vbm1vdXNlb3V0ID0gZnVuY3Rpb24oKSB7CnRoaXMuY2xhc3NOYW1lPXRo
aXMuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgiICpzZmhvdmVyIiksICIi
KTt9O30KfQpFdmVudC5vYnNlcnZlKHdpbmRvdywgJ2xvYWQnLCBzZkhvdmVyLCBm
YWxzZSk7ZnVuY3Rpb24gb3BlbklSQyh3LCBoKSB7CmlyY193ID0gdy04MDtpcmNf
aCA9IGgtMTQwO3RoaXMub3BlbigiL2hlbHAvaGVscC5waHA/cGFnZT1pcmNDaGF0
Jnc9IitpcmNfdysiJmg9IitpcmNfaCwgIklyY1dpbmRvdyIsICJ0b29sYmFyPW5v
LG1lbnViYXI9bm8sbG9jYXRpb249bm8sc2Nyb2xsYmFycz15ZXMscmVzaXphYmxl
PXllcyx3aWR0aD0iK3crIixoZWlnaHQ9IitoKTt9CmZ1bmN0aW9uIG9wZW5TbGlk
ZVNob3codXJsLCB3LCBoKSB7CnRoaXMub3Blbih1cmwsICJwaWNXaW5kb3ciLCAi
ZGVwZW5kZW50PXllcyx0b29sYmFyPXllcyxsb2NhdGlvbj15ZXMsc2Nyb2xsYmFy
cz15ZXMscmVzaXphYmxlPXllcyx3aWR0aD0iK3crIixoZWlnaHQ9IitoKTt9Ckhl
bHBXaW4gPSAtMTtmdW5jdGlvbiBvcGVuSGVscCh1cmwsIHcsIGgpIHsKSGVscFdp
biA9IHRoaXMub3Blbih1cmwsICJBbHRXaW5kb3ciLCAidG9vbGJhcj1ubyxtZW51
YmFyPW5vLGxvY2F0aW9uPW5vLHNjcm9sbGJhcnM9eWVzLHJlc2l6YWJsZT15ZXMs
d2lkdGg9Iit3KyIsaGVpZ2h0PSIraCk7aWYgKCFIZWxwV2luLm9wZW5lcikgSGVs
cFdpbi5vcGVuZXIgPSBzZWxmO30KZnVuY3Rpb24gY2xvc2VIZWxwKCkgewppZiAo
SGVscFdpbiAhPSAtMSAmJiBIZWxwV2luLm9wZW4pIEhlbHBXaW4uY2xvc2UoKTt9
ZnVuY3Rpb24gYWN0aXZhdGVMaW5rVGFiKG9iaikKewp2YXIgZ3JvdXAgPSAkJCgi
ZGl2LnRhYmdyb3VwIilbb2JqLmdldEF0dHJpYnV0ZSgnZ3JvdXAnKV07dmFyIHRh
YnMgPSBvYmoucGFyZW50Tm9kZS5maXJzdENoaWxkO3doaWxlICh0YWJzKQp7CnRh
YnMuY2xhc3NOYW1lID0gJ29mZic7dGFicyA9IHRhYnMubmV4dFNpYmxpbmc7fQpv
YmouY2xhc3NOYW1lID0gJ29uJztncm91cC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVk
Jywgb2JqLmdldEF0dHJpYnV0ZSgndGFiJykpO30KZnVuY3Rpb24gYWN0aXZhdGVP
dmVybGF5VGFiKG9iaikKewp2YXIgZ3JvdXAgPSAkJCgiZGl2LnRhYmdyb3VwIilb
b2JqLmdldEF0dHJpYnV0ZSgnZ3JvdXAnKV07dmFyIHRhYiA9IGdyb3VwLmdldEVs
ZW1lbnRzQnlUYWdOYW1lKCJESVYiKVtvYmouZ2V0QXR0cmlidXRlKCd0YWInKV07
dmFyIGRpdnMgPSBncm91cC5maXJzdENoaWxkO3doaWxlIChkaXZzKQp7CmlmIChk
aXZzLm5vZGVOYW1lID09ICJESVYiKQpkaXZzLnN0eWxlLmRpc3BsYXkgPSAnbm9u
ZSc7ZGl2cyA9IGRpdnMubmV4dFNpYmxpbmc7fQp0YWIuc3R5bGUuZGlzcGxheSA9
ICdibG9jayc7dmFyIHRhYnMgPSBvYmoucGFyZW50Tm9kZS5maXJzdENoaWxkO3do
aWxlICh0YWJzKQp7CnRhYnMuY2xhc3NOYW1lID0gJ29mZic7dGFicyA9IHRhYnMu
bmV4dFNpYmxpbmc7fQpvYmouY2xhc3NOYW1lID0gJ29uJztncm91cC5zZXRBdHRy
aWJ1dGUoJ3NlbGVjdGVkJywgb2JqLmdldEF0dHJpYnV0ZSgndGFiJykpO30KZnVu
Y3Rpb24gcHJvY2Vzc1RhYkdyb3VwcygpCnsKcmVzdG9yZVRhYlN0YXRlKCk7dmFy
IGdyb3VwID0gJCQoImRpdi50YWJncm91cCIpO2Zvcih2YXIgaT0wO2kgPCBncm91
cC5sZW5ndGg7aSsrKQp7CnZhciB1bCA9IGdyb3VwW2ldLmZpcnN0Q2hpbGQ7d2hp
bGUgKHVsICYmIHVsLm5vZGVOYW1lICE9ICJVTCIpCnVsID0gdWwubmV4dFNpYmxp
bmc7aWYgKHVsKQp7CnZhciBzZWxlY3RlZCA9IGdyb3VwW2ldLmdldEF0dHJpYnV0
ZSgnc2VsZWN0ZWQnKSA/IGdyb3VwW2ldLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQn
KSA6IDA7dmFyIHR5cGUgICAgID0gZ3JvdXBbaV0uZ2V0QXR0cmlidXRlKCd0eXBl
JykgPyBncm91cFtpXS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA6ICdvdmVybGF5Jzt2
YXIgdGFiID0gMDtmb3IodmFyIGo9MDtqIDwgdWwuY2hpbGROb2Rlcy5sZW5ndGg7
aisrKQp7CmlmICh1bC5jaGlsZE5vZGVzW2pdLm5vZGVOYW1lID09ICJMSSIpCnsK
dWwuY2hpbGROb2Rlc1tqXS5zZXRBdHRyaWJ1dGUoJ2dyb3VwJywgaSk7dWwuY2hp
bGROb2Rlc1tqXS5zZXRBdHRyaWJ1dGUoJ3RhYicsIHRhYik7aWYgKHR5cGUgPT0g
Im92ZXJsYXkiKQp1bC5jaGlsZE5vZGVzW2pdLm9uY2xpY2sgPSBmdW5jdGlvbigp
IHsgYWN0aXZhdGVPdmVybGF5VGFiKHRoaXMpIH07ZWxzZQp1bC5jaGlsZE5vZGVz
W2pdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsgYWN0aXZhdGVMaW5rVGFiKHRoaXMp
IH07dWwuY2hpbGROb2Rlc1tqXS5vbm1vdXNlb3ZlciA9IGZ1bmN0aW9uKCkgewp0
aGlzLmNsYXNzTmFtZSs9IiBvdmVyIjt9O3VsLmNoaWxkTm9kZXNbal0ub25tb3Vz
ZW91dCA9IGZ1bmN0aW9uKCkgewp0aGlzLmNsYXNzTmFtZT10aGlzLmNsYXNzTmFt
ZS5yZXBsYWNlKG5ldyBSZWdFeHAoIiAqb3ZlciIpLCAiIik7fTtpZiAodGFiID09
IHNlbGVjdGVkKQp7CmlmICh0eXBlID09ICJvdmVybGF5IikKYWN0aXZhdGVPdmVy
bGF5VGFiKHVsLmNoaWxkTm9kZXNbal0pO2Vsc2UKYWN0aXZhdGVMaW5rVGFiKHVs
LmNoaWxkTm9kZXNbal0pO30KdGFiKys7fQp9Cn0KfQp9CmZ1bmN0aW9uIHNhdmVU
YWJTdGF0ZSgpCnsKdmFyIGRhdGEgPSBuZXcgQXJyYXk7dmFyIGdyb3VwID0gJCQo
ImRpdi50YWJncm91cCIpO3ZhciBzYXZlID0gZmFsc2U7Zm9yKHZhciBpPTA7aSA8
IGdyb3VwLmxlbmd0aDtpKyspCnsKc2F2ZSB8PSAoZ3JvdXBbaV0uZ2V0QXR0cmli
dXRlKCd0eXBlJykgPT0gJ292ZXJsYXknKTtkYXRhW2ldID0gZ3JvdXBbaV0uZ2V0
QXR0cmlidXRlKCdzZWxlY3RlZCcpO30KaWYgKHNhdmUpCnsKdmFyIGNvb2tpZW5h
bWU9d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO2RvY3VtZW50LmNvb2tpZT1jb29r
aWVuYW1lKyI9IitkYXRhLmpvaW4oKTt9Cn0KZnVuY3Rpb24gcmVzdG9yZVRhYlN0
YXRlKCkKewp2YXIgbG9jID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIr
d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lK3dpbmRvdy5sb2NhdGlvbi5wYXRobmFt
ZTt2YXIgc3RhdGUgPSBnZXRfY29va2llKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFt
ZSk7c3RhdGUgPSBzdGF0ZS5zcGxpdCgiLCIpO3ZhciBncm91cCA9ICQkKCJkaXYu
dGFiZ3JvdXAiKTtmb3IodmFyIGk9MDtpIDwgZ3JvdXAubGVuZ3RoO2krKykKewpp
ZiAoZ3JvdXBbaV0uZ2V0QXR0cmlidXRlKCd0eXBlJykgPT0gJ292ZXJsYXknKQp7
CmlmIChzdGF0ZVtpXSkKZ3JvdXBbaV0uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcs
IHN0YXRlW2ldKTtlbHNlCmdyb3VwW2ldLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQn
LCAwKTt9CmVsc2UKewp2YXIgdWwgPSBncm91cFtpXS5nZXRFbGVtZW50c0J5VGFn
TmFtZSgiVUwiKVswXTt2YXIgbGkgPSB1bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgi
TEkiKTtncm91cFtpXS5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgMCk7Zm9yKHZh
ciBqPTA7aiA8IGxpLmxlbmd0aDtqKyspCnsKdmFyIGEgPSBsaVtqXS5nZXRFbGVt
ZW50c0J5VGFnTmFtZSgiQSIpWzBdO3ZhciBwYXRobmFtZSA9IChhLnBhdGhuYW1l
LmNoYXJBdCgwKSAhPSAiLyIpID8gJy8nK2EucGF0aG5hbWUgOiBhLnBhdGhuYW1l
O2lmIChwYXRobmFtZSA9PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpCnsKZ3Jv
dXBbaV0uc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsIGopO30KfQp9Cn0KfQpFdmVu
dC5vYnNlcnZlKHdpbmRvdywgImxvYWQiLCBwcm9jZXNzVGFiR3JvdXBzLCB0cnVl
KTtFdmVudC5vYnNlcnZlKHdpbmRvdywgInVubG9hZCIsIHNhdmVUYWJTdGF0ZSwg
dHJ1ZSk7

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=urchin.js
Content-Type: text/javascript; name=urchin.js
Content-Location: http://www.google-analytics.com/urchin.js
Content-Transfer-Encoding: 8bit

//-- Google Analytics Urchin Module
//-- Copyright 2007 Google, All Rights Reserved.

//-- Urchin On Demand Settings ONLY
var _uacct="";			// set up the Urchin Account
var _userv=1;			// service mode (0=local,1=remote,2=both)

//-- UTM User Settings
var _ufsc=1;			// set client info flag (1=on|0=off)
var _udn="auto";		// (auto|none|domain) set the domain name for cookies
var _uhash="on";		// (on|off) unique domain hash for cookies
var _utimeout="1800";   	// set the inactive session timeout in seconds
var _ugifpath="/__utm.gif";	// set the web path to the __utm.gif file
var _utsp="|";			// transaction field separator
var _uflash=1;			// set flash version detect option (1=on|0=off)
var _utitle=1;			// set the document title detect option (1=on|0=off)
var _ulink=0;			// enable linker functionality (1=on|0=off)
var _uanchor=0;			// enable use of anchors for campaign (1=on|0=off)
var _utcp="/";			// the cookie path for tracking
var _usample=100;		// The sampling % of visitors to track (1-100).

//-- UTM Campaign Tracking Settings
var _uctm=1;			// set campaign tracking module (1=on|0=off)
var _ucto="15768000";		// set timeout in seconds (6 month default)
var _uccn="utm_campaign";	// name
var _ucmd="utm_medium";		// medium (cpc|cpm|link|email|organic)
var _ucsr="utm_source";		// source
var _uctr="utm_term";		// term/keyword
var _ucct="utm_content";	// content
var _ucid="utm_id";		// id number
var _ucno="utm_nooverride";	// don't override

//-- Auto/Organic Sources and Keywords
var _uOsr=new Array();
var _uOkw=new Array();
_uOsr[0]="google";	_uOkw[0]="q";
_uOsr[1]="yahoo";	_uOkw[1]="p";
_uOsr[2]="msn";		_uOkw[2]="q";
_uOsr[3]="aol";		_uOkw[3]="query";
_uOsr[4]="aol";		_uOkw[4]="encquery";
_uOsr[5]="lycos";	_uOkw[5]="query";
_uOsr[6]="ask";		_uOkw[6]="q";
_uOsr[7]="altavista";	_uOkw[7]="q";
_uOsr[8]="netscape";	_uOkw[8]="query";
_uOsr[9]="cnn";	_uOkw[9]="query";
_uOsr[10]="looksmart";	_uOkw[10]="qt";
_uOsr[11]="about";	_uOkw[11]="terms";
_uOsr[12]="mamma";	_uOkw[12]="query";
_uOsr[13]="alltheweb";	_uOkw[13]="q";
_uOsr[14]="gigablast";	_uOkw[14]="q";
_uOsr[15]="voila";	_uOkw[15]="rdata";
_uOsr[16]="virgilio";	_uOkw[16]="qs";
_uOsr[17]="live";	_uOkw[17]="q";
_uOsr[18]="baidu";	_uOkw[18]="wd";
_uOsr[19]="alice";	_uOkw[19]="qs";
_uOsr[20]="yandex";	_uOkw[20]="text";
_uOsr[21]="najdi";	_uOkw[21]="q";
_uOsr[22]="aol";	_uOkw[22]="q";
_uOsr[23]="club-internet"; _uOkw[23]="query";
_uOsr[24]="mama";	_uOkw[24]="query";
_uOsr[25]="seznam";	_uOkw[25]="q";
_uOsr[26]="search";	_uOkw[26]="q";
_uOsr[27]="wp";	_uOkw[27]="szukaj";
_uOsr[28]="onet";	_uOkw[28]="qt";
_uOsr[29]="netsprint";	_uOkw[29]="q";
_uOsr[30]="google.interia";	_uOkw[30]="q";
_uOsr[31]="szukacz";	_uOkw[31]="q";
_uOsr[32]="yam";	_uOkw[32]="k";
_uOsr[33]="pchome";	_uOkw[33]="q";
_uOsr[34]="kvasir";	_uOkw[34]="searchExpr";
_uOsr[35]="sesam";	_uOkw[35]="q";
_uOsr[36]="ozu"; _uOkw[36]="q";
_uOsr[37]="terra"; _uOkw[37]="query";
_uOsr[38]="nostrum"; _uOkw[38]="query";
_uOsr[39]="mynet"; _uOkw[39]="q";
_uOsr[40]="ekolay"; _uOkw[40]="q";
_uOsr[41]="search.ilse"; _uOkw[41]="search_for";

//-- Auto/Organic Keywords to Ignore
var _uOno=new Array();
//_uOno[0]="urchin";
//_uOno[1]="urchin.com";
//_uOno[2]="www.urchin.com";

//-- Referral domains to Ignore
var _uRno=new Array();
//_uRno[0]=".urchin.com";

//-- **** Don't modify below this point ***
var _uff,_udh,_udt,_ubl=0,_udo="",_uu,_ufns=0,_uns=0,_ur="-",_ufno=0,_ust=0,_ubd=document,_udl=_ubd.location,_udlh="",_uwv="1.3";
var _ugifpath2="http://www.google-analytics.com/__utm.gif";
if (_udl.hash) _udlh=_udl.href.substring(_udl.href.indexOf('#'));
if (_udl.protocol=="https:") _ugifpath2="https://ssl.google-analytics.com/__utm.gif";
if (!_utcp || _utcp=="") _utcp="/";
function urchinTracker(page) {
 if (_udl.protocol=="file:") return;
 if (_uff && (!page || page=="")) return;
 var a,b,c,xx,v,z,k,x="",s="",f=0,nv=0;
 var nx=" expires="+_uNx()+";";
 var dc=_ubd.cookie;
 _udh=_uDomain();
 if (!_uVG()) return;
 _uu=Math.round(Math.random()*2147483647);
 _udt=new Date();
 _ust=Math.round(_udt.getTime()/1000);
 a=dc.indexOf("__utma="+_udh+".");
 b=dc.indexOf("__utmb="+_udh);
 c=dc.indexOf("__utmc="+_udh);
 if (_udn && _udn!="") { _udo=" domain="+_udn+";"; }
 if (_utimeout && _utimeout!="") {
  x=new Date(_udt.getTime()+(_utimeout*1000));
  x=" expires="+x.toGMTString()+";";
 }
 if (_ulink) {
  if (_uanchor && _udlh && _udlh!="") s=_udlh+"&";
  s+=_udl.search;
  if(s && s!="" && s.indexOf("__utma=")>=0) {
   if (!(_uIN(a=_uGC(s,"__utma=","&")))) a="-";
   if (!(_uIN(b=_uGC(s,"__utmb=","&")))) b="-";
   if (!(_uIN(c=_uGC(s,"__utmc=","&")))) c="-";
   v=_uGC(s,"__utmv=","&");
   z=_uGC(s,"__utmz=","&");
   k=_uGC(s,"__utmk=","&");
   xx=_uGC(s,"__utmx=","&");
   if ((k*1) != ((_uHash(a+b+c+xx+z+v)*1)+(_udh*1))) {_ubl=1;a="-";b="-";c="-";xx="-";z="-";v="-";}
   if (a!="-" && b!="-" && c!="-") f=1;
   else if(a!="-") f=2;
  }
 }
 if(f==1) {
  _ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;
  _ubd.cookie="__utmb="+b+"; path="+_utcp+";"+x+_udo;
  _ubd.cookie="__utmc="+c+"; path="+_utcp+";"+_udo;
 } else if (f==2) {
  a=_uFixA(s,"&",_ust);
  _ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;
  _ubd.cookie="__utmb="+_udh+"; path="+_utcp+";"+x+_udo;
  _ubd.cookie="__utmc="+_udh+"; path="+_utcp+";"+_udo;
  _ufns=1;
 } else if (a>=0 && b>=0 && c>=0) {
   b = _uGC(dc,"__utmb="+_udh,";");
   b = ("-" == b) ? _udh : b;  
  _ubd.cookie="__utmb="+b+"; path="+_utcp+";"+x+_udo;
 } else {
  if (a>=0) a=_uFixA(_ubd.cookie,";",_ust);
  else {
   a=_udh+"."+_uu+"."+_ust+"."+_ust+"."+_ust+".1";
   nv=1;
  }
  _ubd.cookie="__utma="+a+"; path="+_utcp+";"+nx+_udo;
  _ubd.cookie="__utmb="+_udh+"; path="+_utcp+";"+x+_udo;
  _ubd.cookie="__utmc="+_udh+"; path="+_utcp+";"+_udo;
  _ufns=1;
 }
 if (_ulink && xx && xx!="" && xx!="-") {
   xx=_uUES(xx);
   if (xx.indexOf(";")==-1) _ubd.cookie="__utmx="+xx+"; path="+_utcp+";"+nx+_udo;
 }
 if (_ulink && v && v!="" && v!="-") {
  v=_uUES(v);
  if (v.indexOf(";")==-1) _ubd.cookie="__utmv="+v+"; path="+_utcp+";"+nx+_udo;
 }
 var wc=window;
 var c=_ubd.cookie;
 if(wc && wc.gaGlobal && wc.gaGlobal.dh==_udh){
  var g=wc.gaGlobal;
  var ua=c.split("__utma="+_udh+".")[1].split(";")[0].split(".");
  if(g.sid)ua[3]=g.sid;
  if(nv>0){
   ua[2]=ua[3];
   if(g.vid){
    var v=g.vid.split(".");
    ua[0]=v[0];
    ua[1]=v[1];
   }
  }
  _ubd.cookie="__utma="+_udh+"."+ua.join(".")+"; path="+_utcp+";"+nx+_udo;
 }
 _uInfo(page);
 _ufns=0;
 _ufno=0;
 if (!page || page=="") _uff=1;
}
function _uGH() {
 var hid;
 var wc=window;
 if (wc && wc.gaGlobal && wc.gaGlobal.hid) {
  hid=wc.gaGlobal.hid;
 } else {
  hid=Math.round(Math.random()*0x7fffffff);
  if (!wc.gaGlobal) wc.gaGlobal={};
  wc.gaGlobal.hid=hid;
 }
 return hid;
}
function _uInfo(page) {
 var p,s="",dm="",pg=_udl.pathname+_udl.search;
 if (page && page!="") pg=_uES(page,1);
 _ur=_ubd.referrer;
 if (!_ur || _ur=="") { _ur="-"; }
 else {
  dm=_ubd.domain;
  if(_utcp && _utcp!="/") dm+=_utcp;
  p=_ur.indexOf(dm);
  if ((p>=0) && (p<=8)) { _ur="0"; }
  if (_ur.indexOf("[")==0 && _ur.lastIndexOf("]")==(_ur.length-1)) { _ur="-"; }
 }
 s+="&utmn="+_uu;
 if (_ufsc) s+=_uBInfo();
 if (_uctm) s+=_uCInfo();
 if (_utitle && _ubd.title && _ubd.title!="") s+="&utmdt="+_uES(_ubd.title);
 if (_udl.hostname && _udl.hostname!="") s+="&utmhn="+_uES(_udl.hostname);
 if (_usample && _usample != 100) s+="&utmsp="+_uES(_usample);
 s+="&utmhid="+_uGH();
 s+="&utmr="+_ur;
 s+="&utmp="+pg;
 if ((_userv==0 || _userv==2) && _uSP()) {
  var i=new Image(1,1);
  i.src=_ugifpath+"?"+"utmwv="+_uwv+s;
  i.onload=function() { _uVoid(); }
 }
 if ((_userv==1 || _userv==2) && _uSP()) {
  var i2=new Image(1,1);
  i2.src=_ugifpath2+"?"+"utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+_uGCS();
  i2.onload=function() { _uVoid(); }
 }
 return;
}
function _uVoid() { return; }
function _uCInfo() {
 if (!_ucto || _ucto=="") { _ucto="15768000"; }
 if (!_uVG()) return;
 var c="",t="-",t2="-",t3="-",o=0,cs=0,cn=0,i=0,z="-",s="";
 if (_uanchor && _udlh && _udlh!="") s=_udlh+"&";
 s+=_udl.search;
 var x=new Date(_udt.getTime()+(_ucto*1000));
 var dc=_ubd.cookie;
 x=" expires="+x.toGMTString()+";";
 if (_ulink && !_ubl) {
  z=_uUES(_uGC(s,"__utmz=","&"));
  if (z!="-" && z.indexOf(";")==-1) { _ubd.cookie="__utmz="+z+"; path="+_utcp+";"+x+_udo; return ""; }
 }
 z=dc.indexOf("__utmz="+_udh+".");
 if (z>-1) { z=_uGC(dc,"__utmz="+_udh+".",";"); }
 else { z="-"; }
 t=_uGC(s,_ucid+"=","&");
 t2=_uGC(s,_ucsr+"=","&");
 t3=_uGC(s,"gclid=","&");
 if ((t!="-" && t!="") || (t2!="-" && t2!="") || (t3!="-" && t3!="")) {
  if (t!="-" && t!="") c+="utmcid="+_uEC(t);
  if (t2!="-" && t2!="") { if (c != "") c+="|"; c+="utmcsr="+_uEC(t2); }
  if (t3!="-" && t3!="") { if (c != "") c+="|"; c+="utmgclid="+_uEC(t3); }
  t=_uGC(s,_uccn+"=","&");
  if (t!="-" && t!="") c+="|utmccn="+_uEC(t);
  else c+="|utmccn=(not+set)";
  t=_uGC(s,_ucmd+"=","&");
  if (t!="-" && t!="") c+="|utmcmd="+_uEC(t);
  else  c+="|utmcmd=(not+set)";
  t=_uGC(s,_uctr+"=","&");
  if (t!="-" && t!="") c+="|utmctr="+_uEC(t);
  else { t=_uOrg(1); if (t!="-" && t!="") c+="|utmctr="+_uEC(t); }
  t=_uGC(s,_ucct+"=","&");
  if (t!="-" && t!="") c+="|utmcct="+_uEC(t);
  t=_uGC(s,_ucno+"=","&");
  if (t=="1") o=1;
  if (z!="-" && o==1) return "";
 }
 if (c=="-" || c=="") { c=_uOrg(); if (z!="-" && _ufno==1)  return ""; }
 if (c=="-" || c=="") { if (_ufns==1)  c=_uRef(); if (z!="-" && _ufno==1)  return ""; }
 if (c=="-" || c=="") {
  if (z=="-" && _ufns==1) { c="utmccn=(direct)|utmcsr=(direct)|utmcmd=(none)"; }
  if (c=="-" || c=="") return "";
 }
 if (z!="-") {
  i=z.indexOf(".");
  if (i>-1) i=z.indexOf(".",i+1);
  if (i>-1) i=z.indexOf(".",i+1);
  if (i>-1) i=z.indexOf(".",i+1);
  t=z.substring(i+1,z.length);
  if (t.toLowerCase()==c.toLowerCase()) cs=1;
  t=z.substring(0,i);
  if ((i=t.lastIndexOf(".")) > -1) {
   t=t.substring(i+1,t.length);
   cn=(t*1);
  }
 }
 if (cs==0 || _ufns==1) {
  t=_uGC(dc,"__utma="+_udh+".",";");
  if ((i=t.lastIndexOf(".")) > 9) {
   _uns=t.substring(i+1,t.length);
   _uns=(_uns*1);
  }
  cn++;
  if (_uns==0) _uns=1;
  _ubd.cookie="__utmz="+_udh+"."+_ust+"."+_uns+"."+cn+"."+c+"; path="+_utcp+"; "+x+_udo;
 }
 if (cs==0 || _ufns==1) return "&utmcn=1";
 else return "&utmcr=1";
}
function _uRef() {
 if (_ur=="0" || _ur=="" || _ur=="-") return "";
 var i=0,h,k,n;
 if ((i=_ur.indexOf("://"))<0 || _uGCse()) return "";
 h=_ur.substring(i+3,_ur.length);
 if (h.indexOf("/") > -1) {
  k=h.substring(h.indexOf("/"),h.length);
  if (k.indexOf("?") > -1) k=k.substring(0,k.indexOf("?"));
  h=h.substring(0,h.indexOf("/"));
 }
 h=h.toLowerCase();
 n=h;
 if ((i=n.indexOf(":")) > -1) n=n.substring(0,i);
 for (var ii=0;ii<_uRno.length;ii++) {
  if ((i=n.indexOf(_uRno[ii].toLowerCase())) > -1 && n.length==(i+_uRno[ii].length)) { _ufno=1; break; }
 }
 if (h.indexOf("www.")==0) h=h.substring(4,h.length);
 return "utmccn=(referral)|utmcsr="+_uEC(h)+"|"+"utmcct="+_uEC(k)+"|utmcmd=referral";
}
function _uOrg(t) {
 if (_ur=="0" || _ur=="" || _ur=="-") return "";
 var i=0,h,k;
 if ((i=_ur.indexOf("://"))<0 || _uGCse()) return "";
 h=_ur.substring(i+3,_ur.length);
 if (h.indexOf("/") > -1) {
  h=h.substring(0,h.indexOf("/"));
 }
 for (var ii=0;ii<_uOsr.length;ii++) {
  if (h.toLowerCase().indexOf(_uOsr[ii].toLowerCase()) > -1) {
   if ((i=_ur.indexOf("?"+_uOkw[ii]+"=")) > -1 || (i=_ur.indexOf("&"+_uOkw[ii]+"=")) > -1) {
    k=_ur.substring(i+_uOkw[ii].length+2,_ur.length);
    if ((i=k.indexOf("&")) > -1) k=k.substring(0,i);
    for (var yy=0;yy<_uOno.length;yy++) {
     if (_uOno[yy].toLowerCase()==k.toLowerCase()) { _ufno=1; break; }
    }
    if (t) return _uEC(k);
    else return "utmccn=(organic)|utmcsr="+_uEC(_uOsr[ii])+"|"+"utmctr="+_uEC(k)+"|utmcmd=organic";
   }
  }
 }
 return "";
}
function _uGCse() {
 var h,p;
 h=p=_ur.split("://")[1];
 if(h.indexOf("/")>-1) {
  h=h.split("/")[0];
  p=p.substring(p.indexOf("/")+1,p.length);
 }
 if(p.indexOf("?")>-1) {
  p=p.split("?")[0];
 }
 if(h.toLowerCase().indexOf("google")>-1) {
  if(_ur.indexOf("?q=")>-1 || _ur.indexOf("&q=")>-1) {
   if (p.toLowerCase().indexOf("cse")>-1) {
    return true;
   }
  }
 }
}
function _uBInfo() {
 var sr="-",sc="-",ul="-",fl="-",cs="-",je=1;
 var n=navigator;
 if (self.screen) {
  sr=screen.width+"x"+screen.height;
  sc=screen.colorDepth+"-bit";
 } else if (self.java) {
  var j=java.awt.Toolkit.getDefaultToolkit();
  var s=j.getScreenSize();
  sr=s.width+"x"+s.height;
 }
 if (n.language) { ul=n.language.toLowerCase(); }
 else if (n.browserLanguage) { ul=n.browserLanguage.toLowerCase(); }
 je=n.javaEnabled()?1:0;
 if (_uflash) fl=_uFlash();
 if (_ubd.characterSet) cs=_uES(_ubd.characterSet);
 else if (_ubd.charset) cs=_uES(_ubd.charset);
 return "&utmcs="+cs+"&utmsr="+sr+"&utmsc="+sc+"&utmul="+ul+"&utmje="+je+"&utmfl="+fl;
}
function __utmSetTrans() {
 var e;
 if (_ubd.getElementById) e=_ubd.getElementById("utmtrans");
 else if (_ubd.utmform && _ubd.utmform.utmtrans) e=_ubd.utmform.utmtrans;
 if (!e) return;
 var l=e.value.split("UTM:");
 var i,i2,c;
 if (_userv==0 || _userv==2) i=new Array();
 if (_userv==1 || _userv==2) { i2=new Array(); c=_uGCS(); }

 for (var ii=0;ii<l.length;ii++) {
  l[ii]=_uTrim(l[ii]);
  if (l[ii].charAt(0)!='T' && l[ii].charAt(0)!='I') continue;
  var r=Math.round(Math.random()*2147483647);
  if (!_utsp || _utsp=="") _utsp="|";
  var f=l[ii].split(_utsp),s="";
  if (f[0].charAt(0)=='T') {
   s="&utmt=tran"+"&utmn="+r;
   f[1]=_uTrim(f[1]); if(f[1]&&f[1]!="") s+="&utmtid="+_uES(f[1]);
   f[2]=_uTrim(f[2]); if(f[2]&&f[2]!="") s+="&utmtst="+_uES(f[2]);
   f[3]=_uTrim(f[3]); if(f[3]&&f[3]!="") s+="&utmtto="+_uES(f[3]);
   f[4]=_uTrim(f[4]); if(f[4]&&f[4]!="") s+="&utmttx="+_uES(f[4]);
   f[5]=_uTrim(f[5]); if(f[5]&&f[5]!="") s+="&utmtsp="+_uES(f[5]);
   f[6]=_uTrim(f[6]); if(f[6]&&f[6]!="") s+="&utmtci="+_uES(f[6]);
   f[7]=_uTrim(f[7]); if(f[7]&&f[7]!="") s+="&utmtrg="+_uES(f[7]);
   f[8]=_uTrim(f[8]); if(f[8]&&f[8]!="") s+="&utmtco="+_uES(f[8]);
  } else {
   s="&utmt=item"+"&utmn="+r;
   f[1]=_uTrim(f[1]); if(f[1]&&f[1]!="") s+="&utmtid="+_uES(f[1]);
   f[2]=_uTrim(f[2]); if(f[2]&&f[2]!="") s+="&utmipc="+_uES(f[2]);
   f[3]=_uTrim(f[3]); if(f[3]&&f[3]!="") s+="&utmipn="+_uES(f[3]);
   f[4]=_uTrim(f[4]); if(f[4]&&f[4]!="") s+="&utmiva="+_uES(f[4]);
   f[5]=_uTrim(f[5]); if(f[5]&&f[5]!="") s+="&utmipr="+_uES(f[5]);
   f[6]=_uTrim(f[6]); if(f[6]&&f[6]!="") s+="&utmiqt="+_uES(f[6]);
  }
  if (_udl.hostname && _udl.hostname!="") s+="&utmhn="+_uES(_udl.hostname);
  if (_usample && _usample != 100) s+="&utmsp="+_uES(_usample);

  if ((_userv==0 || _userv==2) && _uSP()) {
   i[ii]=new Image(1,1);
   i[ii].src=_ugifpath+"?"+"utmwv="+_uwv+s;
   i[ii].onload=function() { _uVoid(); }
  }
  if ((_userv==1 || _userv==2) && _uSP()) {
   i2[ii]=new Image(1,1);
   i2[ii].src=_ugifpath2+"?"+"utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+c;
   i2[ii].onload=function() { _uVoid(); }
  }
 }
 return;
}
function _uFlash() {
 var f="-",n=navigator;
 if (n.plugins && n.plugins.length) {
  for (var ii=0;ii<n.plugins.length;ii++) {
   if (n.plugins[ii].name.indexOf('Shockwave Flash')!=-1) {
    f=n.plugins[ii].description.split('Shockwave Flash ')[1];
    break;
   }
  }
 } else {
  var fl;
  try {
   fl = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");
   f = fl.GetVariable("$version");
  } catch(e) {}
  if (f == "-") {
   try {
    fl = new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");
    f = "WIN 6,0,21,0";
    fl.AllowScriptAccess = "always";
    f = fl.GetVariable("$version");
   } catch(e) {}
  }
  if (f == "-") {
   try {
    fl = new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
    f = fl.GetVariable("$version");
   } catch(e) {}
  }
  if (f != "-") {
   f = f.split(" ")[1].split(",");
   f = f[0] + "." + f[1] + " r" + f[2];
  }
 }
 return f;
}
function __utmLinkerUrl(l,h) {
 var p,k,a="-",b="-",c="-",x="-",z="-",v="-";
 var dc=_ubd.cookie;
 var iq = l.indexOf("?");
 var ih = l.indexOf("#");
 var url=l;
 if (dc) {
  a=_uES(_uGC(dc,"__utma="+_udh+".",";"));
  b=_uES(_uGC(dc,"__utmb="+_udh,";"));
  c=_uES(_uGC(dc,"__utmc="+_udh,";"));
  x=_uES(_uGC(dc,"__utmx="+_udh,";"));
  z=_uES(_uGC(dc,"__utmz="+_udh+".",";"));
  v=_uES(_uGC(dc,"__utmv="+_udh+".",";"));
  k=(_uHash(a+b+c+x+z+v)*1)+(_udh*1);
  p="__utma="+a+"&__utmb="+b+"&__utmc="+c+"&__utmx="+x+"&__utmz="+z+"&__utmv="+v+"&__utmk="+k;
 }
 if (p) {
  if (h && ih>-1) return;
  if (h) { url=l+"#"+p; }
  else {
   if (iq==-1 && ih==-1) url=l+"?"+p;
   else if (ih==-1) url=l+"&"+p;
   else if (iq==-1) url=l.substring(0,ih-1)+"?"+p+l.substring(ih);
   else url=l.substring(0,ih-1)+"&"+p+l.substring(ih);
  }
 }
 return url;
}
function __utmLinker(l,h) {
 if (!_ulink || !l || l=="") return;
 _udl.href=__utmLinkerUrl(l,h);
}
function __utmLinkPost(f,h) {
 if (!_ulink || !f || !f.action) return;
 f.action=__utmLinkerUrl(f.action, h);
 return;
}
function __utmSetVar(v) {
 if (!v || v=="") return;
 if (!_udo || _udo == "") {
  _udh=_uDomain();
  if (_udn && _udn!="") { _udo=" domain="+_udn+";"; }
 }
 if (!_uVG()) return;
 var r=Math.round(Math.random() * 2147483647);
 _ubd.cookie="__utmv="+_udh+"."+_uES(v)+"; path="+_utcp+"; expires="+_uNx()+";"+_udo;
 var s="&utmt=var&utmn="+r;
 if (_usample && _usample != 100) s+="&utmsp="+_uES(_usample);
 if ((_userv==0 || _userv==2) && _uSP()) {
  var i=new Image(1,1);
  i.src=_ugifpath+"?"+"utmwv="+_uwv+s;
  i.onload=function() { _uVoid(); }
 }
 if ((_userv==1 || _userv==2) && _uSP()) {
  var i2=new Image(1,1);
  i2.src=_ugifpath2+"?"+"utmwv="+_uwv+s+"&utmac="+_uacct+"&utmcc="+_uGCS();
  i2.onload=function() { _uVoid(); }
 }
}
function _uGCS() {
 var t,c="",dc=_ubd.cookie;
 if ((t=_uGC(dc,"__utma="+_udh+".",";"))!="-") c+=_uES("__utma="+t+";+");
 if ((t=_uGC(dc,"__utmx="+_udh,";"))!="-") c+=_uES("__utmx="+t+";+");
 if ((t=_uGC(dc,"__utmz="+_udh+".",";"))!="-") c+=_uES("__utmz="+t+";+");
 if ((t=_uGC(dc,"__utmv="+_udh+".",";"))!="-") c+=_uES("__utmv="+t+";");
 if (c.charAt(c.length-1)=="+") c=c.substring(0,c.length-1);
 return c;
}
function _uGC(l,n,s) {
 if (!l || l=="" || !n || n=="" || !s || s=="") return "-";
 var i,i2,i3,c="-";
 i=l.indexOf(n);
 i3=n.indexOf("=")+1;
 if (i > -1) {
  i2=l.indexOf(s,i); if (i2 < 0) { i2=l.length; }
  c=l.substring((i+i3),i2);
 }
 return c;
}
function _uDomain() {
 if (!_udn || _udn=="" || _udn=="none") { _udn=""; return 1; }
 if (_udn=="auto") {
  var d=_ubd.domain;
  if (d.substring(0,4)=="www.") {
   d=d.substring(4,d.length);
  }
  _udn=d;
 }
 _udn = _udn.toLowerCase(); 
 if (_uhash=="off") return 1;
 return _uHash(_udn);
}
function _uHash(d) {
 if (!d || d=="") return 1;
 var h=0,g=0;
 for (var i=d.length-1;i>=0;i--) {
  var c=parseInt(d.charCodeAt(i));
  h=((h << 6) & 0xfffffff) + c + (c << 14);
  if ((g=h & 0xfe00000)!=0) h=(h ^ (g >> 21));
 }
 return h;
}
function _uFixA(c,s,t) {
 if (!c || c=="" || !s || s=="" || !t || t=="") return "-";
 var a=_uGC(c,"__utma="+_udh+".",s);
 var lt=0,i=0;
 if ((i=a.lastIndexOf(".")) > 9) {
  _uns=a.substring(i+1,a.length);
  _uns=(_uns*1)+1;
  a=a.substring(0,i);
  if ((i=a.lastIndexOf(".")) > 7) {
   lt=a.substring(i+1,a.length);
   a=a.substring(0,i);
  }
  if ((i=a.lastIndexOf(".")) > 5) {
   a=a.substring(0,i);
  }
  a+="."+lt+"."+t+"."+_uns;
 }
 return a;
}
function _uTrim(s) {
  if (!s || s=="") return "";
  while ((s.charAt(0)==' ') || (s.charAt(0)=='\n') || (s.charAt(0,1)=='\r')) s=s.substring(1,s.length);
  while ((s.charAt(s.length-1)==' ') || (s.charAt(s.length-1)=='\n') || (s.charAt(s.length-1)=='\r')) s=s.substring(0,s.length-1);
  return s;
}
function _uEC(s) {
  var n="";
  if (!s || s=="") return "";
  for (var i=0;i<s.length;i++) {if (s.charAt(i)==" ") n+="+"; else n+=s.charAt(i);}
  return n;
}
function __utmVisitorCode(f) {
 var r=0,t=0,i=0,i2=0,m=31;
 var a=_uGC(_ubd.cookie,"__utma="+_udh+".",";");
 if ((i=a.indexOf(".",0))<0) return;
 if ((i2=a.indexOf(".",i+1))>0) r=a.substring(i+1,i2); else return "";  
 if ((i=a.indexOf(".",i2+1))>0) t=a.substring(i2+1,i); else return "";  
 if (f) {
  return r;
 } else {
  var c=new Array('A','B','C','D','E','F','G','H','J','K','L','M','N','P','R','S','T','U','V','W','X','Y','Z','1','2','3','4','5','6','7','8','9');
  return c[r>>28&m]+c[r>>23&m]+c[r>>18&m]+c[r>>13&m]+"-"+c[r>>8&m]+c[r>>3&m]+c[((r&7)<<2)+(t>>30&3)]+c[t>>25&m]+c[t>>20&m]+"-"+c[t>>15&m]+c[t>>10&m]+c[t>>5&m]+c[t&m];
 }
}
function _uIN(n) {
 if (!n) return false;
 for (var i=0;i<n.length;i++) {
  var c=n.charAt(i);
  if ((c<"0" || c>"9") && (c!=".")) return false;
 }
 return true;
}
function _uES(s,u) {
 if (typeof(encodeURIComponent) == 'function') {
  if (u) return encodeURI(s);
  else return encodeURIComponent(s);
 } else {
  return escape(s);
 }
}
function _uUES(s) {
 if (typeof(decodeURIComponent) == 'function') {
  return decodeURIComponent(s);
 } else {
  return unescape(s);
 }
}
function _uVG() {
 if((_udn.indexOf("www.google.") == 0 || _udn.indexOf(".google.") == 0 || _udn.indexOf("google.") == 0) && _utcp=='/' && _udn.indexOf("google.org")==-1) {
  return false;
 }
 return true;
}
function _uSP() {
 var s=100;
 if (_usample) s=_usample;
 if(s>=100 || s<=0) return true;
 return ((__utmVisitorCode(1)%10000)<(s*100));
}
function urchinPathCopy(p){
 var d=document,nx,tx,sx,i,c,cs,t,h,o;
 cs=new Array("a","b","c","v","x","z");
 h=_uDomain(); if (_udn && _udn!="") o=" domain="+_udn+";";
 nx=_uNx()+";";
 tx=new Date(); tx.setTime(tx.getTime()+(_utimeout*1000));
 tx=tx.toGMTString()+";";
 sx=new Date(); sx.setTime(sx.getTime()+(_ucto*1000));
 sx=sx.toGMTString()+";";
 for (i=0;i<6;i++){
  t=" expires=";
  if (i==1) t+=tx; else if (i==2) t=""; else if (i==5) t+=sx; else t+=nx;
  c=_uGC(d.cookie,"__utm"+cs[i]+"="+h,";");
  if (c!="-") d.cookie="__utm"+cs[i]+"="+c+"; path="+p+";"+t+o;
 }
}
function _uCO() {
 if (!_utk || _utk=="" || _utk.length<10) return;
 var d='www.google.com';
 if (_utk.charAt(0)=='!') d='analytics.corp.google.com';
 _ubd.cookie="GASO="+_utk+"; path="+_utcp+";"+_udo;
 var sc=document.createElement('script');
 sc.type='text/javascript';
 sc.id="_gasojs";
 sc.src='https://'+d+'/analytics/reporting/overlay_js?gaso='+_utk+'&'+Math.random();
 document.getElementsByTagName('head')[0].appendChild(sc);  
}
function _uGT() {
 var h=location.hash, a;
 if (h && h!="" && h.indexOf("#gaso=")==0) {
  a=_uGC(h,"gaso=","&");
 } else {
  a=_uGC(_ubd.cookie,"GASO=",";");
 }
 return a;
}
var _utk=_uGT();
if (_utk && _utk!="" && _utk.length>10 && _utk.indexOf("=")==-1) {
 if (window.addEventListener) {
  window.addEventListener('load', _uCO, false); 
 } else if (window.attachEvent) { 
  window.attachEvent('onload', _uCO);
 }
}

function _uNx() {
  return (new Date((new Date()).getTime()+63072000000)).toGMTString();
}

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=go.gif
Content-Type: image/gif; name=go.gif
Content-Location: http://www.garagegames.com/images/go.gif
Content-Transfer-Encoding: Base64

R0lGODlhFAAUALMPAGtboZmRtv7+/62lxywgWFpUbId8q9nV5+bk7BMNKE47jzsm
gsnD3fHw9r211f///yH5BAEAAA8ALAAAAAAUABQAAAS28Ekp0GFuDHfa/JKFDUFg
nIYDPhUWAEocA3DgTUcGL3wvL4EJQtcr+haEwaPheBmfvYLFpOApaNUFtpfQOBeG
xuEgWAwaDIGBRyhQtWorQAAANqoEwjZwWFwBAQw9dEgJNDx8YGSBg3UJhllza3OU
dlUJBGs9YRZlZ2lrBAkFA0Z/fVo7C48DCAUEUE+iUg8DebE9oglBEgaYuLoGHw2+
mLBsugkGCCsBBY/Q0G4rQs66bQHMHxEAOw==

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=unapproved.gif
Content-Type: image/gif; name=unapproved.gif
Content-Location: http://www.garagegames.com/images/unapproved.gif
Content-Transfer-Encoding: Base64

R0lGODlhDwAPAPcAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgAQEBMSkROTcrPz8
/PTs1AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAwP8AAAD/AP//
AAAA//8A/wD//////yH5BAEAAAAALAAAAAAPAA8AAAhIAAEIHEiwoMAECBMqTDAw
AYKHECMqYHAQgcGBEyteFJgRgMONADp+3CjSIkmKHk1eLAmS5UmNLz0qmEmzZkcA
DHLq3IkSpMGAACH/C0xWaWV3UHJvMjAwADs=

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=hm_left.gif
Content-Type: image/gif; name=hm_left.gif
Content-Location: http://www.garagegames.com/images/hm_left.gif
Content-Transfer-Encoding: Base64

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

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=hm_right.gif
Content-Type: image/gif; name=hm_right.gif
Content-Location: http://www.garagegames.com/images/hm_right.gif
Content-Transfer-Encoding: Base64

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
ihrb+MY4zrGOd8zjHvv4x0AOsicCAQA7

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=cart.gif
Content-Type: image/gif; name=cart.gif
Content-Location: http://www.garagegames.com/images/cart.gif
Content-Transfer-Encoding: Base64

R0lGODlhEAAOAJEDAKurrNXV1lhYWv///yH5BAEAAAMALAAAAAAQAA4AAAI1nI8W
G+kDhHwoShCk3lkAtW2A1RgXw1yVl1jtNVpCeXQhmwTxjj1k93loRiqfZFF8LBQ0
RAEAOw==

------------FSMAydQEeIS4Y418adY7ve
Content-Disposition: inline; filename=sgo.gif
Content-Type: image/gif; name=sgo.gif
Content-Location: http://www.garagegames.com/images/sgo.gif
Content-Transfer-Encoding: Base64

R0lGODlhDgAPAMZAAO2sIvCuJe+uMPGvJ/WyHvO2IfG1Nfe5F/a4JPK7JPO3N/m6
GPW9GPS4Ofe+G/y9HvXDHvrBIP3DE/fEIfXARvfJFfTII/vIFvPESPnLGffKJ/zO
BPrSCfbHU/bQKvnSIPTPP/zUEPPQUPrYFPvVRf/YP/3cQfnYZvjYbfzZYPbbZ/zW
dP7XbvjdafzbcPvfZPbed/rfa/jfefrhev/jaPbkfP/djvjlffzhkPnmfvfnhf/i
i/zmjP/oiP388/7//P//////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
/////////////////yH5BAEKADoALAAAAAAOAA8AAAeEgDo6IBWFhhUaIII6HyOO
j5Aeg5CUjyIWIZkhNCaamhoTHKIcPT4lo6ITExusGzw/pq0bEw4ZthmvsCS3Dg4X
vxc7P8MpwAkOEskSOMMuyhIICBHTEcws1NMFBQ/cDzYr3d0EAwvl5uflAQ0E6OgE
FDoCAQME9fYDAAaLGA39/v0dBAUCADs=

------------FSMAydQEeIS4Y418adY7ve--
