<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0057)http://www.garagegames.com/community/resources/view/20949 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<link rel="icon" href="http://static.garagegames.com/static/images/theme/favicon.ico" type="image/x-icon">
		<link rel="shortcut icon" href="http://static.garagegames.com/static/images/theme/favicon.ico" type="image/x-icon">
		<meta name="Description" content="How to blow things up! Creating simple destroyables using Torque&#39;s built in damageState system. This time we look at 

using a Debris object to simulate our boulder being broken into fragments when it is destroyed.">
		<meta name="Keywords" content="torque powered, indie, independent game development community, marble blast, torque engine, think tanks">
		
        
				<title>Damage and Destruction: Part2 - Simple Destroyables Addendum | Michael Hall | Resources | Community | GarageGames.com</title>		<link href="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/ui.base.css" media="screen" rel="stylesheet" type="text/css">
<link href="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/ui.theme.css" media="screen" rel="stylesheet" type="text/css">
<link href="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/main.css" media="screen" rel="stylesheet" type="text/css">
<!--[if ie]> <link href="http://static.garagegames.com/static/styles/ie.css?rev=2" media="screen,print" rel="stylesheet" type="text/css" ><![endif]-->				<script type="text/javascript" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/ping"></script><script type="text/javascript" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/jquery.js"></script>
<script type="text/javascript" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/jquery-ui.js"></script>
<script type="text/javascript" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/plugins.js"></script>
<script type="text/javascript" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/gg.js"></script>
<script type="text/javascript">
    //<!--

	$().ready(initStuff);
	
	function initStuff() {
		$('.relevantProductFilter').live('click', function(){
			var slug = $(this).val();
			if(slug != 0) {
				if($(this).is(':checked')) {
					window.location = "/community/resources/all/"+slug+",";
				} else {
					var products = "".replace(slug + ',','');
					window.location = "/community/resources/all/" + products;
				}
			} else {
				window.location = "/community/resources";
			}
		});
	
		$('#what-can-i-do-here-arrow').unbind('mouseup').qtip({
			content: {
				text: $('#actions-list-container').html(),
				title: {
					text: 'Actions',
					button: 'close'
				}
			},
			position: {
				corner: {
					target: 'bottomRight',
					tooltip: 'topRight'
				},
				adjust: {
					x: -12
				}
			},
			show: 'click',
			hide: 'unfocus',
			style: {
				width: 150,
				tip: true,
				name: 'gg'
			},
			api: {
				onHide: function() {
					this.elements.target.removeClass('ui-state-active');
				}
			}
		});

		$('#filter-action-arrow').unbind('mouseup').qtip({
			content: {
				text: $('#filter-action-container').html(),
				title: {
					text: 'Filters',
					button: 'close'
				}
			},
			position: {
				corner: {
					target: 'bottomRight',
					tooltip: 'topRight'
				},
				adjust: {
					x: -12
				}
			},
			show: 'click',
			hide: 'unfocus',
			style: {
				width: 200,
				tip: true,
				name: 'gg'
			},
			api: {
				onHide: function() {
					this.elements.target.removeClass('ui-state-active');
				}
			}
		});
	}
    //-->
</script>	<style type="text/css">.dp-cpp .datatypes { color: #2E8B57; font-weight: bold; }</style><style type="text/css">.dp-cpp .datatypes { color: #2E8B57; font-weight: bold; }</style><style type="text/css">.dp-cpp .datatypes { color: #2E8B57; font-weight: bold; }</style><style type="text/css">.dp-cpp .datatypes { color: #2E8B57; font-weight: bold; }</style></head>
<body><div id="WzTtDiV" style="visibility: hidden; position: absolute; overflow-x: hidden; overflow-y: hidden; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; left: 0px; top: 0px; width: 0px; "></div>
		<script type="text/javascript" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/wz_tooltip.js"></script>
<div id="container">
	<div id="header">
		<div id="header-left"></div>
		<div id="header-center">
			<a href="http://www.garagegames.com/" id="header-home-link">Game Development Tools and Software</a>
			<div id="menu_bar">
				<div id="breadcrumbs">
	</div>

<ul id="main-nav">
	<li class="stub" id="main-nav-home"><a href="http://www.garagegames.com/">Home</a></li><li class="main-nav" id="main-nav-products"><a href="http://www.garagegames.com/products/torque-3d">Engines</a><ul class="sub-nav" id="sub-menu-products"><li><a href="http://www.garagegames.com/products/torque-3d">Torque 3D</a></li><li><a href="http://www.garagegames.com/products/torque-2d">Torque 2D</a></li><li><a href="http://www.garagegames.com/products/torque-2d/iphone">iTorque 2D</a></li><li><a href="http://www.garagegames.com/products/torque-x">Torque X</a></li><li><a href="http://www.garagegames.com/products/consoles">For Consoles</a></li><li><a href="http://www.garagegames.com/products/education">Educational Use</a></li><li><a href="http://www.garagegames.com/best-of-torque/torque-3d">Made with Torque</a></li></ul></li><li class="main-nav" id="main-nav-addons"><a href="http://www.garagegames.com/products/browse">Add-ons</a><ul class="sub-nav" id="sub-menu-addons"><li><a href="http://www.garagegames.com/products/browse/genrekits">Genre Kits</a></li><li><a href="http://www.garagegames.com/products/browse/tools">Tools</a></li><li><a href="http://www.garagegames.com/products/browse/artpacks">Art Packs</a></li><li><a href="http://www.garagegames.com/products/browse/games">Games</a></li></ul></li><li class="main-nav" id="main-nav-community"><a href="http://www.garagegames.com/community">Community</a><ul class="sub-nav" id="sub-menu-community"><li><a href="http://www.garagegames.com/community">What's New</a></li><li><a href="http://www.garagegames.com/community/blogs">Blogs</a></li><li><a href="http://www.garagegames.com/community/resources">Resources</a></li><li><a href="http://www.garagegames.com/community/forums">Forums</a></li><li><a href="http://www.garagegames.com/best-of-torque/interviews">Dev&nbsp;Interviews</a></li></ul></li><li class="main-nav" id="main-nav-support"><a rel="nofollow" href="http://www.garagegames.com/support">Support</a><ul class="sub-nav" id="sub-menu-support"><li><a href="http://www.garagegames.com/documentation">Documentation</a></li><li><a rel="nofollow" href="http://www.garagegames.com/support/bugs">Submit Bugs</a></li><li><a rel="nofollow" href="http://www.garagegames.com/support/paid">Paid Support</a></li></ul></li><li class="main-nav" id="main-nav-company"><a rel="nofollow" href="http://www.garagegames.com/company">Company</a><ul class="sub-nav" id="sub-menu-company"><li><a rel="nofollow" href="http://www.garagegames.com/company">About Garage Games</a></li><li><a rel="nofollow" href="http://www.garagegames.com/company/employment">Employment</a></li><li><a rel="nofollow" href="http://www.garagegames.com/company/licensing">Licensing</a></li><li><a rel="nofollow" href="http://www.garagegames.com/FAQ">Licensing FAQ</a></li><li><a rel="nofollow" href="http://www.garagegames.com/company/feeds">RSS Feeds</a></li><li><a rel="nofollow" href="http://www.garagegames.com/company/logo-guidelines">Logo Guidelines</a></li><li><a rel="nofollow" href="http://www.garagegames.com/company/contact">Contact Us</a></li></ul></li></ul>				<div id="traceout"></div>
				<div class="clear"></div>
			</div>
		</div>
		<div id="header-right">
							<div id="header-welcome"><span>Welcome,</span> Bloodknight</div>
						<ul id="header-status">
				
		<li id="header-logout"><a rel="nofollow" href="https://www.garagegames.com/account/logout"><span></span>Logout</a></li>
	<li id="header-cart" style="width: 80px"><a rel="nofollow" href="https://www.garagegames.com/store" id="cartLink"><span></span>Cart <em id="cart-count">(0)</em></a></li>
	<li id="header-account"><a rel="nofollow" href="http://www.garagegames.com/account"><span></span>My Account</a>
		<ul class="myaccount-options">
			<li><a rel="nofollow" href="http://www.garagegames.com/account">My Products</a></li>
						<li><a rel="nofollow" href="http://www.garagegames.com/account/studio">My Studio</a></li>
						<li><a rel="nofollow" href="http://www.garagegames.com/account/profile/74950">My Profile</a></li>
			<li><a rel="nofollow" href="http://www.garagegames.com/account/settings">My Settings</a></li>
					</ul>
	</li>	
			</ul>
			<div id="search-container">
                <form action="" onsubmit="searchSubmit(); return false;" method="get" id="search" name="search_form">
                        <input type="text" name="q" id="top-keywords" class="formTip" value="" title="Search site" maxlength="255">
                        <input type="image" id="top-submit" onclick="searchSubmit(); return false;" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/search-bar-main-btn.png" alt="Search">
                </form>
                
                <script type="text/javascript">
                function searchSubmit() {
                	var search = $('#top-keywords').val();
                	window.location = '/community/search#'+search;
                }
                </script>
			</div>
		</div>
	</div>
	<!-- /header -->
	<div id="console"></div>
	<div id="content">
		<div id="maincol">
						<!-- content --><div class="section-container ui-corner-all" id="communityshell">
	<div class="section-header">
		<h2 style="float: left;"><span style="display: none;">Game Development</span> Community</h2>
		<div class="section-banner">
			
		</div>
		<div class="section-buttons">
			<div id="search-bar-sub-left">
				<form action="http://www.garagegames.com/search/advanced" onsubmit="searchSubmit(); return false;" method="get">
																<input type="hidden" name="locations[]" value="resource">
										<input type="text" name="search" id="search-bar-sub-mid" class="formTip" value="" title="Search resources" maxlength="255">
					<input type="image" id="search-bar-sub-right" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/search-bar-sub-right.png" alt="Search">
				</form>
				
				<script type="text/javascript">
                function searchSubmit() {
                	var search = $('#search-bar-sub-mid').val();
                	window.location = '/community/search#'+search;
                }
                </script>
			</div>
		</div>
		<div class="clear"></div>
	</div>
	<div class="section-tabs">
		<ul>
			<li><a class="" href="http://www.garagegames.com/community">What's New</a></li>
			<li><a class="" href="http://www.garagegames.com/community/blogs">Blogs</a></li>
			<li><a class="current" href="http://www.garagegames.com/community/resources">Resources</a></li>
			<li><a class="" href="http://www.garagegames.com/community/forums">Forums</a></li>
		</ul>
											<a href="http://www.garagegames.com/community/resources/view/20949#" onclick="return false;" rel="nofollow" id="what-can-i-do-here-arrow" class="button ui-state-default ui-corner-all">
							<span style="float: right; margin-top: 2px;" class="ui-icon ui-icon-circle-triangle-s">More actions</span>
							More
						</a>
						<a rel="nofollow" id="what-can-i-do-here" class="button ui-state-default ui-corner-all" href="http://www.garagegames.com/community/resources/add">
							Add a Resource
						</a>
												<a href="http://www.garagegames.com/community/resources/view/20949#" onclick="return false;" rel="nofollow" id="filter-action-arrow" class="button ui-state-default ui-corner-all">
				<span style="float: right; margin-top: 2px;" class="ui-icon ui-icon-circle-triangle-s">Filter</span>
				Filter
			</a>
				<div class="clear"></div>
	</div>
	<div class="section-content">
				
<div id="blog-container">
	<div id="blog-content">
						<h1>Damage and Destruction: Part2 - Simple Destroyables Addendum</h1>
		<p class="date" style="margin-bottom: 5px;">
			by <a href="http://www.garagegames.com/account/profile/106163">Michael Hall</a>
			<strong>·</strong>
			04/10/2011 (6:50 pm)			<strong>·</strong>
			5 comments
		</p>
		<div id="blogContent" class="type-resource">
			<div class="body">Ok, picking up where we left off in the <a rel="nofollow" href="http://www.garagegames.com/community/resources/view/20937">previous Resource</a>:  <br>
<br>
<b>What is a Debris Object?</b><br>
A debris object is a shape that when it's parent object is destroyed will simulate that object being broken apart.  This is useful for things like player giblets, vehicle wreckage, etc.  The debris you see in the previous Damage and Destruction Resource is from the explosion object and is simply another effect, just like that of the particles, except that it has a shape and some limited physics.  The explosion's debris effect is non-breaking.  Notice how that word "debris" is getting used for two different features?  Well, to make it even more confusing the associated datablocks for each one are almost exactly the same and are of the same Class.  The only difference?  A debris object get's it shapefile to use from the original object's datablock.  A debris effect names it's shapefile itself.  Make sense?  Hope so, cause now we're moving on to a needed bug fix if we want to use this <i>blowup</i> functionality.<br>
<br>
<b>A Bug:</b><br>
Mention was made about a game crashing bug related to using debris objects in the previous Resource.  The actual bug and fix was reported by Guy Allard in <a rel="nofollow" href="http://www.garagegames.com/community/forums/viewthread/125321">this</a> thread.<blockquote><span>Quote:</span><br>
Assigning a debrisShapeName to the datablock for a ShapeBase derived object causes the engine to crash when the objects damage state == Destroyed and ShapeBase::blowUp() is invoked. This is due to Debris::prepRenderImage using a bad pointer.</blockquote>So fire up Visual Studio, add Guy's suggested fix, and recompile your project.  Take note that with this fix this means that the player debris will actually work now as well :)<br>
<br>
<b>Suggested Fix:</b><br>
In Debris.cpp, find Debris::prepRenderImage()<br>
Change:<div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-cpp"><li class="alt"><span><span class="keyword">if</span><span>(mPart)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;mShape-&gt;setDetailFromDistance(state,&nbsp;dist&nbsp;*&nbsp;invScale);&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="cpp" style="display: none; ">if(mPart)  
   mShape-&gt;setDetailFromDistance(state, dist * invScale);</pre>To:<div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-cpp"><li class="alt"><span><span class="keyword">if</span><span>(mPart)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;get&nbsp;the&nbsp;shapeInstance&nbsp;that&nbsp;we&nbsp;are&nbsp;using&nbsp;for&nbsp;the&nbsp;debris&nbsp;parts&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TSShapeInstance&nbsp;*si&nbsp;=&nbsp;mPart-&gt;getSourceShapeInstance();&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;set&nbsp;the&nbsp;correct&nbsp;detail&nbsp;level&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span><span>(si)&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;si-&gt;setDetailFromDistance(state,&nbsp;dist&nbsp;*&nbsp;invScale);&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="cpp" style="display: none; ">if(mPart)  
   {  
      // get the shapeInstance that we are using for the debris parts  
      TSShapeInstance *si = mPart-&gt;getSourceShapeInstance();  
           
      // set the correct detail level  
      if(si)  
         si-&gt;setDetailFromDistance(state, dist * invScale);  
   }</pre>Line numbers are different between 1.1 Beta 3 and 1.1 Preview, but are found near to line 830 in both.<br>
<br>
<b>Necessary Asset:</b>  <br>
<a rel="nofollow" href="http://torque.abigholeintheweb.com/public_system/useruploads/bouldDebris.zip" target="_blank"><b>Here</b></a> is a sample boulderDebris shape provided by user <a rel="nofollow" href="http://www.garagegames.com/account/profile/20871">Rex</a> of BrokeAss Games.  Since we're using a boulder as the example it makes sense to have some boulder-type debris doesn't it ;)<br>
<i>Thank you Rex</i><br>
<br>
<b>Putting It All Together:</b><br>
Place the boulderDebris.dts with the boulder.dts that you already have.  In stock Full Template this location is <i>art/shapes/rocks</i>.  Now we need a new debris datablock and to make sure that our BouncingBoulder datablock is pointing to the new asset.  First, in the same rigidShape.cs script that we were working with in the previous resource add this datablock - for organization I placed mine right after the debris datablock we were already using for the explosion.<div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-cpp"><li class="alt"><span><span>datablock&nbsp;DebrisData(BoulderChunks)&nbsp;&nbsp;</span></span></li><li class=""><span>{&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;This&nbsp;is&nbsp;set&nbsp;in&nbsp;the&nbsp;original&nbsp;object's&nbsp;datablock,&nbsp;see&nbsp;the&nbsp;debrisShapeName</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;field.&nbsp;&nbsp;If&nbsp;you&nbsp;set&nbsp;it&nbsp;here&nbsp;we&nbsp;won't&nbsp;get&nbsp;breakage.</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;<span class="comment">//shapeFile&nbsp;=&nbsp;"";&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;If&nbsp;explodeOnMaxBounce&nbsp;is&nbsp;set&nbsp;to&nbsp;true&nbsp;then&nbsp;we&nbsp;need&nbsp;an&nbsp;explosion</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;<span class="comment">//explosion&nbsp;=&nbsp;;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;An&nbsp;array&nbsp;of&nbsp;emitters&nbsp;for&nbsp;things&nbsp;such&nbsp;as&nbsp;smoke&nbsp;trails,&nbsp;sparks,&nbsp;etc&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;<span class="comment">//emitters&nbsp;=&nbsp;"";</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;velocity&nbsp;=&nbsp;5;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;velocityVariance&nbsp;=&nbsp;2.5;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;elasticity&nbsp;=&nbsp;0.25;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;friction&nbsp;=&nbsp;0.5;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;numBounces&nbsp;=&nbsp;3;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;bounceVariance&nbsp;=&nbsp;2;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;minSpinSpeed&nbsp;=&nbsp;25;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;maxSpinSpeed&nbsp;=&nbsp;250;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;explodeOnMaxBounce&nbsp;=&nbsp;<span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;staticOnMaxBounce&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;snapOnMaxBounce&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;lifetime&nbsp;=&nbsp;10;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;lifetimeVariance&nbsp;=&nbsp;2;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;render2D&nbsp;=&nbsp;<span class="keyword">false</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;fade&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;useRadiusMass&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;baseRadius&nbsp;=&nbsp;0.3;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;gravModifier&nbsp;=&nbsp;0.5;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;terminalVelocity&nbsp;=&nbsp;10;&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;ignoreWater&nbsp;=&nbsp;<span class="keyword">true</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>};&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="cpp" style="display: none; ">datablock DebrisData(BoulderChunks)
{
   // This is set in the original object's datablock, see the debrisShapeName
   // field.  If you set it here we won't get breakage.
   //shapeFile = ""; 
	
   // If explodeOnMaxBounce is set to true then we need an explosion
   //explosion = ; 
   
   // An array of emitters for things such as smoke trails, sparks, etc  
   //emitters = "";
   
   velocity = 5;
   velocityVariance = 2.5;
   
   elasticity = 0.25;
   friction = 0.5;
   numBounces = 3;
   bounceVariance = 2;
   
   minSpinSpeed = 25;
   maxSpinSpeed = 250;
   
   explodeOnMaxBounce = false;
   staticOnMaxBounce = true;
   snapOnMaxBounce = true;
   
   lifetime = 10;
   lifetimeVariance = 2;
   
   render2D = false;
   fade = true;
   
   useRadiusMass = true;
   baseRadius = 0.3;
   gravModifier = 0.5;
   terminalVelocity = 10;
   
   ignoreWater = true;
};</pre>And make sure that the BouncingBoulder datablock is pointing to our new shape and Debris datablock.  Modify the following fields in the BouncingBoulder datablock to read like these:<div class="dp-highlighter"><div class="bar"><div class="tools"><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;">view plain</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;">print</a><a href="http://www.garagegames.com/community/resources/view/20949#" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;">?</a></div></div><ol start="1" class="dp-cpp"><li class="alt"><span><span class="comment">//&nbsp;This&nbsp;is&nbsp;the&nbsp;shapefile&nbsp;that&nbsp;our&nbsp;debris&nbsp;object&nbsp;will&nbsp;use&nbsp;when&nbsp;destroyed,</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="comment">//&nbsp;this&nbsp;is&nbsp;not&nbsp;the&nbsp;explosion&nbsp;debris</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>debrisShapeName&nbsp;=&nbsp;<span class="string">"art/shapes/rocks/boulderDebris.dts"</span><span>;&nbsp;&nbsp;</span></span></li><li class=""><span>debris&nbsp;=&nbsp;BoulderChunks;&nbsp;&nbsp;</span></li></ol></div><pre name="code" class="cpp" style="display: none; ">// This is the shapefile that our debris object will use when destroyed,
// this is not the explosion debris
debrisShapeName = "art/shapes/rocks/boulderDebris.dts";
debris = BoulderChunks;</pre>Notice that the big difference between the explosion's debris datablock and our new debris object datablock is that the debris object datablock does not include a shapeFile.  If you remove the path in a Debris datablock the engine will use the debrisShapeName that you set in the original object's datablock and apply Shapebase::blowUp() to that shape.  If you do declare a shape in the Debris datablock then you get regular explosion fx debris that doesn't break  apart into chunks.<br>
<br>
And there you have it, now the boulder will take damage, explode, and break into chunks of rock.<br>
<img src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/screenshot_001-00003.png" alt="i167.photobucket.com/albums/u143/heretek/screenshot_001-00003.png?t=1302489537"></div>
		</div>
		<div class="clear"></div>
	</div>
	<div style="background: #EEE; border: 1px solid #CCC; padding: 5px; margin-top: 15px;">
		<div class="left" style="width: 184px; text-align: center;">
			<img class="profilepic" src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/106163.png" alt="Michael Hall&#39;s profile picture">
			<br>
			<a rel="Michael Hall" class="associate button profile-link ui-state-default ui-corner-all" href="http://www.garagegames.com/account/miniprofile/accountID/106163" onclick="return false;">
	<span style="float: left; margin-right: 2px;" class="torque-icon-associate">Associate</span>
	Michael Hall<br>
	<span class="studio-name"> Big Kid Games</span>
</a>		</div>
		<div class="left" style="width: 340px; margin: 0 15px;">
			<h3 style="margin: 5px 0px;">About the author</h3>
			<p style="text-align: left;">
							</p>
		</div>
		<div class="left" style="width: 300px;">
			<h3 style="margin: 5px 0px;">Recent Blogs</h3>
							•&nbsp;<a href="http://www.garagegames.com/community/blogs/view/21016">Damage and Destruction: Part5 - Destroyable Class Methods</a><br>							•&nbsp;<a href="http://www.garagegames.com/community/blogs/view/21009">Damage and Destruction: Part4 - Damage Effects (Sound). </a><br>							•&nbsp;<a href="http://www.garagegames.com/community/blogs/view/21006">Damage and Destruction: Part3 - OnHit Damage Effects</a><br>							•&nbsp;<a href="http://www.garagegames.com/community/blogs/view/20937">Damage and Destruction:  Part1 - Simple Destroyables</a><br>							•&nbsp;<a href="http://www.garagegames.com/community/blogs/view/20255">Improved PlayDeathAnimation</a><br>					</div>
		<div class="clear"></div>
	</div>
	<div class="clear"></div>
</div>

<div id="page-turner" class="separator-950">
	<div class="right">
							<a href="http://www.garagegames.com/community/blogs/view/20950"><span class="right-arrow">Next</span>Next resource</a>
				
	</div>
	<div class="left">
							<a href="http://www.garagegames.com/community/blogs/view/20947"><span class="left-arrow">Prev</span>Previous resource</a>
			</div>
	<div class="center"><a href="http://www.garagegames.com/community/resources">More resources</a></div>
	<div class="clear"></div>
</div>

<div>
	<a name="comments"></a>
		<br>	<div class="clear"></div>
	<div style="text-align: center;">
									<a href="http://www.garagegames.com/community/resource/view/20949#comment_form">+Add a comment</a><p></p>
				<label style="margin-left: 25px;" for="notify-me"><input type="checkbox" name="notify-me" id="notify-me" onchange="GG.blogNotify(20949, 74950);">Notify me of new comments</label>
						</div>
	<div class="clear" style="margin: 10px;"></div>
	<div id="commentList">
										<div class="comment">
		<div class="author">
			<img src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/20871.png" class="profilepic">
			<br>
			<a rel="Rex" class="member button profile-link ui-state-default ui-corner-all" href="http://www.garagegames.com/account/miniprofile/accountID/20871" onclick="return false;">
	<span style="margin-right: 5px; float: left" class="torque-icon">Torque Owner</span>
	Rex<br>
	<span class="studio-name">BrokeAss Games</span>
</a>		</div>
		<div class="body">
			<a class="button ui-state-default ui-corner-all" style="padding: 2px; font-size: 10px; margin: 0 2px; height: 16px; text-align: center; float: right;" href="http://www.garagegames.com/community/resources/view/20949/1#comment-174588" name="comment-174588">#1</a>
									<div style="border-bottom: 1px solid #DDD; margin-top: -5px; padding-bottom: 1px; margin-bottom: 5px;">
				<em style="padding-top: 2px; float: left;">04/11/2011 (1:52 am)</em>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
			NB:  The first boulderDebris.DTS I sent Michael seemed to have some trouble 'breaking apart'.  I think this was due to the shape's hierarchy, something Guy alluded to in his Bug Thread.<br>
<br>
My first sample had a totally 'childless' chain in the hierarchy, or what I refer to has a 'flat' hierarchy; there is no 'parent' node in the Scene[or each node is a parent with no children].  This sample file didn't break up upon 'explosion'|'blowup', you got one single piece of geometry in the effect?!?  Michael can confirm this??<br>
<br>
For the second sample sent to Michael, I changed the hierarchy slightly.  I left the 'Root' node in the object to act as the 'parent' node and all of the geometry nodes were child nodes of the 'Root'.  This seemed to give the shape it's needed hierarchy to 'explode' into fragments.  I used Milkshape3D to export the DTS shape and with that exporter, you get a generated node for each piece of 'rigid' geometry[that geometry weighted to a SINGLE node influence].  I am not sure if a 'skinned' mesh object will act as a 'fragment' or not; the geometry may need to be 'rigid' or at least an 'object' in the shape's properties....sorry to toss some art babble into the code discussion, Michael, but I think it part of the exercise.<br>
<br>
Dev on, everybody!  Essplode as you will....FTW!<br>
<br>
<br>
<br>
@Michael: "Damage" is another basic functionality effect that needs better exposure of it's potential....<br>
<br>
@all:...used as the beginning of the process, it can trigger effects from the object[sequences, etc] receiving 'damage'.  Try giving any object a 'damage' animation sequence and see what happens during that state...heh-heh.		</div>
		<div class="clear"></div>
	</div>
								<div class="comment">
		<div class="author">
			<img src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/73506.jpg" class="profilepic">
			<br>
			<a rel="Novack" class="member button profile-link ui-state-default ui-corner-all" href="http://www.garagegames.com/account/miniprofile/accountID/73506" onclick="return false;">
	<span style="float: left; margin-right: 2px;" class="torque-icon-3d">Torque 3D Owner</span>
	Novack
</a>		</div>
		<div class="body">
			<a class="button ui-state-default ui-corner-all" style="padding: 2px; font-size: 10px; margin: 0 2px; height: 16px; text-align: center; float: right;" href="http://www.garagegames.com/community/resources/view/20949/1#comment-174591" name="comment-174591">#2</a>
									<div style="border-bottom: 1px solid #DDD; margin-top: -5px; padding-bottom: 1px; margin-bottom: 5px;">
				<em style="padding-top: 2px; float: left;">04/11/2011 (5:12 am)</em>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
			Guys, astonishing work!<br>
<br>
I've been following the progression since the first Michael resource, and noticed how the community converged ina  vortex of cooperation and creation.<br>
<br>
Thanks To Michael, Guy, and Rex!		</div>
		<div class="clear"></div>
	</div>
								<div class="comment">
		<div class="author">
			<img src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/blank-user.jpg" class="profilepic">
			<br>
			<a rel="JulianR" class="member button profile-link ui-state-default ui-corner-all" href="http://www.garagegames.com/account/miniprofile/accountID/69305" onclick="return false;">
	<span style="float: left; margin-right: 2px;" class="torque-icon-3d">Torque 3D Owner</span>
	JulianR<br>
	<span class="studio-name">Something2Play</span>
</a>		</div>
		<div class="body">
			<a class="button ui-state-default ui-corner-all" style="padding: 2px; font-size: 10px; margin: 0 2px; height: 16px; text-align: center; float: right;" href="http://www.garagegames.com/community/resources/view/20949/1#comment-174600" name="comment-174600">#3</a>
									<div style="border-bottom: 1px solid #DDD; margin-top: -5px; padding-bottom: 1px; margin-bottom: 5px;">
				<em style="padding-top: 2px; float: left;">04/11/2011 (10:29 am)</em>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
			Nice Resource Michael.  Do you plan on doing any terrain altering damage resources based on projectiles?  Its my next step.. if you do, I'll wait to see what you come up with first.		</div>
		<div class="clear"></div>
	</div>
								<div class="comment">
		<div class="author">
			<img src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/106163.png" class="profilepic">
			<br>
			<a rel="Michael Hall" class="associate button profile-link ui-state-default ui-corner-all" href="http://www.garagegames.com/account/miniprofile/accountID/106163" onclick="return false;">
	<span style="float: left; margin-right: 2px;" class="torque-icon-associate">Associate</span>
	Michael Hall<br>
	<span class="studio-name"> Big Kid Games</span>
</a>		</div>
		<div class="body">
			<a class="button ui-state-default ui-corner-all" style="padding: 2px; font-size: 10px; margin: 0 2px; height: 16px; text-align: center; float: right;" href="http://www.garagegames.com/community/resources/view/20949/1#comment-174619" name="comment-174619">#4</a>
									<div style="border-bottom: 1px solid #DDD; margin-top: -5px; padding-bottom: 1px; margin-bottom: 5px;">
				<em style="padding-top: 2px; float: left;">04/12/2011 (10:11 am)</em>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
			@Rex:  artist babble is welcome, glad that you chimed in.  I know all about triggering damage animation sequences.  It's something that is often overlooked and not utilized but has always been in there, but eventually this Resource series will cover what's needed (not much) to make it all work.<br>
<br>
@Novack:  yeah, it's great seeing everyone come together to bash at things from many different angles.  <br>
<br>
@JulianR:  well... terrain altering isn't really in the plan.  Simply because I haven't attempted to see what it would take to make it work.  Though it would certainly be nice to have.  <br>
		</div>
		<div class="clear"></div>
	</div>
								<div class="comment">
		<div class="author">
			<img src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/83642.png" class="profilepic">
			<br>
			<a rel="Daniel Fasel" class="member button profile-link ui-state-default ui-corner-all" href="http://www.garagegames.com/account/miniprofile/accountID/83642" onclick="return false;">
	<span style="float: left; margin-right: 2px;" class="torque-icon-3d">Torque 3D Owner</span>
	Daniel Fasel
</a>		</div>
		<div class="body">
			<a class="button ui-state-default ui-corner-all" style="padding: 2px; font-size: 10px; margin: 0 2px; height: 16px; text-align: center; float: right;" href="http://www.garagegames.com/community/resources/view/20949/1#comment-174634" name="comment-174634">#5</a>
									<div style="border-bottom: 1px solid #DDD; margin-top: -5px; padding-bottom: 1px; margin-bottom: 5px;">
				<em style="padding-top: 2px; float: left;">04/13/2011 (3:06 am)</em>
				<div class="clear"></div>
			</div>
			<div class="clear"></div>
			I did test both resources, and it works fine on my game now. TY for that.		</div>
		<div class="clear"></div>
	</div>
							<div class="clear"></div>
	</div>
	<br>	<div class="clear"></div>
			<div id="commentForm" style="text-align: center;">
			<a name="comment_form" id="comment_form"></a>
							<form action="http://www.garagegames.com/community/resources/view/20949/1" method="post">
					<dl>
						
<dt id="body-label"><label for="formBody" class="required">Add Your Comment (<a href="http://www.garagegames.com/community/resources/view/20949#" onclick="return false;" id="ml-link">MarkupLite is enabled</a>)</label></dt>
<dd id="body-element">
<textarea name="body" id="formBody" rows="10" cols="120" class="big"></textarea></dd>					</dl>
					<div class="clear"></div>
					<div style="float: left; width: auto; margin-left: 42%; margin-top: 10px;">
						<div style="height: 0px; overflow: hidden;">
	<input type="submit" name="Post Comment" value="Post Comment">
</div>
<a href="http://www.garagegames.com/community/resources/view/20949#" onclick="$(this).closest(&#39;form&#39;).submit(); return false;" class="submit button ui-state-default ui-corner-all">Post Comment</a>					</div>
				</form>
				<div class="clear"></div>
				
					</div>
		<div class="clear"></div>
</div>		<div class="clear"></div>
	</div>
	<div class="section-footer"></div>
</div>

<div id="actions-list-container">
	<span id="actions-list">
		<a href="http://www.garagegames.com/community/blogs/add">Post a blog</a><br>
		<a href="http://www.garagegames.com/community/resources/add">Add a resource</a><br>
					<a href="http://www.garagegames.com/community/forums/new">Start a Thread</a><br>
			</span>
</div>

<div id="filter-action-container" style="display: none;">
	<span id="actions-list">
	<input type="checkbox" class="relevantProductFilter" value="0"> All Products<br>
		<input type="checkbox" class="relevantProductFilter" value="other"> 3rd Party Addons<br>
		<input type="checkbox" class="relevantProductFilter" value="itorque2d"> iTorque 2D<br>
		<input type="checkbox" class="relevantProductFilter" value="itorque3d"> iTorque 3D<br>
		<input type="checkbox" class="relevantProductFilter" value="tge"> TGE<br>
		<input type="checkbox" class="relevantProductFilter" value="tgea"> TGEA<br>
		<input type="checkbox" class="relevantProductFilter" value="torque3dpro"> Torque 3D Pro<br>
		<input type="checkbox" class="relevantProductFilter" value="torquex"> Torque X<br>
		</span>
</div>

<!-- /content -->
			<div class="clear"></div>
		</div>
	</div>
	<!-- /container -->
	<div class="clear"></div>
	<br>
	<div id="footer-links">
	<a href="http://www.garagegames.com/">Home</a>
	<a href="http://www.garagegames.com/products">Products</a>
	<a href="http://www.garagegames.com/community">Community</a>
	<a href="http://www.garagegames.com/support">Support</a>
	<a href="http://www.garagegames.com/company">Company</a>
</div>	<div id="footer">
		<p>Copyright © GarageGames.com 2000 - 2011 All Rights Reserved. <a href="http://www.garagegames.com/company/tos">Terms of Service</a> - <a href="http://www.garagegames.com/company/privacy">Privacy Policy</a></p>
			</div>
	<script type="text/javascript">
		var STATIC_HOST = 'http://static.garagegames.com';
	</script>
	<script type="text/javascript">
		var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
		document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script><script src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/ga.js" type="text/javascript"></script>
	<script type="text/javascript">
				var pageTracker = _gat._getTracker('UA-6057184-2');
					pageTracker._trackPageview('/community/resource/view/20949');
				
	</script>
	<script type="text/javascript">
		$().ready(getTimezoneAjax);
		function getTimezoneAjax() {
			var d = new Date();
			var offset = d;
			var params = { timezone: offset };
			$.get('/index/settimezone', params);
		}
	</script>
</div>
<div id="supersecrethiddendiv"></div>
<script src="./Damage and Destruction  Part2 - Simple Destroyables Addendum   Michael Hall   Resources   Community   GarageGames.com_files/cf_tools.min.js" async="true"></script><script type="text/javascript">
//<![CDATA[
window.__CF=window.__CF||{};window.__CF.u="/cdn-cgi/async/cf/uri/";window.__CF.p="bc/0638c741769f9452bad4820a60d326";window.__CF.o=1;window.__CF.c=1;(function(){var a=document,b=a.createElement("script");b.src="//ajax.cloudflare.com/cdn-cgi/nexp/v=918368360/cf_tools.min.js";b.setAttribute("async","true");a=a.getElementsByTagName("script");a=a[a.length-1];a.parentNode.insertBefore(b,a)})();
//]]>
</script>

<div id="fancy_overlay"></div><div id="fancy_wrap"><div class="fancy_loading" id="fancy_loading"><div></div></div><div id="fancy_outer"><div id="fancy_inner"><div id="fancy_close"></div><div id="fancy_bg"><div class="fancy_bg fancy_bg_n"></div><div class="fancy_bg fancy_bg_ne"></div><div class="fancy_bg fancy_bg_e"></div><div class="fancy_bg fancy_bg_se"></div><div class="fancy_bg fancy_bg_s"></div><div class="fancy_bg fancy_bg_sw"></div><div class="fancy_bg fancy_bg_w"></div><div class="fancy_bg fancy_bg_nw"></div></div><a href="javascript:;" id="fancy_left"><span class="fancy_ico" id="fancy_left_ico"></span></a><a href="javascript:;" id="fancy_right"><span class="fancy_ico" id="fancy_right_ico"></span></a><div id="fancy_content"></div><div id="fancy_title"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="fancy_title" id="fancy_title_left"></td><td class="fancy_title" id="fancy_title_main"><div></div></td><td class="fancy_title" id="fancy_title_right"></td></tr></tbody></table></div></div></div></div></body></html>